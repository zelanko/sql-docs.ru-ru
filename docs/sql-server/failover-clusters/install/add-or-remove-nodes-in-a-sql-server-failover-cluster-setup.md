---
title: Добавление и удаление узлов отказоустойчивого кластера
description: В этой статье описывается, как добавлять или удалять узлы в существующем экземпляре отказоустойчивого кластера SQL Server.
ms.custom: seo-lt-2019
ms.date: 12/13/2019
ms.reviewer: ''
ms.prod: sql
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- adding nodes
- nodes [Faillover Clustering], removing
- nodes [Faillover Clustering], adding
- failover clustering [SQL Server], nodes
- deleting nodes
- cluster maintenance [SQL Server]
- removing nodes
ms.assetid: fe20dca9-a4c1-4d32-813d-42f1782dfdd3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9ae9ae1f58bf615362e16ebffef8926437c99a9f
ms.sourcegitcommit: f7ac1976d4bfa224332edd9ef2f4377a4d55a2c9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85900507"
---
# <a name="add-or-remove-nodes-in-a-sql-server-failover-cluster-setup"></a>Добавление или удаление узлов отказоустойчивого кластера SQL Server (программа установки)
[!INCLUDE [SQL Server](../../../includes/applies-to-version/sqlserver.md)]
  С помощью данной процедуры осуществляется управление узлами в существующем экземпляре отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
 Для обновления или удаления отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] необходимо обладать правами локального администратора с разрешением на вход в систему в качестве службы на всех узлах отказоустойчивого кластера. Для локальных установок необходимо запускать программу установки с правами администратора. При установке [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] из удаленной общей папки необходимо использовать учетную запись домена с разрешениями на чтение и выполнение для удаленной общей папки.  
  
 Чтобы добавить узел в существующий отказоустойчивый кластер [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , необходимо запустить программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на узле, который добавляется в экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Не нужно запускать программу установки на активном узле.  
  
 Чтобы удалить узел из существующего отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , необходимо запустить программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на узле, который удаляется из экземпляра сервера отработки отказа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
 Для просмотра шагов добавления или удаления узлов выберите одну из следующих операций:  
  
-   [Добавить узел в существующий отказоустойчивый кластер SQL Server](#Add)  
  
-   [Удалить узел из существующего отказоустойчивого кластера SQL Server](#Remove)  
  
> [!IMPORTANT]  
>  Буква диска операционной системы для размещения [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] должна совпадать на всех узлах, добавленных к отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
##  <a name="add-node"></a><a name="Add"></a> Добавление узла  
  
#### <a name="to-add-a-node-to-an-existing-ssnoversion-failover-cluster"></a>Добавление узла в существующий отказоустойчивый кластер [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]  
  
1.  Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , перейдите в корневую папку и дважды щелкните файл Setup.exe. Для установки из сетевого ресурса перейдите в корневую папку на этом ресурсе и дважды щелкните файл Setup.exe.  
  
2.  Мастер установки запускает центр установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Чтобы добавить узел в существующий экземпляр отказоустойчивого кластера, в левой панели выберите **Установка** . Затем выберите **Добавление узла в кластер отработки отказа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]** .  
  
3.  Средство проверки конфигурации системы запустит операцию обнаружения на компьютере. Чтобы продолжить, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].  
  
4.  На странице «Выбор языка» выберите нужный язык для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , если установка выполняется в локализованной операционной системе и на установочном носителе имеются языковые пакеты как для английского языка, так и для языка, соответствующего настройкам используемой операционной системы. Дополнительные сведения о поддержке версий на разных языках и рекомендации по установке см. в разделе [Версии SQL Server на местных языках](../../../sql-server/install/local-language-versions-in-sql-server.md).  
  
     Чтобы продолжить, нажмите кнопку **Далее**.  
  
5.  На странице «Ключ продукта» укажите ключ PID для рабочей версии данного продукта. Обратите внимание, что ключ продукта, вводимый для данной установки, должен соответствовать выпуску [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , установленному на активном узле.  
  
6.  На странице «Условия лицензии» прочтите лицензионное соглашение, а затем установите флажок, подтверждая принятие условий соглашения. Чтобы помочь в улучшении [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], можно также включить параметр наблюдения за использованием компонентов и отправлять отчеты в [!INCLUDE[msCoName](../../../includes/msconame-md.md)]. Чтобы продолжить, нажмите кнопку **Далее**. Чтобы выйти из программы установки, нажмите кнопку **Отмена**.  
  
7.  Прежде чем программа установки продолжит работу, средство проверки конфигурации системы проверит текущее состояние системы компьютера. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку.  
  
8.  При помощи раскрывающегося списка на странице «Конфигурация узла кластера» укажите имя экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , который будет изменен во время работы программы установки.  
  
9. На странице «Конфигурация сервера — Учетные записи служб» укажите учетные записи входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Набор служб, которые можно настроить на этой странице, зависит от компонентов, выбранных при установке. На этой странице имя учетной записи и сведения о типе запуска для отказоустойчивых кластеров будут указаны автоматически в соответствии с параметрами, заданными для активного узла. Необходимо указать пароли для каждой учетной записи. Дополнительные сведения см. в разделах [Настройка сервера — учетные записи служб](https://msdn.microsoft.com/library/c283702d-ab20-4bfa-9272-f0c53c31cb9f) и [Настройка учетных записей службы Windows и разрешений](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).  
  
     **Примечание по безопасности** [!INCLUDE[ssNoteStrongPass](../../../includes/ssnotestrongpass-md.md)]  
  
     После ввода данных входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] нажмите кнопку **Далее**.  
  
10. На странице «Отчеты об ошибках» укажите сведения, которые будут отправлены в [!INCLUDE[msCoName](../../../includes/msconame-md.md)] и помогут улучшить [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Параметр создания отчетов об ошибках включен по умолчанию.  
  
11. Средство проверки конфигурации выполнится еще раз для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
12. На странице готовности для добавления узла отображается древовидное представление параметров установки, заданных во время установки.  
  
13. На странице хода выполнения операции добавления узла можно наблюдать за состоянием выполнения установки в процессе установки.  
  
14. После установки на странице Завершение будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**.  
  
15. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения о файлах журналов установки см. в разделе [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
##  <a name="remove-node"></a><a name="Remove"></a> Удаление узла  
  
#### <a name="to-remove-a-node-from-an-existing-ssnoversion-failover-cluster"></a>Удаление узла из существующего отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]  
  
1.  Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . В корневой папке дважды щелкните файл setup.exe. Для установки из сетевого ресурса перейдите в корневую папку на этом ресурсе и дважды щелкните файл Setup.exe.  
  
2.  Мастер установки запустит центр установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Чтобы удалить узел из существующего экземпляра отказоустойчивого кластера, на левой панели выберите команду **Обслуживание**, а затем **Удалить узел из отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**.  
  
3.  Средство проверки конфигурации системы запустит операцию обнаружения на компьютере. Чтобы продолжить, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].  
  
4.  После нажатия кнопки «Установить» на странице «Файлы поддержки программы установки» и прежде чем программа установки продолжит работу, средство проверки конфигурации системы проверит текущее состояние системы компьютера. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку.  
  
5.  При помощи раскрывающегося списка на странице «Конфигурация узла кластера» укажите имя экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , который будет изменен во время работы программы установки. Узел, который будет удален, появится в поле **Имя этого узла** .  
  
6.  На странице готовности к удалению узла показано древовидное представление параметров, заданных в программе установки. Чтобы продолжить, нажмите кнопку **Удалить**.  
  
7.  Когда выполняется операция удаления, на странице хода выполнения операции удаления узла отображается состояние этой операции.  
  
8.  На завершающей странице содержится ссылка на файл сводного журнала операции удаления узла и другие важные примечания. Чтобы завершить удаление узла [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Закрыть**. Дополнительные сведения о файлах журналов установки см. в разделе [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
## <a name="see-also"></a>См. также:  
 [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
