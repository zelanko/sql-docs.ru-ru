---
title: "Справка мастера установки | Документы Microsoft"
ms.custom: 
ms.date: 2017-04-21
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- setup-install
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- instance configuration, Setup
helpviewer_keywords:
- Instance Name page [SQL Server Installation Wizard]
- SQL Server Installation Wizard, Instance Name page
ms.assetid: 5bf822fc-6dec-4806-a153-e200af28e9a5
caps.latest.revision: 62
ms.author: mikeray
manager: jhubbard
robots: noindex,nofollow
ms.translationtype: Human Translation
ms.sourcegitcommit: 4a8ade977c971766c8f716ae5f33cac606c8e22d
ms.openlocfilehash: 4b16feb70ed6de54240e3335a42ce6df8fa57b81
ms.contentlocale: ru-ru
ms.lasthandoff: 04/25/2017

---
# <a name="installation-wizard-help"></a>Справка мастера установки

В этом разделе описываются некоторые страницы настройки в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] мастера установки. 

## <a name="instance-configuration"></a>Конфигурация экземпляра
На странице **Конфигурация экземпляра** мастера установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] можно выбрать создание экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]по умолчанию или именованного экземпляра. Если экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] еще не установлен и не указано создание именованного экземпляра, то будет создан экземпляр по умолчанию.  
  
Каждый экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] состоит из отдельного набора служб с заданными настройками параметров сортировки и прочих параметров. Структура каталогов и реестра, а также имена служб соответствуют имени экземпляра и конкретному идентификатору экземпляра, созданному в процессе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 Экземпляр является либо экземпляром по умолчанию, либо именованным экземпляром. Имя экземпляра по умолчанию — MSSQLSERVER. Клиенту при установлении соединения имя экземпляра указывать необязательно. Именованный экземпляр определяется пользователем при установке. Именованный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может быть установлен без предварительной установки экземпляра по умолчанию. В один момент времени экземпляром по умолчанию может быть только один экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)](независимо от версии).  
  
> [!NOTE]  
> При помощи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep можно указать имя экземпляра после завершения подготовки экземпляра на странице **Конфигурация экземпляра** . Можно настроить подготовленный экземпляр в качестве экземпляра по умолчанию, если на компьютере нет экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию.  
  
### <a name="multiple-instances"></a>Несколько экземпляров  
На одиночном сервере или одном процессоре в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживается несколько экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], однако только один из них может быть экземпляром по умолчанию. Все остальные экземпляры должны быть именованными. На одном компьютере одновременно можно запустить несколько экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , и каждый экземпляр выполняется независимо от других.  
  
 Дополнительные сведения см. в разделе [Maximum Capacity Specifications for SQL Server](../maximum-capacity-specifications-for-sql-server.md).  
  
### <a name="options"></a>Параметры  
 Только экземпляр отказоустойчивого кластера: укажите сетевое имя отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Это имя идентифицирует экземпляр отказоустойчивого кластера в сети.  
  
 Экземпляр по умолчанию или именованный экземпляр: принимая решение о типе устанавливаемого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], следует руководствоваться следующими соображениями.  
  
-   Если планируется установить один экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на сервере базы данных, то это должен быть экземпляр по умолчанию.  
  
-   Именованный экземпляр следует выбирать в тех случаях, когда на одном компьютере планируется запускать несколько экземпляров. На сервере может находиться только один экземпляр по умолчанию.  
  
-   Любое приложение, которое производит установку выпуска [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] , должно устанавливать его как именованный экземпляр. Это позволить свести к минимуму конфликты при установке на одном компьютере нескольких приложений.  
  
 **Экземпляр по умолчанию**  
 При выборе этого параметра производится установка экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию. На компьютере может размещаться только один экземпляр по умолчанию; остальные должны быть именованными. Однако если экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию уже установлен, то на этот же компьютер может быть установлен экземпляр служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию.  
  
 **Именованный экземпляр**  
 При выборе этого параметра создается новый именованный экземпляр. При выборе имени экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] следует учитывать следующие моменты.  
  
-   В именах экземпляров регистр не учитывается.  
  
-   Имена экземпляров не могут начинаться с символа подчеркивания (_).  
  
-   Имя экземпляра не может содержать слово «Default» и другие зарезервированные ключевые слова. Если в имени экземпляра используется зарезервированное ключевое слово, возникнет ошибка установки. Дополнительные сведения см. в статье [Зарезервированные ключевые слова (Transact-SQL)](../../t-sql/language-elements/reserved-keywords-transact-sql.md).  
  
-   Если в качестве имени экземпляра указано значение «MSSQLServer», то будет создан экземпляр по умолчанию.  
  
-   [!INCLUDE[ssGeminiLong](../../includes/ssgeminilong-md.md)] всегда устанавливается как именованный экземпляр "[!INCLUDE[ssGemini](../../includes/ssgemini-md.md)]". Нельзя указать другое имя экземпляра для этой роли компонента.  
  
-   Длина имени экземпляра ограничена шестнадцатью символами.  
  
-   Имя экземпляра должно начинаться с буквы. Оно может состоять из букв, определенных стандартом Юникод 2.0. В их число входят символы a-z, A-z и буквы из других языков.  
  
-   Следующими за первым символом могут быть буквы, определенные Юникодом 2.0, десятичные числа из набора символов Basic Latin и других национальных скриптов, знак доллара ($) и символ подчеркивания (_).  
  
-   Нельзя включать в имена экземпляров символы пробелов и другие специальные символы. В число недопустимых символов входят символы обратной косой черты (\\), запятой (,), двоеточия (:), точки с запятой (;), одиночной кавычки ('), амперсанда (&), дефиса (-) и "собаки" (@).  
  
     В именах экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] могут применяться только те символы, которые являются допустимыми в текущей кодовой странице Windows. При использовании неподдерживаемого символа Юникода возникает ошибка установки.  
  
 **Обнаруженные экземпляры и компоненты**  
 Просмотр перечня установленных экземпляров и компонентов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на компьютере, где запущена настройка [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **Идентификатор экземпляра** — по умолчанию в качестве идентификатора экземпляра используется его имя. Предназначен для идентификации каталогов установки и разделов реестра для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Действует как для экземпляров по умолчанию, так и для именованных экземпляров. Для экземпляра по умолчанию именем и идентификатором экземпляра является «MSSQLSERVER». Чтобы использовать идентификатор, отличный от значения по умолчанию, укажите его в поле **Идентификатор экземпляра** .  
  
> [!IMPORTANT]  
>  С [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep, идентификатор экземпляра, отображаемый на данной странице, является идентификатором экземпляра, указанным на шаге подготовки образа процесса [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep. Нельзя указать другой идентификатор экземпляра в момент завершения подготовки образа.  
  
> [!NOTE]  
>  Идентификаторы экземпляров, начинающиеся с символа подчеркивания (_), содержащие символ решетки (#) или знак доллара ($), не поддерживаются.  
  
 Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в разделе [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
  
 Все компоненты экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] управляются как единое целое. Все обновления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (в том числе и пакеты обновления) применяются к каждому из компонентов экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Все компоненты [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , разделяющие одно и то же имя экземпляра, должны соответствовать следующим критериям.  
  
-   **Одинаковая версия**  
  
-   **Одинаковый выпуск**  
  
-   **Одинаковые параметры языка**  
  
-   **Одинаковое состояние кластеризации**  
  
    > [!NOTE]  
    >  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] не имеет ограничений на кластеризацию.  
  
-   **Одинаковая операционная система**  
  
## <a name="analysis-services-configuration---account-provisioning"></a>Настройка служб Analysis Services — провизионирование учетных записей
  На этой странице можно выбрать режим сервера и предоставить административные разрешения пользователям или службам, которым требуется неограниченный доступ к службам [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Программа установки не добавляет автоматически локальную группу Windows BUILTIN\Администраторы в роль администратора сервера служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] устанавливаемого экземпляра. Если к роли администратора сервера требуется добавить локальную группу администраторов, необходимо явно указать эту группу.  
  
 При установке [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] необходимо предоставить административные разрешения администраторам ферм SharePoint или администраторам служб, отвечающим за развертывание сервера [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в ферме [!INCLUDE[SPS2010](../../includes/sps2010-md.md)].  
  
### <a name="options"></a>Параметры  
 **Режим сервера**. Указывает тип баз данных служб Analysis Services, которые могут быть развернуты на сервере. Режимы сервера задаются во время установки, впоследствии изменить их будет невозможно. Каждый режим является взаимоисключающим, в силу чего необходимо будет установить два экземпляра служб Analysis Services, каждый из которых будет настроен для работы в другом режиме, чтобы обеспечить поддержку классических решений OLAP и табличных моделей.  
  
 **Определить администраторов** — для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] необходимо указать хотя бы одного администратора сервера. Указанные пользователи или группы станут членами роли администратора сервера устанавливаемого экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. В домене, где зарегистрирован компьютер, на который выполняется установка программного обеспечения, должны иметься учетные записи пользователей домена Windows.  
  
> [!NOTE]  
>  Контроль учетных записей представляет собой средство безопасности Windows, которое требует, чтобы администратор явно одобрил административные действия или приложения, прежде чем будет разрешено их выполнение. Поскольку контроль учетных записей включен по умолчанию, администратор получает запрос на разрешение определенных операций, требующих более высокого уровня привилегий. Можно настроить контроль учетных записей, изменив поведение по умолчанию, или задать определенную конфигурацию для конкретных программ. Дополнительные сведения о контроле учетных записей и его настройке см. в материалах [Пошаговое руководство по контролю учетных записей](http://go.microsoft.com/fwlink/?linkid=196350) и [User Account Control (Wikipedia)](http://go.microsoft.com/fwlink/?linkid=196351).  
  
### <a name="see-also"></a>См. также:  
 [Настройка учетных записей службы (службы Analysis Services)](../../analysis-services/instances/configure-service-accounts-analysis-services.md)
 [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)  

 ## <a name="analysis-services-configuration---data-directories"></a>Настройка служб Analysis Services — каталоги данных
  Приведенные в следующей таблице каталоги по умолчанию можно изменить с помощью программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Разрешение на доступ к этим файлам предоставляется локальным администраторам и членам SQLServerMSASUser$\<экземпляра > группы безопасности, которая создается и настраивается во время установки.  
  
### <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
  
|Описание|Каталог по умолчанию|Рекомендации|  
|-----------------|-----------------------|---------------------|  
|Корневой каталог данных|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< InstanceID > \OLAP\Data\ |Убедитесь, чтобы папка \Program files\Microsoft SQL Server\ была защищена ограниченными разрешениями. Во многих конфигурациях производительность служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] зависит от производительности хранилища, в котором размещается каталог данных. Поместите этот каталог в доступном хранилище, имеющем самое высокое быстродействие. При установке отказоустойчивых кластеров каталоги данных должны находиться на общем диске.|  
|Каталог файла журнала|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Log\ |Это каталог для файлов журнала служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], в нем размещается журнал FlightRecorder. При увеличении времени существования «черного ящика» позаботьтесь о том, чтобы в каталоге журнала было достаточно места.|  
|Каталог temp|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Temp\ |Поместите каталог «Temp» в высокопроизводительном хранилище.|  
|Каталог резервного копирования|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Backup\ |Это каталог для файлов резервной копии служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию. Здесь же системная служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] кэширует файлы данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для установок [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .<br /><br /> Убедитесь, что заданы соответствующие разрешения, чтобы предотвратить потерю данных, а также что группа пользователей для служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] имеет достаточные разрешения для записи в каталог резервных копий. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
### <a name="notes"></a>Примечания  
  
-   Экземпляры служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], развернутые в ферме SharePoint, хранят файлы приложений, файлы данных и свойства в базах данных содержимого и базах данных приложений служб.  
  
-   При добавлении компонентов в существующую конфигурацию невозможно ни изменить расположение ранее установленного компонента, ни указать расположение нового.  

-   Может потребоваться настроить программное обеспечение, например антивирусное и антишпионское приложения, чтобы исключить из проверки типы файлов и папки SQL Server. Дополнительные сведения см. в этой статье: [Антивирусное программное обеспечение на компьютерах, где выполняется SQL Server](https://support.microsoft.com/kb/309422).
  
-   Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
-   Программные файлы и файлы данных невозможно установить:  
  
    -   на съемный диск  
  
    -   в файловую систему, использующую сжатие  
  
    -   в каталог, в котором находятся системные файлы  
  
### <a name="see-also"></a>См. также:  
 Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в разделе [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
  
## <a name="database-engine-configuration---data-directories"></a>Настройка компонента Database Engine — каталоги данных
  Используйте эту страницу, чтобы указать расположение установки для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] программ и файлов данных. В зависимости от типа установки в качестве хранилища можно использовать локальный диск, общее хранилище или файловый сервер SMB.  
  
 Чтобы указать общую папку SMB в качестве каталога, необходимо вручную ввести путь в поддерживаемом формате UNC. Выбор общей папки SMB с помощью графического интерфейса не поддерживается. Поддерживаемый формат пути UNC общей папки SMB выглядит так: \\\Servername\ShareName\\...  
  
### <a name="stand-alone-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Изолированный экземпляр[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 В следующей таблице приведены поддерживаемые типы хранилища и каталоги по умолчанию для изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно изменять в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
### <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|Корневой каталог данных|Локальный диск, файловый сервер SMB, общее хранилище* |C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\ |[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Программа установки настроит ACL для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] каталогов и отменит наследование как часть конфигурации.|  
|Каталог пользовательской базы данных|Локальный диск, файловый сервер SMB, общее хранилище*|C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data |Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|Каталог журналов пользовательской базы данных|Локальный диск, файловый сервер SMB, общее хранилище*|C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|Каталог резервного копирования|Локальный диск, файловый сервер SMB, общее хранилище*|C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Backup|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
 *Хотя общие диски и поддерживаются, использовать их для изолированных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не рекомендуется.  
  
### <a name="failover-cluster-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
 В следующей таблице приведены поддерживаемые типы хранилища и каталоги по умолчанию для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые можно изменить в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|Корневой каталог данных|Общее хранилище, файловый сервер SMB|\<Диск: > \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Программа установки настроит ACL для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] каталогов и отменит наследование как часть конфигурации.|  
|Каталог пользовательской базы данных|Общее хранилище, файловый сервер SMB|\<Диск: > Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|Каталог журналов пользовательской базы данных|Общее хранилище, файловый сервер SMB|\<Диск: > \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|Каталог резервного копирования|Локальный диск, общее хранилище, файловый сервер SMB|\<Диск: > \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Backup<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы SQL Server имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
### <a name="security-considerations"></a>Вопросы безопасности  
 Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит ACL для каталогов и отменит наследование как часть конфигурации.  
  
 В отношении файлового сервера SMB действуют следующие рекомендации.  
  
-   При использовании файлового сервера SMB учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна быть учетной записью домена.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна иметь разрешение FULL CONTROL NTFS на общую папку файлов SMB, которая используется в качестве каталога данных.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна обладать правами SeSecurityPrivilege на файловом сервере SMB. Для предоставления этого права используйте консоль локальной политики безопасности на файловом сервере, чтобы добавить учетную запись установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в политику **Управления журналом аудита и безопасности** . Этот параметр находится в разделе **Назначение прав пользователя** в узле **Локальные политики** консоли **Локальная политика безопасности** .  
  
### <a name="notes"></a>Примечания  
  
-   При добавлении компонентов к уже установленной конфигурации невозможно изменить расположение ранее установленного компонента или указать расположение нового компонента.  
  
-   Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
-   Программные файлы и файлы данных невозможно установить:  
  
    -   на съемный диск  
  
    -   в файловую систему, использующую сжатие  
  
    -   в каталог, в котором находятся системные файлы  
  
    -   На подключенном сетевом диске экземпляра отказоустойчивого кластера  
  
### <a name="see-also"></a>См. также:  
### <a name="analysis-services-configuration---data-directories"></a>Настройка служб Analysis Services — каталоги данных
  Приведенные в следующей таблице каталоги по умолчанию можно изменить с помощью программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Разрешение на доступ к этим файлам предоставляется локальным администраторам и членам SQLServerMSASUser$\<экземпляра > группы безопасности, которая создается и настраивается во время установки.  
  
#### <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
  
|Описание|Каталог по умолчанию|Рекомендации|  
|-----------------|-----------------------|---------------------|  
|Корневой каталог данных |C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Data |Убедитесь, чтобы папка \Program files\Microsoft SQL Server\ была защищена ограниченными разрешениями. Во многих конфигурациях производительность служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] зависит от производительности хранилища, в котором размещается каталог данных. Поместите этот каталог в доступном хранилище, имеющем самое высокое быстродействие. При установке отказоустойчивых кластеров каталоги данных должны находиться на общем диске.|  
|Каталог файла журнала|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Log |Это каталог для файлов журнала служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], в нем размещается журнал FlightRecorder. При увеличении времени существования «черного ящика» позаботьтесь о том, чтобы в каталоге журнала было достаточно места.|  
|Каталог temp|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Temp |Поместите каталог «Temp» в высокопроизводительном хранилище.|  
|Каталог резервного копирования|C:\Program Files\Microsoft SQL Server\MSAS*nn*.\< Идентификатор экземпляра > \OLAP\Backup |Это каталог для файлов резервной копии служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию. Здесь же системная служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] кэширует файлы данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для установок [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .<br /><br /> Убедитесь, что заданы соответствующие разрешения, чтобы предотвратить потерю данных, а также что группа пользователей для служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] имеет достаточные разрешения для записи в каталог резервных копий. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
#### <a name="notes"></a>Примечания  
  
-   Экземпляры служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], развернутые в ферме SharePoint, хранят файлы приложений, файлы данных и свойства в базах данных содержимого и базах данных приложений служб.  
  
-   При добавлении компонентов в существующую конфигурацию невозможно ни изменить расположение ранее установленного компонента, ни указать расположение нового.  

-   Может потребоваться настроить программное обеспечение, например антивирусное и антишпионское приложения, чтобы исключить из проверки типы файлов и папки SQL Server. Дополнительные сведения см. в этой статье: [Антивирусное программное обеспечение на компьютерах, где выполняется SQL Server](https://support.microsoft.com/kb/309422).
  
-   Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
-   Программные файлы и файлы данных невозможно установить:  
  
    -   на съемный диск  
  
    -   в файловую систему, использующую сжатие  
  
    -   в каталог, в котором находятся системные файлы  
  
#### <a name="see-also"></a>См. также:  
 Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в разделе [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
  
    
 [Папки и разрешения NTFS на файловом сервере](http://go.microsoft.com/fwlink/?LinkID=206571) 

## <a name="database-engine-configuration---filestream"></a>Настройка компонента Database Engine — Filestream
  Эта страница используется, чтобы включить FILESTREAM для этой установки [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Хранилище FILESTREAM объединяет компонент [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] с файловой системой NTFS, размещая данные больших двоичных объектов (BLOB) типа **varbinary(max)** в файловой системе в виде файлов. [!INCLUDE[tsql](../../includes/tsql-md.md)] можно вставлять, обновлять, запрашивать, искать и создавать резервные копии данных FILESTREAM. Интерфейсы файловой системы Win32 предоставляют потоковый доступ к этим данным.  
  
### <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
 **Разрешить FILESTREAM при доступе через Transact-SQL**  
 Выберите, чтобы включить FILESTREAM для доступа [!INCLUDE[tsql](../../includes/tsql-md.md)] . Необходимо выбрать этот элемент управления, прежде чем будут доступны другие параметры управления.  
  
 **Разрешить FILESTREAM при потоковом доступе файлового ввода-вывода**  
 Выберите, чтобы разрешить потоковый доступ Win32 для FILESTREAM.  
  
 **Имя общего ресурса Windows**  
 Этот элемент управления используется для ввода имени общего ресурса Windows, в котором будут храниться данные FILESTREAM.  
  
 **Разрешить удаленным клиентам потоковый доступ к данным FILESTREAM**  
 Выберите этот элемент управления, чтобы разрешить удаленным клиентам доступ к этим данным FILESTREAM на этом сервере.  
  
### <a name="see-also"></a>См. также:  
 [Включение и настройка FILESTREAM](../../relational-databases/blob/enable-and-configure-filestream.md)   
 [sp_configure &#40;Transact-SQL&#41;](../../relational-databases/system-stored-procedures/sp-configure-transact-sql.md)  

  
## <a name="database-engine-configuration---server-configuration"></a>Конфигурация ядра СУБД — конфигурация сервера
  Эта страница служит для задания режима безопасности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а также для добавления пользователей или групп Windows в качестве администраторов компонента [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].  
  
### <a name="considerations-for-running-includesscurrentincludessscurrent-mdmd"></a>Рекомендации по запуску [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]  
 В предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]группа **BUILTIN\Administrators** применялась в качестве имени входа в компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] , а члены локальной группы "Администраторы" могли входить в систему с помощью своих учетных данных администратора. Использовать повышенные разрешения не рекомендуется. В [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] группа **BUILTIN\Administrators** в качестве имени входа не используется. Поэтому следует создать имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для каждого административного пользователя и добавить это имя входа в предопределенную роль сервера sysadmin во время установки нового экземпляра [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Это нужно также сделать для учетных записей Windows, которые используются для запуска заданий агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Это включает задания агента репликации.  
  
### <a name="options"></a>Параметры  
 **Режим безопасности** — выберите для установки параметр "Проверка подлинности Windows" или "Смешанный режим проверки подлинности".  
  
 **Провизионирование участников Windows** — в предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]локальная группа Windows "Builtin\Администраторы" помещалась в роль сервера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sysadmin, что в сущности предоставляло администраторам Windows доступ к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. В [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]не выполняется подготовка группы «Builtin\Администраторы» в роли сервера sysadmin. Вместо этого необходимо выполнить явную подготовку администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для новых экземпляров во время установки.  
  
> [!IMPORTANT]  
>  Во время установки необходимо явно указать администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для новых экземпляров. Программа установки не позволит продолжить установку, пока это не будет сделано.  
  
 **Укажите администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** — необходимо указать по крайней мере одного участника Windows для этого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Чтобы добавить учетную запись, от которой запущена программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , нажмите кнопку **Текущий пользователь** . Чтобы добавить или удалить учетные записи из списка системных администраторов, нажмите кнопку **Добавить** или **Удалить**, затем измените список пользователей, групп или компьютеров, которые будут иметь права администраторов на этот экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Закончив изменение списка, нажмите кнопку **ОК**и проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
 При выборе параметра «Смешанный режим проверки подлинности» необходимо предоставить учетные данные регистрации для встроенной учетной записи системного администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteStrongPass](../../includes/ssnotestrongpass-md.md)]  
  
 **Режим проверки подлинности Windows**  
 Когда пользователь выполняет подключение под пользовательской учетной записью Windows, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] проверяет имя учетной записи и пароль с помощью токена участника Windows в операционной системе. Этот режим проверки подлинности используется по умолчанию, и он гораздо надежнее смешанного режима. Режим проверки подлинности Windows использует протокол безопасности Kerberos, обеспечивает соблюдение политики паролей при условии проверки сложности для надежных паролей, обеспечивает блокировки учетных записей и проверки истечения срока действия пароля.  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteStrongPass](../../includes/ssnotestrongpass-md.md)] Никогда не указывайте пустой или простой пароль для пользователя sa.  
  
 **Смешанный режим (проверка подлинности Windows или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] проверки подлинности)**  
 Возможность подключения пользователей с помощью режима проверки подлинности Windows или проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Пользователи, которые подключаются под учетной записью Windows, могут использовать доверенные соединения, которые проверяются Windows.  
  
 При выборе смешанного режима проверки подлинности и наличии условий для использования входных имен SQL для согласования унаследованных приложений необходимо установить надежные пароли для всех учетных записей [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
> [!NOTE]  
> Проверка подлинности  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживается только для обратной совместимости. [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
 **Введите пароль**  
 Введите и подтвердите имя входа для системного администратора (sa). Пароли являются основным способом защиты компьютера от несанкционированного доступа, поэтому для обеспечения безопасности системы обязательна настройка надежных паролей. Не оставляйте поле для ввода пароля пустым и не используйте пароль sa, который легко разгадать.  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]пароли могут содержать от 1 до 128 символов, включая любое сочетание букв, символов и цифр. При выборе смешанного режима проверки подлинности необходимо ввести надежный пароль sa, прежде чем мастер установки перейдет на следующую страницу.  
  
 **Правила создания надежных паролей**  
 Надежные пароли не могут быть легко расшифрованы человеком или взломаны при помощи компьютерных программ. При установке надежных паролей нельзя использовать определенные символы или готовые слова, в том числе:  
  
-   незаполненный или ПУСТОЙ;  
  
-   Password;  
  
-   Admin;  
  
-   Administrator;  
  
-   sa;  
  
-   sysadmin.  
  
 Надежный пароль не может включать в себя следующие термины, связанные с установкой компьютера:  
  
-   имя пользователя, зарегистрированного в компьютере в настоящий момент;  
  
-   имя компьютера.  
  
 Надежный пароль должен состоять не менее чем из восьми символов и удовлетворять как минимум трем из следующих четырех критериев.  
  
-   Он должен включать прописные буквы.  
  
-   Он должен включать строчные буквы.  
  
-   Он должен включать цифры.  
  
-   Он должен содержать неалфавитные символы, например #, % или ^.  
  
 Пароли, введенные на этой странице, должны отвечать требованиям политики надежных паролей. При использовании автоматизации с функцией проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] убедитесь, что пароль отвечает требованиям политики надежных паролей.  
  
### <a name="related-content"></a>См. также  
 Дополнительные сведения о выборе между проверкой подлинности Windows и [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Проверка подлинности, в разделе [Выбор режима проверки подлинности](../../relational-databases/security/choose-an-authentication-mode.md).  
  
 Дополнительные сведения о выборе учетной записи для запуска [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], в разделе [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).
  
## <a name="database-engine-configuration---tempdb"></a>Конфигурация ядра СУБД — TempDB
  Эта страница служит для указания **tempdb** расположение, размер, параметры увеличения и количество файлов для файлов данных и журналов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)]. В зависимости от типа установки в качестве хранилища можно использовать локальный диск, общее хранилище или файловый сервер SMB.  
  
 Чтобы указать общую папку SMB в качестве каталога, необходимо вручную ввести путь в поддерживаемом формате UNC. Выбор общей папки SMB с помощью графического интерфейса не поддерживается. Поддерживаемый формат пути UNC общей папки SMB выглядит так: \\\Servername\ShareName\\...  
  
### <a name="data-and-log-directories-for--a-stand-alone-instance-of--includessnoversionincludesssnoversion-mdmd"></a>Каталоги данных и журналов для изолированного экземпляра[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 В таблице ниже указаны поддерживаемые типы хранилища и каталоги по умолчанию для изолированных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно настроить в процессе установки.  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|**Каталоги данных**|Локальный диск, файловый сервер SMB, общее хранилище* |C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Программа установки настроит ACL для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] каталогов и отменит наследование как часть конфигурации.<br /><br /> Рекомендации для каталогов **temdb** зависят от рабочей нагрузки и требований к производительности. Укажите несколько папок (дисков), чтобы распределить файлы данных на несколько томов.|  
|**Каталог журналов**|Локальный диск, файловый сервер SMB, общее хранилище*|C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
  
 *Хотя общие диски и поддерживаются, использовать их для изолированных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не рекомендуется.  
  
### <a name="data-and-log-directories-for-a-failover-cluster-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Каталоги данных и журналов для экземпляра отказоустойчивого кластера[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 В следующей таблице приведены поддерживаемые типы хранилища и каталоги по умолчанию для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые можно изменить в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|Каталог данных**tempdb** |Локальный диск, общее хранилище, файловый сервер SMB|\<Диск: > \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Программа установки настроит ACL для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] каталогов и отменит наследование как часть конфигурации.<br /><br /> Убедитесь, что указанный каталог (или каталоги, если указано несколько файлов) допустим для всех узлов кластера. Если во время отработки отказа каталоги **tempdb** недоступны на целевом узле отработки отказа, то при подключении ресурсов SQL Server к сети произойдет ошибка.|  
|Каталог журнала**tempdb** |Локальный диск, общее хранилище, файловый сервер SMB|\<Диск: > \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL*nn*.\< InstanceID > \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.<br /><br /> Указанный каталог должен быть допустимым для всех узлов кластера. Если во время отработки отказа каталоги **tempdb** недоступны на целевом узле отработки отказа, то при подключении ресурсов SQL Server к сети произойдет ошибка.<br /><br /> Убедитесь, что каталог журнала имеет достаточно свободного места.|  
  
### <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
 Настройте параметры для **tempdb** в соответствии с рабочей нагрузкой и требованиями. Следующие параметры применимы к файлам данных **tempdb** .  
  
-   **Число файлов** — общее количество файлов данных для **tempdb**. По умолчанию используется значение меньше 8 или значение, равное количеству логических ядер, обнаруженных программой установки. Как правило, если число логических процессоров меньше или равно 8, используйте то же число файлов данных, что и логические процессоры. Если число логических процессоров больше 8, используйте восемь файлов данных, а затем, если подключение сохранится, увеличьте число файлов данных на значение, кратное 4 (до количества логических процессоров), пока состязание не уменьшится до приемлемого уровня, или внесите изменения в рабочую нагрузку или код. 
  
-   **Начальный размер (МБ)** — исходный размер в МБ для каждого файла данных **tempdb** . Значение по умолчанию — 8 МБ (или 4 МБ для [!INCLUDE[ssexpress](../../includes/ssexpress_md.md)]). [!INCLUDE[sssqlv14](../../includes/sssqlv14-md.md)]представляет максимальный начальный размер файла 262 144 МБ (256 ГБ). [!INCLUDE[sssql15](../../includes/sssql15-md.md)]Максимальное исходный файл размером 1024 МБ. Все файлы данных **tempdb** имеют одинаковый исходный размер. Так как база данных **tempdb** создается заново при каждом запуске или отработке отказа SQL Server, следует указать размер, близкий к размеру, необходимому для нормальной работы при рабочей нагрузке. Чтобы дополнительно оптимизировать создание **tempdb** во время запуска, включите параметр [Мгновенная инициализация файлов базы данных](../../relational-databases/databases/database-instant-file-initialization.md).  
  
-   **Общий исходный размер (МБ)** — это совокупный размер всех файлов данных **tempdb** .  
  
-   **Автоматическое увеличение (МБ)** — это значение объема в мегабайтах, на которое будет автоматически увеличиваться файл данных **tempdb** , когда для него не останется свободного места. В [!INCLUDE[sssql15](../../includes/sssql15-md.md)] и более поздних версиях все файлы данных будут увеличиваться в то же время на величину, указанную для этого параметра.  
  
-   **Общее автоматическое увеличение (МБ)** — это совокупный размер каждого события автоматического увеличения.  
  
-   **Каталоги данных** — показывает все каталоги, которые содержат файлы данных **tempdb** . При наличии нескольких каталогов файлы данных помещаются в каталоги методом циклического перебора. Например, если создать три каталога и указать восемь файлов данных, файлы данных номер 1, 4 и 7 будут созданы в первом каталоге. Файлы данных 2, 5 и 8 будут созданы во втором каталоге. Файлы данных 3 и 6 будут созданы в третьем каталоге.  
  
-   Чтобы добавить каталоги, щелкните элемент **Добавить**.  
  
-   Чтобы удалить каталог, выберите каталог и нажмите кнопку **Удалить**.  
  
 **Файл журнала TempDB** — это имя файла журнала. Он создается автоматически. Следующие параметры применимы только к файлам данных **tempdb** .  
  
-   **Начальный размер (МБ)** — это исходный размер файла журнала **tempdb** . Значение по умолчанию — 8 МБ (или 4 МБ для [!INCLUDE[ssexpress](../../includes/ssexpress_md.md)]). [!INCLUDE[sssqlv14](../../includes/sssqlv14-md.md)]представляет максимальный начальный размер файла 262 144 МБ (256 ГБ). [!INCLUDE[sssql15](../../includes/sssql15-md.md)]Максимальное исходный файл размером 1024 МБ. Так как база данных **tempdb** создается заново при каждом запуске или отработке отказа SQL Server, следует указать размер, близкий к размеру, необходимому для нормальной работы при рабочей нагрузке. Чтобы дополнительно оптимизировать создание **tempdb** во время запуска, включите параметр [Мгновенная инициализация файлов базы данных](../../relational-databases/databases/database-instant-file-initialization.md).  
  
-   **Примечание. Tempdb** использует минимальное протоколирование. Резервное копирование журнала **tempdb** выполнить невозможно. Он создается заново при каждом запуске SQL Server или при отработке отказа экземпляра кластера.  
  
-   **Автоматическое увеличение (МБ)** — это шаг увеличения журнала **tempdb** в мегабайтах.  Значение по умолчанию в 64 МБ создает оптимальное количество виртуальных файлов журнала во время инициализации.  
  
-   **Примечание. Файлы журнала Tempdb** не используют мгновенную инициализацию файлов.  
  
-   **Каталог журнала** — это каталог, в котором создаются файлы журналов **tempdb** . Существует только один каталог журнала **tempdb** .  
  
### <a name="security-considerations"></a>Вопросы безопасности  
 Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит ACL для каталогов и отменит наследование как часть конфигурации.  

 В отношении файлового сервера SMB действуют следующие рекомендации.  
  
-   При использовании файлового сервера SMB учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна быть учетной записью домена.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна иметь разрешение FULL CONTROL NTFS на общую папку файлов SMB, которая используется в качестве каталога данных.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна обладать правами SeSecurityPrivilege на файловом сервере SMB. Для предоставления этого права используйте консоль локальной политики безопасности на файловом сервере, чтобы добавить учетную запись установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в политику **Управления журналом аудита и безопасности** . Этот параметр находится в разделе **Назначение прав пользователя** в узле **Локальные политики** консоли **Локальная политика безопасности** .  
  
### <a name="notes"></a>Примечания  
  
-   Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
### <a name="see-also"></a>См. также:  
 [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)   
 [Папки и разрешения NTFS на файловом сервере](http://go.microsoft.com/fwlink/?LinkID=206571)  

## <a name="database-engine-configuration---user-instance"></a>Конфигурация компонента Database Engine — пользовательский экземпляр
Страница **Пользовательский экземпляр** используется для создания отдельного экземпляра компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] для пользователей, не имеющих разрешений администратора, и для добавления пользователей к роли администратора.  
  
### <a name="option"></a>Параметр  
 Разрешить пользовательские экземпляры  
 По умолчанию включен. Для отключения возможности использования пользовательских экземпляров следует снять флажок.  
  
 Пользовательский экземпляр, который называют также дочерним или клиентским, является экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который создается родительским экземпляром (основным экземпляром, работающим как служба, например [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]) от лица пользователя. Пользовательский экземпляр запускается как пользовательский процесс в контексте безопасности этого пользователя. Пользовательский экземпляр изолирован от родительского и любых других пользовательских экземпляров, выполняющихся на компьютере. О функции пользовательского экземпляра часто говорят также как о «запуске от лица обычного пользователя» (Run As Normal User, RANU).  
  
> [!NOTE]  
>  Логины, подготавливаемые в ходе установки в качестве членов предопределенной роли сервера **sysadmin** , подготавливаются в качестве администраторов в базе данных образцов. Они являются членами предопределенной роли сервера **sysadmin** на пользовательском экземпляре, если не удалены  
  
 Добавление пользователя к роли администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 По умолчанию снят. Чтобы добавить текущего пользователя, выполняющего установку, к роли администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , установите этот флажок.  
  
 [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)]Пользователи, являющиеся членами группы BUILTIN\Администраторы не добавляются автоматически к фиксированной серверной роли sysadmin при соединении с [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)] могут администрировать только пользователи [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], явно добавленные к роли уровня администратора. С экземпляром [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] может соединяться любой член группы «Built-In\Пользователи», но у него будут ограниченные разрешения для выполнения задач в базе данных. По этой причине пользователям, чьи права доступа на [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] наследуются от групп "BUILTIN\Администраторы" и "Built-In\Пользователи" из предыдущих версий Windows, должны быть явно предоставлены права доступа администратора на экземплярах [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] под управлением [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)].  
  
 Для изменения ролей пользователя после завершения программы установки используется средство настройки контактной зоны [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] (SQLSAC.exe). Чтобы обновить список пользователей роли «Системный администратор» [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , щелкните ссылку **Добавление нового администратора** .  
  
 Убедитесь, что в списке **Выделение ресурсов пользователю** приводится имя пользователя в формате "Имя_домена\Имя пользователя", разрешения которого нужно обновить. Выберите роль, которую нужно обновить, из списка экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в панели **Имеющиеся права доступа** и щелкните стрелку справа. Чтобы добавить пользователя к имеющимся ролям для всех доступных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и всем доступным ролям, щелкните двойную стрелку справа.  
  
 Применение изменений после завершения работы, [!INCLUDE[clickOK](../../includes/clickok-md.md)]. Чтобы закрыть средство без применения изменений, нажмите кнопку **Отмена**.  
  
  

