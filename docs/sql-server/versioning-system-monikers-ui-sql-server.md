---
title: Система управления версиями в документации по SQL | Документация Майкрософт
ms.date: 10/15/2019
ms.prod: sql
ms.technology: ''
ms.custom: ''
ms.topic: conceptual
ms.reviewer: ''
author: MightyPen
ms.author: genemi
monikerRange: =azuresqldb-current||=azuresqldb-mi-current||=azure-sqldw-latest||>=aps-pdw-2016||>=sql-server-linux-2017||=sql-server-previousversions||>=sql-server-2016||=sqlallproducts-allversions
ms.openlocfilehash: 7813368e08c8d1fdf4da1e2ee1e6775f56557d0a
ms.sourcegitcommit: 2a06c87aa195bc6743ebdc14b91eb71ab6b91298
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2019
ms.locfileid: "72907950"
---
# <a name="versioning-system-for-sql-documentation"></a>Система управления версиями в документации по SQL

[!INCLUDE[includes_appliesto-ss-asdb-asdw-pdw-md.md](../includes/appliesto-ss-asdb-asdw-pdw-md.md)]

В этой статье описывается _система управления версиями_ в документации по SQL. Система управления версиями различает продукты и их версии. Она позволяет выбрать интересующий вас продукт и его версию. После этого выводится соответствующая документация.

## <a name="applies-to-products"></a>Область применения

В большинстве статей об SQL Server под заголовком есть строка, начинающаяся со слов **Область применения**. После них перечислены _продукты_ SQL и указано, относится ли к ним статья. Например, статья может относиться к SQL Server, но не относиться к базе данных SQL Azure.

В строке **Область применения** _версии_ продуктов не указываются. Мы стремимся избегать расхождений между содержимым строки **Область применения** и продуктами в конфигурациях системы управления версиями.

## <a name="history-of-separate-file-sets"></a>История отдельных наборов файлов

Для SQL Server 2014 и более ранних версий существует отдельная полная копия файлов документации для каждой версии. Например, разработка документации по SQL Server 2014 начиналась с копии документации по SQL Server 2012. Затем в процессе развития продукта копия для версии 2014 редактировалась.

При таком подходе, если в документации по версии 2014 обнаруживалась и устранялась ошибка, она могла сохраняться в документации по версиям 2012 и 2008. Это усложняло устранение ошибок и обслуживание в целом.

## <a name="multiple-versions-in-the-same-files"></a>Один набор файлов для нескольких версий

По этой и другим причинам система была изменена так, что файлы документации по SQL Server 2016 также предназначены для версий 2017, 2019, а также, возможно, для \<будущей версии\> (vNext). Такое объединение стало возможным благодаря _моникерам версий_, которые назначаются файлам документации по SQL Server. Они назначаются или внедряются явным образом с любой степенью детализации, которая целесообразна для каждого конкретного файла документации.

## <a name="versioning-control-in-the-ui"></a>Управление версиями в пользовательском интерфейсе

При просмотре любой статьи документации по SQL на веб-сайте :::no-loc text="Docs"::: текущий выбранный моникер версии отображается над оглавлением. Этот элемент управления представляет собой раскрывающийся список.

![media_versioning-control-10-sql-server-2017.png](media/versioning-control-10-sql-server-2017.png)

Чтобы просмотреть документацию по другой версии SQL Server, щелкните стрелку вниз в конце моникера текущей версии. Затем выберите нужное сочетание продукта и версии. При выборе другой версии отображаемая документация меняется так, чтобы можно было увидеть отличия в новой выбранной версии. Изменения могут иметься или отсутствовать. Оба варианта вполне обычны.

![media_versioning-control-20-expanded.png](media/versioning-control-20-expanded.png)

### <a name="https-parameter-no-loc-textview"></a>Параметр HTTPS :::no-loc text="view=":::

К каждому веб-адресу статьи, начинающемуся с `https://docs.microsoft.com/sql/`, добавляется параметр `?view=`. Его значение — это код моникера версии.

_Код_ моникера в адресе `https` всегда соответствует _имени_ моникера, отображаемому в элементу выбора версии.

## <a name="products-not-editions"></a>Продукты и выпуски

### <a name="editions"></a>выпуски

В 1990-е и 2000-е годы Microsoft SQL Server был единственным продуктом SQL. Каждая версия SQL Server имела различные _выпуски_, например _Developer_ и _Enterprise_ для версии SQL Server 2008. Выпуски имели немного разные наборы возможностей, но базовый продукт был один и тот же. Новые версии SQL Server по-прежнему могут иметь несколько выпусков.

### <a name="products"></a>Измерение продуктов

С развитием облачных вычислений и платформы Microsoft Azure корпорация Майкрософт выпустила новый продукт "База данных SQL Azure". Хотя в традиционном локальном продукте SQL Server и базе данных SQL Azure много общего кода, это два отдельных продукта.

В документации по SQL с помощью моникеров версий различаются продукты, но не их выпуски.

#### <a name="azure-cloud-sql-products"></a>Облачные продукты SQL Azure

Почти все статьи, веб-адрес которых начинается с `https://docs.microsoft.com/sql/`, относятся по крайней мере к одной версии продукта SQL Server. Значительная часть этих статей также относится к одному или нескольким продуктам SQL, размещенным в облаке Azure. Один из таких облачных продуктов SQL называется "База данных SQL Azure".

Разумеется, база данных SQL Azure имеет только одну версию. Почти все статьи, относящиеся к базе данных SQL Azure, но не к SQL Server, имеют веб-адрес, начинающийся с `https://docs.microsoft.com/azure/sql-database/`.

## <a name="scenarios-of-version-filtering"></a>Сценарии фильтрации версий

Система управления версиями отфильтровывает все содержимое документации, которое не относится к текущему активному моникеру. Каждый раз при выборе другого моникера версии набор скрытого содержимого меняется. При фильтрации содержимое скрывается на следующих уровнях:

- разделы или предложения в статье;
- заголовки статей в оглавлении.

Ниже описывается, что происходит при выборе другого моникера.

### <a name="scenario-1-within-the-current-article"></a>Сценарий 1. В пределах текущей статьи

Ниже описывается, что происходит с разделами текущей статьи.

1. Текущий моникер версии — **SQL Server 2017**.
2. Вы читаете раздел, в котором описывается функция, появившаяся в SQL Server 2017.
3. Вы меняете моникер на **SQL Server 2016**.
4. Раздел, который вы читали, пропадает.
5. Вы снова меняете моникер, на этот раз на **SQL Server 2019**.
6. Раздел для версии 2017, который вы читали, снова появляется на экране.

В описанном выше сценарии раздел о новой функции в версии 2017, скорее всего, помечен _диапазоном моникеров_, включающим в себя следующий код моникера:

- `>=sql-server-2017`

При выборе моникера **SQL Server 2019** раздел отобразился, так как версия 2019 отвечает условию "больше или равно 2017".

### <a name="scenario-2-click-a-link-to-a-hidden-article"></a>Сценарий 2. Переход по ссылке на скрытую статью

Ниже описывается, что происходит при выборе ссылки на статью, которая в настоящий момент скрыта в оглавлении (случается такое нечасто). Если говорить коротко, ссылка работает.

1. Текущий моникер версии — **SQL Server 2017**.
2. В текущей статье :::no-loc text="A"::: вы щелкаете ссылку на статью :::no-loc text="B":::, которая относится только к SQL Server 2016.
    - До щелчка статья :::no-loc text="B"::: скрыта в оглавлении.
3. После щелчка статья :::no-loc text="B"::: появляется.
    - Отображение статьи :::no-loc text="B"::: приводит к тому, что система управления версиями переключается на моникер **SQL Server 2016**.
    - Из-за этого исходный моникер **SQL Server 2017** отменяется. По этой причине вверху веб-страницы выводится информационное сообщение. В [сообщении](#anchor-message-unavailable-for-moniker) поясняется, что текущий моникер пришлось сменить из-за перехода к статье :::no-loc text="B":::.

### <a name="scenario-3-navigate-to-an-https-address"></a>Сценарий 3. Переход по адресу HTTPS

Указанная ниже статья была добавлена для версии SQL Server 2017. В ней описываются возможности, появившиеся в SQL Server 2017. Большинство этих новых возможностей также имеются в версии 2019. Ниже приведены атрибуты статьи.

| attribute | Значение |
| :-------- | :---- |
| Title | Новые возможности в SQL Server 2017 |
| диапазон моникеров | `>= sql-server-2017 || = sqlallproducts-allversions` |
| адрес `https` | `https://docs.microsoft.com/sql/sql-server/what-s-new-in-sql-server-2017` |
| &nbsp; | &nbsp; |

В таблице ниже объясняется, что происходит при добавлении пользователем параметра `?view=` с различными значениями к базовому адресу `https`.

| Значение параметра `?view=` | Что происходит при переходе по адресу `https` |
| :---------------- | :------------------------------ |
| _Параметр отсутствует_ | Система управления версиями пытается использовать значение моникера по умолчанию. Обычно это последняя не предварительная версия SQL Server.<br/><br/>Атрибуту `>= sql-server-2017` по умолчанию будет соответствовать версия SQL Server 2017 или 2019.<br/><br/>Система добавит параметр к адресу `https`, например `?view=sql-server-2017`.<br/>Пункт, выбранный в раскрывающемся списке версий, изменится в соответствии с именем моникера. |
| `sql-server-2016` | Система управления версиями определит, что диапазон моникеров статьи не включает в себя версию 2016.<br/><br/>Система выберет один из моникеров, входящих в диапазон.<br/><br/>Затем, так же как в случае с версией 2016, будет добавлен параметр `?view=` и в элементе управления будет выбран пункт, соответствующий значению параметра. |
| `sql-server-2017` | Система управления версиями определяет, что значение параметра входит в диапазон моникеров статьи.<br/><br/>В элементе управления версиями выбирается пункт, соответствующий значению параметра. |
| `sql-server-2019` | То же, что и в случае со значением `sql-server-2017`, но параметр и элемент управления устанавливаются в значение 2019. |
| &nbsp; | &nbsp; |

### <a name="anchor-allsql-hidenothing"></a> Специальный моникер All SQL — Hide nothing

Существует еще один специальный моникер с именем продукта **All SQL** (Все продукты SQL) и единственной версией **Hide nothing** (Ничего не скрывать). Он предназначен для внутреннего тестирования определенных изменений. При использовании клиентом этот моникер, скорее всего, будет вводить в заблуждение.

Некоторые статьи содержат сведения, относящиеся к нескольким версиям SQL Server. Обычный моникер скрывает разделы, сведения в которых являются неточными или противоречивыми для версии, соответствующей этому моникеру. При выборе специального моникера **All SQL** отображаются все разделы. При этом читателю может быть не очевидно, что отображается неточная информация.

## <a name="anchor-message-unavailable-for-moniker"></a> Сообщение "Запрашиваемая страница недоступна для \<моникера\>"

В описанной ниже ситуации в верхней части веб-страницы :::no-loc text="Docs"::: появляется информационное сообщение.

1. Текущий моникер версии — **SQL Server 2017**.
2. Вы читаете статью, относящуюся к SQL Server 2017.
    - Эта статья _не_ относится к базе данных SQL Azure.
3. Вы пытаетесь изменить моникер на **Azure SQL Database — current** (База данных SQL Azure — текущая).
4. Попытка отклоняется, и выводится сообщение.

В итоге в верхней части веб-страницы документации отображается следующее информационное сообщение:

> Запрашиваемая страница недоступна для Azure SQL Database — current. Вы перенаправлены на последнюю версию продукта, для которой доступна эта страница.

При выборе _последней_ версии могут исключаться версии, которые еще не выпущены окончательно и находятся в стадии _предварительной версии_.

![media_versioning-control-30-viewfallbackfrom.png](media/versioning-control-30-viewfallbackfrom.png)

## <a name="previous-versions-of-sql-server"></a>Предыдущие версии SQL Server

Система управления версиями полностью реализована для SQL Server 2016 и последующих версий.

- _Версия 2012 и более ранние._ &nbsp; Система управления версиями не используется для SQL Server 2012 и более ранних версий.
    - Специальный моникер **SQL Server — older** (SQL Server — более старые) скрывает почти все статьи. Исключениями являются несколько статей, которые иногда могут потребоваться пользователям старых версий.
    - [Предыдущие версии SQL Server: с 2005 по 2012](../toc/previous-versions-sql-server.md)

- _Версия 2014._ &nbsp; Система управления версиями реализована для SQL Server 2014 частично. Вы можете выбрать SQL Server 2014 в системе управления версиями и получите результат. Однако на внутреннем уровне файлы для версии 2014 связаны только с ней, так же как файлы для версии 2008 связаны только с версией 2008.
    - [Документация по SQL Server 2014](/sql/2014-toc/books-online-for-sql-server-2014?view=sql-server-2014)

- _Версия 2016 и более поздние._ &nbsp; Система управления версиями полностью реализована для SQL Server 2016 и более поздних версий.
    - [Документация по SQL Server 2016 и более поздним версиям](/sql/sql-server/index.yml?view=sql-server-2016)

## <a name="see-also"></a>См. также раздел

[Предыдущие версии SQL Server: с 2005 по 2014](../toc/previous-versions-sql-server.md)  
[Руководство по навигации в документации по SQL Server](sql-docs-navigation-guide.md)  
[Участие в работе над документацией по SQL Server](sql-server-docs-contribute.md)  
