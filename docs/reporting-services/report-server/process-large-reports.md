---
title: Обработка больших отчетов | Документы Майкрософт
ms.custom: ''
ms.date: 03/01/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-sharepoint, reporting-services-native
ms.component: report-server
ms.reviewer: ''
ms.suite: pro-bi
ms.technology: ''
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- report processing [Reporting Services], large reports
- page breaks [Reporting Services]
- large reports
- size [SQL Server], reports
- distributing reports [Reporting Services], large reports
ms.assetid: c5275a9f-c95b-46d7-bc62-633879a8a291
caps.latest.revision: 42
author: markingmyname
ms.author: maghan
manager: kfile
ms.openlocfilehash: 0c1f8df989b6b87b141870b4e5072354e8dceb3e
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="process-large-reports"></a>Обработка больших отчетов
  Обработка больших отчетов связана с определенными проблемами, и для правильного ее выполнения необходимы специальные настройки. Большие отчеты не должны выполняться по требованию, если только для них не настроена поддержка разбивки на страницы.  
  
> [!NOTE]  
>  Разрывы страниц включены по умолчанию. Если предполагается, что отчет будет содержать большое количество данных, не отключайте разрывы страниц. HTML-формат подготовки к просмотру, используемый для начальной подготовки к просмотру отчета, открывает отчет в браузере. Если отчет не разбит на страницы, все данные помещаются на одну страницу, которую большинство браузеров не смогут обработать. Например отчет, содержащий 5 000 строк данных, почти определенно нельзя просмотреть в браузере в виде одной страницы.  
  
 При работе с большим отчетом необходимо выбрать параметры выполнения, подготовки к просмотру и доставки отчета, которые подходят для больших документов. Размер отчета в значительной степени определяется набором строк, который возвращается запросом, и модулем подготовки к просмотру, используемым для представления отчета.  
  
 Размер отчетов, содержащих изменчивые данные, может претерпевать значительные изменения от одного выполнения к другому. В этом случае необходимо выполнить мониторинг источника данных для определения того, как изменчивость данных влияет на отчет, и нужно ли предпринять меры, предписанные в этом разделе.  
  
 Дополнительные сведения и рекомендации по диагностике ошибок, связанных с превышением времени ожидания соединения, и ошибок нехватки памяти см. в статье [How to diagnose issues when running reports in the report server](http://go.microsoft.com/fwlink/?LinkId=85634) (Диагностика неполадок при выполнении отчетов на сервере отчетов) на веб-сайте blogs.msdn.com.  
  
## <a name="configuration-recommendations"></a>Рекомендации по настройке  
 Рекомендации по выполнению и подготовке к просмотру отчетов, а также по доступу к ним включают следующее:  
  
-   Задайте в отчете поддержку разбиения на страницы. Сервер отчетов пересылает в каждый момент времени одну страницу. Если в отчете включено разбиение на страницы, можно проконтролировать объем данных, пересылаемых браузеру. Дополнительные сведения см. в разделе [Предварительная загрузка кэша (диспетчер отчетов)](../../reporting-services/report-server/preload-the-cache-report-manager.md).  
  
-   Для предотвращения выполнения отчета по требованию настройте его таким образом, чтобы он выполнялся как назначенный моментальный снимок отчета. Не устанавливайте значение времени ожидания выполнения отчета. Выполняйте отчеты в периоды минимальных нагрузок.  
  
-   Если необходим контроль выполнения отчета, настройте отчет на использование общего источника данных. Одним из преимуществ использования общего источника данных является то, что его можно отключить. Отключение источника данных предотвращает обработку отчета.  
  
-   При необходимости экономии места на диске отключите журнал отчета. Для отключения журнала отчета сбросьте все флажки на странице свойств «Журнал».  
  
-   Ограничьте доступ к отчету. Настройте отчет на использование безопасности уровня элемента и замените установленные по умолчанию назначения ролей новыми назначениями, разрешающими доступ только тем пользователям, которым он необходим.  
  
     По умолчанию пользователи могут открыть любой отчет, который они могут видеть в иерархии папок. Даже если отчет настроен на выполнение в качестве моментального снимка, пользователи, которые могут видеть отчет в папке, могут его открыть. Если отчет очень большой, браузер может прекратить отвечать в случае, если пользователь откроет отчет в диспетчере отчетов.  
  
## <a name="rendering-recommendations"></a>Рекомендации по подготовке к просмотру  
 Перед настройкой распространения отчета важно иметь представление о том, какие клиенты подготовки к просмотру могут работать с большими документами. Рекомендуемый формат — установленный по умолчанию модуль подготовки к просмотру в формате HTML с «мягкими» разрывами страниц, но можно выбрать любой формат, поддерживающий разбиение на страницы.  
  
 Производительность и объем потребляемой памяти зависят от формата подготовки к просмотру. Один и тот же отчет будет готовиться к просмотру с разной скоростью и потребует различного объема памяти в зависимости от выбранного формата. Наиболее быстрые в обработке и потребляющие наименьший объем памяти форматы включают CSV, XML и HTML. Форматы PDF и Excel имеют самую низкую производительность, но по разным причинам. Формат PDF в значительной степени использует ресурсы ЦП, а формат Excel потребляет значительный объем оперативной памяти. Подготовка к просмотру изображений разбивается на две группы. Можно указать формат при определении способа распространения отчета.  
  
## <a name="deployment-and-distribution-recommendations"></a>Рекомендации по развертыванию и распространению  
 Если для контроля подготовки отчета к просмотру используются разрывы страниц, большой отчет может быть развернут таким же образом, как и любой другой отчет. Доступ к отчету может предоставляться через диспетчер отчетов, веб-часть SharePoint или URL-адрес, добавляемый в портал или на веб-сайт. Все эти режимы развертывания поддерживают доступ по требованию, также как и моментальный снимок выполненного ранее отчета.  
  
 В качестве альтернативной стратегии развертывания можно рассмотреть распространение отчетов отдельным пользователям. Если вы с осторожностью относитесь к настройке параметров доставки, большие отчеты можно распространять с помощью подписок. Для доставки отчета можно использовать либо обычную подписку, либо подписку, управляемую данными. Рекомендации по подписке и доставке включают следующее:  
  
-   Настройте подписку на использование формата веб-архива (MHTML), PDF или Excel.  
  
-   В случае использования форматов PDF или Excel настройте подписку на использование доставки в общую папку. Как только отчет доставлен, для работы с ним можно использовать локальное приложение. Для определения пользователей, которые могут просматривать отчет, необходимо задать разрешения на общую папку.  
  
     Обратите внимание, что при помещении отчета в общую папку, он больше не управляется и не защищается службами [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]. Если необходимо получать уведомления при обновлениях отчета, создайте вторую подписку, использующую доставку по электронной почте, для пересылки только уведомления.  
  
 Если необходимо использовать доставку отчета по электронной почте, настройте подписку таким образом, чтобы она включала ссылку. Избегайте отправки отчетов в качестве вложений.  
  
## <a name="see-also"></a>См. также:  
 [Подписки и доставка (службы Reporting Services)](../../reporting-services/subscriptions/subscriptions-and-delivery-reporting-services.md)   
 [Установка свойств обработки отчетов](../../reporting-services/report-server/set-report-processing-properties.md)   
 [Задание учетных данных и сведениях о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md)   
 [Управление содержимым сервера отчетов (службы Reporting Services в основном режиме)](../../reporting-services/report-server/report-server-content-management-ssrs-native-mode.md)   
 [Предварительная загрузка кэша (диспетчер отчетов)](../../reporting-services/report-server/preload-the-cache-report-manager.md)  
  
  
