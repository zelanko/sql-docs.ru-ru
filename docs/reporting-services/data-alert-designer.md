---
title: "Конструктор предупреждений об изменении данных | Документы Microsoft"
ms.custom: 
ms.date: 07/02/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- reporting-services-sharepoint
- reporting-services-native
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- editing, data alerts
- updating, data alerts
- editing, alerts
- updating, alerts
- creating, data alerts
- creating, alerts
ms.assetid: b2018116-cf1a-4e54-b29c-39e0ca2bda77
caps.latest.revision: 22
author: guyinacube
ms.author: asaxton
manager: erikre
ms.translationtype: HT
ms.sourcegitcommit: dcf26be9dc2e502b2d01f5d05bcb005fd7938017
ms.openlocfilehash: 10ec05b662839e5cf2aac0d756d7ae581bdf8de9
ms.contentlocale: ru-ru
ms.lasthandoff: 08/09/2017

---
# <a name="data-alert-designer"></a>Конструктор предупреждений данных

[!INCLUDE [ssrs-appliesto](../includes/ssrs-appliesto.md)] [!INCLUDE [ssrs-appliesto-2016](../includes/ssrs-appliesto-2016.md)] [!INCLUDE [ssrs-appliesto-not-2017](../includes/ssrs-appliesto-not-2017.md)] [!INCLUDE[ssrs-appliesto-sharepoint-2013-2016i](../includes/ssrs-appliesto-sharepoint-2013-2016.md)] [!INCLUDE [ssrs-appliesto-not-pbirs](../includes/ssrs-appliesto-not-pbirs.md)]

[!INCLUDE [ssrs-previous-versions](../includes/ssrs-previous-versions.md)]

Пользователи могут создавать и изменять определения предупреждений об изменении данных в конструкторе предупреждений об изменении данных. Определение предупреждения — это коллекция метаданных, в которую входят данные отчета, интересующие вас, правила, которым должны удовлетворять данные отчета для создания экземпляров предупреждений об изменении данных и отправки предупреждающих сообщений, получатели предупреждающих сообщений и т. д.  

> [!NOTE]
> Интеграция служб Reporting Services с SharePoint больше не доступны после SQL Server 2016.

 Чтобы создать определение предупреждения, необходимо выполнить несколько взаимосвязанных задач:  
  
-   Выбрать отчет и поток данных отчета, включающий нужные данные.  
  
-   Определите правила и предложения, которые вызывают отправку предупреждений. Правила могут быть простыми или сложными, с использованием нескольких предложений, объединенных операторами AND.  
  
-   Определите частоту, с которой выдается предупреждающее сообщение, а также дату и время начала и окончания формирования предупреждений. Оповещения могут отправляться только при изменении результатов.  
  
-   Задайте электронные адреса получателей предупреждающего сообщения.  
  
-   Настроить строку **Тема:** сообщения с предупреждением.  
  
-   Предоставьте описание предупреждения, которое следует включить в предупреждающее сообщение.  
  
> [!NOTE]  
>  Поскольку функция предупреждений данных в службах [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] доступна только при установке служб [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] в режиме интеграции с SharePoint, то отчет, на основе которого требуется создать предупреждение, должен быть сохранен, развернут или загружен в библиотеку документов SharePoint.  
>   
>  Предупреждения об изменении данных нельзя создавать для отчетов, настроенных на использование встроенной проверки подлинности Windows или приглашений ко вводу учетных данных. В отчетах должны использоваться сохраненные учетные данные. Дополнительные сведения см. в статье [Specify Credential and Connection Information for Report Data Sources](../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md).  
  
 Чтобы открыть конструктор предупреждений об изменении данных, выберите пункт **Создать предупреждение об изменении данных** в меню **Действия** на панели инструментов отчета. Если команда **Создать предупреждение об изменении данных** не видна, это означает, что отчет не настроен на использование сохраненных учетных данных. Тип учетных данных можно обновить, обновив источник данных отчета в библиотеке документов SharePoint.  
  
##  <a name="AlertDesigner"></a> Пользовательский интерфейс конструктора предупреждений об изменении данных  
 Окно конструктора предупреждений об изменении данных состоит из нескольких областей. Это область, в которой можно выбрать поток данных отчета, область, в которой создаются простые или сложные условия путем добавления правил к условиям, и т. д. На следующем рисунке показаны области конструктора предупреждений об изменении данных.  
  
 ![Области в пользовательском интерфейсе конструктора предупреждений](../reporting-services/media/rs-alertdesigner.gif "области в пользовательском интерфейсе конструктора предупреждений")  
  
  
### <a name="alert-data"></a>Данные предупреждения  
 После открытия конструктора предупреждений данных создаются все веб-каналы данных из отчета и к ним предоставляется доступ, а также формируется раскрывающийся список **Имя данных отчета** , который содержит имена потоков. По мере того как пользователь создает определение предупреждения, веб-каналы данных кэшируются в памяти, поэтому заполнение таблиц для отображения данных потока при переключении между потоками данных для просмотра данных отчета происходит быстро.  
  
 Первым шагом при создании определения предупреждения об изменении данных является выбор веб-канала данных отчета, содержащего данные, которые должны отслеживаться с помощью предупреждения. Отчеты могут иметь нуль и более веб-каналов данных. Если отчет не содержит веб-каналов данных, для него нельзя создать предупреждение. Веб-канал данных может быть создан в любой области данных, включая диаграммы, датчики и индикаторы всех типов, а также таблицы, матрицы и списки.  
  
 Если отчет параметризован и в веб-канале данных отчета отсутствуют ожидаемые данные и столбцы, повторно запустите отчет, использовав соответствующие значения параметров. Для включения столбцов и значений в веб-канал данных, они должны присутствовать в отчете.  
  
 В зависимости от макета отчета может оказаться, что нельзя понять интуитивно, сколько веб-каналов данных содержит отчет и какие данные включены в тот или иной поток данных. Модуль подготовки отчетов служб [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)]Atom формирует веб-каналы данных, которые могут использоваться с предупреждениями. Модуль подготовки отчетов Atom предоставляет данные в виде плоских наборов строк — в табличном формате, в котором все столбцы имеют одинаковое количество строк. Эти наборы строк представляют собой содержимое потоков данных. Макеты отчетов часто бывают сложными и содержат несколько одноранговых или вложенных областей данных, поэтому для предоставления доступа ко всем данным отчета необходимо несколько потоков данных. Дополнительные сведения о создании веб-каналов данных из отчетов см. в разделах [Формирование веб-каналов данных из отчетов (построитель отчетов и службы SSRS)](../reporting-services/report-builder/generating-data-feeds-from-reports-report-builder-and-ssrs.md) и [Формирование веб-каналов данных из отчета (построитель отчетов и службы SSRS)](../reporting-services/report-builder/generate-data-feeds-from-a-report-report-builder-and-ssrs.md).  
  
 После выбора веб-канала данных данные этого веб-канала отображаются в таблице со строками и столбцами в области данных предупреждений конструктора предупреждений об изменении данных. Имена столбцов определяются по метаданным из источника данных, используемого в отчете, или из самого отчета, а веб-канал данных заполняет список полей, используемых для определения правил в условиях, налагаемых на данные. Поток данных содержит также метаданные, такие как типы данных столбцов таблицы, которые налагают ограничения на значения, и операторы сравнения, которые можно использовать по отношению к полям при создании правил.  
  
 Некоторые отчеты содержат миллионы строк данных. В таблице отображаются только первые 100 строк данных в потоке.  
  
### <a name="alert-name"></a>Имя предупреждения  
 По умолчанию имя определения предупреждения совпадает с именем отчета. Имя предупреждения можно заменить на более осмысленное. Это упрощает управление предупреждениями, а также определение того, какие предупреждения необходимо обновить, удалить и т. д.  
  
 Для отчета можно создать несколько предупреждений. Может существовать несколько определений предупреждений с одним и тем же именем, но рекомендуется присваивать предупреждениям уникальные имена. Это позволяет проще различать и управлять определениями предупреждений. Вы можете просматривать список всех созданных вами предупреждений в диспетчере предупреждений об изменении данных. Дополнительные сведения см. в разделах [Диспетчер предупреждений данных для оповещения администраторов](../reporting-services/data-alert-manager-for-alerting-administrators.md) и [Управление предупреждениями данных в диспетчере предупреждений данных](../reporting-services/manage-my-data-alerts-in-data-alert-manager.md).  
  
### <a name="rules-and-clauses"></a>Правила и предложения  
 Объем изменений данных и правила предупреждения определяют, какие изменения данных вызывают предупреждение. Объем изменений данных может выглядеть следующим образом.  
  
-   **Содержит некоторые данные**— по крайней мере одно значение данных удовлетворяет правилам, определяемым в условии.  
  
-   **Не содержит данных**— ни одно значение данных не удовлетворяет правилам, определенным в условии.  
  
 Правило содержит нуль, один или несколько предложений. Несколько правил объединяются с помощью логического оператора И. Правило может включать несколько предложений, объединенных оператором OR, если столбец имеет строковый тип данных. Ниже показаны базовые правила, в которых используется только одно предложение, несколько правил, объединенных оператором AND и несколько правил, объединенных одним или несколькими предложениями OR.  
  
 **Простые правила**  
  
-   Чистая выручка от продаж **превышает** 100 000  
  
-   Дата продажи **позже** 01.06.2010  
  
-   Название компании **не** Contoso  
  
 **Правила, объединенные оператором AND**  
  
-   Выручка от продаж **превышает** 1500,00,  
  
     **и** количество проданного товара **меньше** 500  
  
     Дата возврата **раньше** 01.01.2010,  
  
-   Выручка от продаж **больше или равна** 1500,00,  
  
     **и** дата возврата **позже** 01.01.2010,  
  
     **и** количество проданного товара **больше** 500  
  
-   Имя продвижения **содержит** Весна  
  
     **и** количество проданного товара **больше** 500  
  
     **и** возвращает **—**  0  
  
 **Правила с предложениями OR**  
  
-   Фамилия **—** Блайт  
  
     **Или**  Петулеску  
  
     **Или**  Мартин  
  
-   Дата возврата **позже** 01.01.2010  
  
     **и** Территория продаж **—**  Центральный  
  
     **Или**  Юг  
  
     **Или**  Север  
  
 В зависимости от типа данных поля в конструкторе предупреждений об изменении данных предоставляются разные сравнения. В конструкторе предупреждений об изменении данных предоставляются сравнения, приспособленные к использованию с типом данных поля, с которым выполняется сравнение значений. Ниже приводятся сравнения, доступные для различных типов данных. Тип данных **Boolean** не поддерживается в правилах.  
  
-   Сравнения типов данных дата-время: **—**, **не**, **раньше**и **позже**  
  
-   Сравнения числовых типов данных: **—**, **не**, **меньше**, **меньше или равно**, **больше**и **больше или равно**  
  
-   Сравнения строковых типов данных: **—**, **не**и **содержит**  
  
 При создании правила следует указать, будет ли использовано в сравнении значение или поле, выбрав **режим ввода значений** или **режим выбора поля**. Если вы выбрали **режим ввода значений**, необходимо предоставить список значений для сравнения. Сравнения с несколькими предложениями OR очень схожи с логическим сравнением IN в [!INCLUDE[tsql](../includes/tsql-md.md)], являющимся списком значений, которые необходимо проверить для нахождения совпадения. Дополнительные сведения см. в статье [IN (Transact-SQL)](../t-sql/language-elements/in-transact-sql.md).  
  
 При выборе **режима выбора поля**сравнение выполняется между двумя полями, последовательно проверяя строки. Два поля должны иметь совместимые типы данных (например, два числовых типа), иначе сравнение будет недопустимым. Список полей автоматически отображается при выборе **режима выделения поля**.  
  
 Допускаются также предупреждения об изменении данных без правил. Этот тип предупреждений может быть очень полезным. Представьте себе ситуацию, в которой требуется только уведомление о том, что в потоке данных отчета имеются данные. Поток данных содержит сведения о посетителях и остается пустым, пока посетитель не отменит сеанс. В этом случае пользователь начинает получать предупреждения после первой отмены.  
  
 Можно удалять отдельные правила и предложения.  
  
 Правила и предложения включены в предупреждающее сообщение.  
  
### <a name="schedule-settings"></a>Параметры расписания  
 Расписание, определяемое для предупреждения об изменении данных, определяет шаблон повторения для отправки предупреждающих сообщений, а также задает начало и окончание отправки предупреждающих сообщений. Шаблоны могут быть: одноразовыми, поминутными, ежедневными и еженедельными. Несмотря на то что предупреждение имеет только одно расписание, можно создавать сложные шаблоны повторения, которые удовлетворяют большинству потребностей бизнеса с помощью этих интервалов. Ниже приведены примеры общих шаблонов повторения, применимых в расписаниях.  
  
-   **Ежедневно каждые 10 дней** — предупреждения передаются один раз в день каждые 10 дней.  
  
-   **Еженедельно каждые 2 недели в понедельник** — предупреждения передаются по понедельникам, раз в две недели.  
  
-   **Ежечасно каждые 12 часов** — предупреждение передается через каждые 12 часов.  
  
-   **Поминутно каждые 30 минут** — предупреждения передаются через каждые 30 минут.  
  
 Шаблон повторения указывает время передачи предупреждения. Если правила выполняются на протяжении интервала, указанного в шаблоне, предупреждение не передается до конца интервала.  
  
 Если необходимо получить предупреждение как можно скорее при удовлетворении данными отчета заданных правил, то можно назначить частое выполнение предупреждений. Однако возможно, что вы и другие получатели будете получать излишнее число сообщений в случае, если данные отчета не будут изменяться. Если вы хотите получать сообщения только при изменении результатов от применения правил, следует выбрать параметр **Отправлять сообщение, только при изменении результатов** .  
  
> [!IMPORTANT]  
>  Без веских причин не рекомендуется использовать шаблон повторения с больше частотой, чем ежедневная. Обработка определения предупреждения об изменении данных в режиме реального времени не поддерживается. При слишком частой обработке определений предупреждений об изменении данных может снизиться производительность сервера отчетов и всего развертывания служб [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] .  
  
### <a name="email-settings"></a>Параметры электронной почты  
 Адреса электронной почты для получателей предупреждающих сообщений можно указать с помощью параметра **Получатели** . Несколько адресов электронной почты разделяются точками с запятой, также, как и в сообщениях электронной почты Microsoft Office Outlook. Также в качестве получателей можно указать группы распределения. Это облегчает и делает более эффективным управление списком получателей. Если SharePoint может определить адрес электронной почты пользователя, создающего определение предупреждения, его адрес электронной почты автоматически добавляется в список получателей; в противном случае необходимо явно добавить себя в качестве получателя.  
  
 Тема сообщения электронной почты по умолчанию **предупреждений об изменении данных для \<имя предупреждения >**. Можно изменить тему в соответствии со своими потребностями.  
  
 Также при помощи параметра **Описание** можно предоставить описание, которое будет включено в предупреждающее сообщение. Включение описания облегчит распознавание и поможет лучше понимать предупреждающие сообщения, что особенно полезно при наличия множества схожих предупреждений об изменении данных. Кроме предупреждающих сообщений, отправляемых, когда данные отчета удовлетворяют заданным правилам, существуют предупреждающие сообщения, отправляемые всем получателям при обнаружении ошибки. Дополнительные сведения см. в статье [Data Alert Messages](../reporting-services/data-alert-messages.md).  
  
 Дополнительные сведения о формировании сообщения электронной почты см. в разделе [Предупреждения об изменении данных в службах Reporting Services](../reporting-services/reporting-services-data-alerts.md).  
  
##  <a name="CreateAlert"></a> Создание определения предупреждения об изменении данных  
 Если вы имеете разрешения SharePoint на просмотр элементов и создание предупреждений, то вы можете создавать определения предупреждений об изменении данных для любого отчета, на просмотр которого вы имеете разрешение и в котором не используются учетные данные или используются сохраненные учетные записи. Запуск отчета осуществляется из библиотеки SharePoint. Данные, доступные для использования вами в конструкторе предупреждений об изменении данных, поступают из отчета. Если отчет параметризован, то может потребоваться повторно вызвать отчет на выполнение с использованием других значений параметров, чтобы обеспечить появление в отчете данных, интересующих пользователя. После открытия отчета выберите пункт **Создать предупреждение об изменении данных** в меню **Действия** на панели инструментов отчета, чтобы открыть конструктор предупреждений об изменении данных. На следующем рисунке показано, как открыть конструктор предупреждений об изменении данных.  
  
 ![Открытие конструктора предупреждений из библиотеки SharePoint](../reporting-services/media/rs-openalertdesigneriw.gif "открыть конструктор предупреждений из библиотеки SharePoint")  
  
 Дополнительные сведения см. в разделе [Создание предупреждения данных в конструкторе предупреждений данных](../reporting-services/create-a-data-alert-in-data-alert-designer.md).  
  
  
##  <a name="SaveAlert"></a> Сохранение определения предупреждения об изменении данных  
 Конструктор предупреждений об изменении данных отображает URL-адрес сайта, на котором будет сохранено определение предупреждения об изменении данных. Определения предупреждений об изменении данных всегда сохраняются на том же сайте, что и отчеты.  
  
> [!NOTE]  
>  Значения параметров, выбранные для запуска отчета, сохраняются в определении предупреждения и будут использоваться при повторном запуске отчета в ходе обработки определения предупреждения. Для использования других значений параметров, следует создать новое определение предупреждения.  
  
 Определение предупреждения перед сохранением проходит проверку. Необходимо исправить все ошибки, чтобы определение предупреждения было сохранено успешно. Дополнительные сведения см. в разделе [Создание предупреждения данных в конструкторе предупреждений данных](../reporting-services/create-a-data-alert-in-data-alert-designer.md).  
  
  
##  <a name="EditAlert"></a> Редактирование определения предупреждения об изменении данных  
 После сохранения вашего определения предупреждения об изменении данных его можно снова открыть в конструкторе предупреждений об изменении данных и внести изменения. Вы можете добавлять, изменять или удалять правила и предложения, а также изменять настройки расписания и электронной почты. Если веб-канал данных отчета, используемый предупреждением, изменился и больше не содержит поля, на которые ссылаются правила предупреждений, или произошли изменения в типах данных и других метаданных полей, определение предупреждения перестает быть допустимым и его необходимо исправить, прежде чем появится возможность его сохранить. Если нужно использовать другой веб-канал данных, следует создать новое определение предупреждения.  
  
 Чтобы редактировать определение предупреждения об изменении данных, щелкните его правой кнопкой мыши в диспетчере предупреждений об изменении данных и выберите **Изменить**. На следующем рисунке показано контекстное меню предупреждения об изменении данных в диспетчере предупреждений об изменении данных.  
  
 ![Откройте конструктор предупреждений об изменении данных, щелкнув Изменить](../reporting-services/media/rs-alertmanageriwopendesigner.gif "открыть конструктор предупреждений об изменении данных, нажав кнопку Правка")  
  
 Дополнительные сведения см. в разделе [Изменение предупреждения в конструкторе предупреждений](../reporting-services/edit-a-data-alert-in-alert-designer.md).  
  
  
##  <a name="HowTo"></a> Связанные задачи  
 В этом разделе перечислены процедуры, которые показывают, как создавать и вносить изменения в предупреждения.  
  
-   [Изменить предупреждение в конструкторе предупреждений](../reporting-services/edit-a-data-alert-in-alert-designer.md)  
  
-   [Создание предупреждения данных в конструкторе предупреждений данных](../reporting-services/create-a-data-alert-in-data-alert-designer.md)  

## <a name="see-also"></a>См. также

[Предупреждения служб Reporting Services](../reporting-services/reporting-services-data-alerts.md)   
[Диспетчер предупреждений данных для оповещения администраторов](../reporting-services/data-alert-manager-for-alerting-administrators.md)  

Дополнительные вопросы? [Попробуйте задать вопрос на форуме служб Reporting Services](http://go.microsoft.com/fwlink/?LinkId=620231)
