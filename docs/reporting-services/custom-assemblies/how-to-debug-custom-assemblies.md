---
title: Практическое руководство. Отладка пользовательских сборок | Документы Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.component: custom-assemblies
ms.reviewer: ''
ms.suite: pro-bi
ms.technology: ''
ms.tgt_pltfrm: ''
ms.topic: reference
applies_to:
- SQL Server 2016 Preview
helpviewer_keywords:
- custom assemblies [Reporting Services], debugging
- debugging custom assemblies [Reporting Services]
- troubleshooting [Reporting Services], custom assemblies
ms.assetid: 3a3215b3-548c-4474-81ba-3a98dd3912bf
caps.latest.revision: 44
author: markingmyname
ms.author: maghan
manager: kfile
ms.openlocfilehash: 9db25516b964fccfe372cab70ccce65c8e487d4e
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
ms.locfileid: "33016751"
---
# <a name="how-to-debug-custom-assemblies"></a>Практическое руководство. Отладка пользовательских сборок
  В [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] предусмотрен ряд средств отладки, помогающих проанализировать код пользовательской сборки и найти в нем ошибки. Выбор наиболее подходящего средства отладки зависит от того, какая цель должна быть достигнута. В этом примере используется [!INCLUDE[vsOrcas](../../includes/vsorcas-md.md)].  
  
 Рекомендуемый способ проектирования, разработки и тестирования пользовательских сборок для службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] состоит в создании решения, содержащего не только пользовательскую сборку, но и тестовые отчеты.  
  
### <a name="to-debug-assemblies-using-a-single-instance-of-visual-studio"></a>Отладка сборок с помощью одного экземпляра Visual Studio  
  
1.  Создание нового проекта отчета с помощью [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
     При создании проекта отчета в среде [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] создается также содержащее его решение.  
  
2.  Добавьте в существующее решение проект библиотеки классов. Убедитесь, что проект отчета задан в качестве автоматически запускаемого. Дополнительные сведения о выполнении этого действия см. в документации по среде [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
3.  Выберите решение в обозревателе решений.  
  
4.  В меню **Вид** выберите пункт **Страницы свойств**.  
  
     Откроется диалоговое окно **Страницы свойств решения**.  
  
5.  В панели слева разверните при необходимости пункт **Общие свойства**, затем нажмите кнопку **Зависимости проекта**. Выберите проект отчета в раскрывающемся списке **Проект**. Выберите проект сборки в списке **Зависит от**.  
  
6.  Нажмите кнопку **ОК**, чтобы сохранить изменения и выйти из диалогового окна **Страницы свойств**.  
  
7.  В обозревателе решений выберите проект пользовательской сборки.  
  
8.  В меню **Вид** выберите пункт **Страницы свойств**.  
  
     Откроется диалоговое окно **Страницы свойств проекта**.  
  
9. Щелкните вкладку **Сборка**, если это проект C#, или вкладку **Компиляция**, если это проект [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)].  
  
10. На странице **Сборка**/**Компиляция** введите путь к папке конструктора отчетов. По умолчанию это путь C:\Program Files\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE) в текстовом поле **Выходной путь**. В результате перед выполнением отчета произойдет построение и развертывание обновленной версии пользовательской сборки непосредственно в конструкторе отчетов.  
  
11. После того как будет сконструирован отчет и разработана пользовательская сборка, задайте точки останова в коде пользовательской сборки.  
  
12. Запустите отчет в режиме **DebugLocal**. Для этого нажмите клавишу F5. После того как отчет запустится во всплывающем окне предварительного просмотра, отладчик будет обрабатывать все точки останова, соответствующие исполняемому коду в сборке. Для пошагового выполнения кода пользовательской сборки воспользуйтесь клавишей F11.  
  
### <a name="to-debug-assemblies-using-two-instances-of-visual-studio"></a>Отладка сборок с помощью двух экземпляров Visual Studio  
  
1.  Запустите среду [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] и откройте проект пользовательской сборки.  
  
2.  В конструкторе отчетов постройте проект и выполните развертывание пользовательской сборки и сопутствующего файла PDB. Дополнительные сведения о развертывании см. в разделе [Развертывание пользовательской сборки](../../reporting-services/custom-assemblies/deploying-a-custom-assembly.md).  
  
3.  Откройте проект отчета, в котором используется сборка, после чего оставьте ее код открытым в отдельном экземпляре [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
4.  Перейдите к экземпляру [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], который содержит проект пользовательской сборки, и задайте в коде необходимые точки останова.  
  
5.  Оставив активным окно проекта пользовательской сборки, выберите **Присоединить к процессу** в меню **Отладка**.  
  
     Откроется диалоговое окно **Присоединение к процессу**.  
  
6.  Выберите из списка процессов devenv.exe, который соответствует проекту отчета, и нажмите кнопку **Присоединить**.  
  
7.  Определите выражения из пользовательской сборки, которые будут использоваться в отчете, и создайте отчет.  
  
8.  После завершения проектирования отчета щелкните вкладку **Просмотр**.  
  
     Отчет запустится, и выполнение кода пользовательской сборки будет прерываться в ранее заданных точках останова.  
  
    > [!NOTE]  
    >  Вкладка **Просмотр** не позволяет принудительно применять разрешения кода для этой сборки. Для полного тестирования, которое затрагивает все ошибки безопасности при управлении доступом для кода, запустите проект отчета с параметром конфигурации **DebugLocal**.  
  
9. Перемещайтесь по шагам кода с помощью клавиши F11. Дополнительные сведения об отладке с помощью среды [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] см. в документации по [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
## <a name="see-also"></a>См. также:  
 [Использование пользовательских сборок с отчетами](../../reporting-services/custom-assemblies/using-custom-assemblies-with-reports.md)  
  
  
