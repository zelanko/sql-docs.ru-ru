---
title: "Занятие 2: Определение подключения к данным и таблицы данных для родительского отчета | Документы Microsoft"
ms.custom: 
ms.date: 05/18/2016
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- reporting-services-native
ms.tgt_pltfrm: 
ms.topic: article
applies_to:
- SQL Server 2016
ms.assetid: f02dee0c-85ad-45d4-b707-10e9e8541db9
caps.latest.revision: 8
author: guyinacube
ms.author: asaxton
manager: erikre
ms.translationtype: HT
ms.sourcegitcommit: f3481fcc2bb74eaf93182e6cc58f5a06666e10f4
ms.openlocfilehash: adc2cc7d329586bae6fb85edb08d71fe51aaaef8
ms.contentlocale: ru-ru
ms.lasthandoff: 08/09/2017

---
# <a name="lesson-2-define-a-data-connection-and-data-table-for-parent-report"></a>Занятие 2. Определение подключения к данным и таблицы данных для родительского отчета
После создания нового проекта веб-сайта с использованием шаблона веб-сайта ASP.NET для Visual C# далее необходимо создать подключение к данным и таблицу данных для родительского отчета. В этом учебнике в качестве источника подключения к данным используется база данных AdventureWorks2014.  
  
## <a name="to-define-a-data-connection-and-data-table-by-adding-a-dataset-for-parent-report"></a>Определение подключения к данным и таблицы данных путем добавления набора данных (для родительского отчета)  
  
1.  В меню **Веб-сайт** выберите команду **Добавить новый элемент**.  
  
2.  В диалоговом окне **Добавление нового элемента** выберите **Набор данных** и нажмите кнопку **Добавить**. После получения соответствующего запроса необходимо добавить элемент в папку **App_Code** , нажав кнопку **Да**.  
  
    В результате к проекту добавляется новый XSD-файл **DataSet1.xsd** и открывается конструктор набора данных.  
  
3.  Из окна "Панель элементов" перетащите элемент управления **[TableAdapter](http://msdn.microsoft.com/library/bz9tthwx.aspx)** в рабочую область конструирования. Запустится мастер настройки **TableAdapter** .  
  
4.  На странице **Выбор подключения к данным** щелкните **Новое подключение**.  
  
5.  Если источник данных в Visual Studio создается впервые, откроется страница **Выбор источника данных** . В поле **Источник данных** выберите **Microsoft SQL Server**.  
  
6.  В диалоговом окне **Добавление подключения** выполните указанные ниже действия.  
  
    1.  В поле **Имя сервера** укажите сервер, на котором расположена база данных **AdventureWorks2014** .  
  
        Экземпляром SQL Server Express по умолчанию является **(local)\sqlexpress**.  
  
    2.  В разделе **Вход на сервер** выберите параметр, который предоставляет доступ к данным. По умолчанию установлен параметр**Использовать проверку подлинности Windows** .  
  
    3.  В раскрывающемся списке **Выберите или введите имя базы данных** выберите элемент **AdventureWorks2014**.  
  
    4.  Нажмите кнопку **ОК**, а затем кнопку **Далее**.  
  
7.  Если в шаге 6 (b) был выбран вариант **Использовать проверку подлинности SQL Server** , выберите включение конфиденциальных данных в строку или задание этих сведений в коде приложения.  
  
8.  На странице **Сохранение подключения в файле конфигурации приложения** введите имя для строки подключения или примите значение по умолчанию **AdventureWorks2014ConnectionString**. Выберите **Далее**.  
  
9. На странице **Выбор типа команды** выберите **Использовать инструкции SQL**, а затем нажмите кнопку **Далее**.  
  
10. На странице **Ввод инструкции SQL** введите приведенный ниже запрос Transact-SQL для извлечения данных из базы данных **AdventureWorks2014** , а затем нажмите кнопку **Далее**.  
  
    ```  
    SELECT ProductID, Name, ProductNumber, SafetyStockLevel, ReorderPoint FROM  Production.Product Order By ProductID  
    ```  
  
    Для создания запроса также можно щелкнуть **Построитель запросов**, а затем проверить запрос, нажав кнопку **Выполнить запрос**. Если запрос не возвращает ожидаемые данные, возможно, используется более ранняя версия AdventureWorks. Дополнительные сведения о получении образца базы данных **AdventureWorks2014** см. на странице [Образцы баз данных Microsoft SQL Server](http://msftdbprodsamples.codeplex.com/).  
  
11. На странице **Выбор методов для автоматического создания** снимите флажок **Создать методы для отправки обновлений непосредственно в базу данных (GenerateDBDirectMethods)**, а затем нажмите кнопку **Готово**.  
  
    > [!WARNING]  
    > Обязательно снимите флажок **Создать методы для отправки обновлений непосредственно в базу данных (GenerateDBDirectMethods)**.  
  
    На этом настройка объекта DataTable ADO.NET в качестве источника данных для отчета завершена. На странице конструктора набора данных в Visual Studio появится добавленный объект DataTable со списком столбцов, указанных в запросе. Набор данных DataSet1 содержит данные таблицы Product, полученные с помощью запроса.  
  
12. Сохраните файл.  
  
13. Для предварительного просмотра данных выберите пункт **Предварительный просмотр данных** в меню **Данные** , а затем щелкните **Предварительный просмотр**.  
  
## <a name="next-task"></a>Следующая задача  
Тем самым были успешно созданы подключение к данным и таблица данных для родительского отчета. Затем необходимо спроектировать родительский отчет с использованием мастера отчетов. См. [Занятие 3. Проектирование родительского отчета с использованием мастера отчетов](../reporting-services/lesson-3-design-the-parent-report-using-the-report-wizard.md).  
  


