---
title: Примеры URL-адресов для элементов на сервере отчетов в режиме интеграции с SharePoint | Документы Майкрософт
ms.date: 03/14/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-sharepoint, reporting-services-native
ms.technology: tools
ms.topic: conceptual
ms.assetid: 54cb861a-8cec-445c-875d-599fb9bd1973
author: markingmyname
ms.author: maghan
ms.openlocfilehash: a21d053818991c19e8b57ce60c11f4766973b6ec
ms.sourcegitcommit: 61381ef939415fe019285def9450d7583df1fed0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2018
ms.locfileid: "47839562"
---
# <a name="url-examples-for-items-on-a-report-server---sharepoint-mode"></a>Примеры URL-адресов для элементов на сервере отчетов в режиме интеграции с SharePoint
  Чтобы опубликовать отчеты и связанные с ними элементы в библиотеке SharePoint, можно опубликовать содержимое с помощью таких средств разработки [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , как конструктор отчетов, или передать содержимое средствами сайта SharePoint.  
  
 Сайты SharePoint используют веб-адреса, отличные от адресов сервера отчетов служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в собственном режиме. Веб-иерархия сайта SharePoint включает веб-приложение SharePoint, сайт верхнего уровня, необязательные вложенные сайты и библиотеки. Необходимо знать правила создания URL-адреса, определяющего сервер SharePoint и расположение объектов иерархии сайта SharePoint, на котором будет опубликован отчет или связанные с ним элементы.  
  
 К элементам, связанным с отчетом, относятся общие источники данных, вложенные отчеты, детализированные отчеты и ресурсы, например файлы веб-изображений. Отчет, опубликованный в библиотеке SharePoint, должен указывать расположение таких связанных элементов в библиотеке SharePoint.  
  
 Примеры в этом разделе помогут создавать URL-адреса для отчетов и связанных с ними элементов в ваших системах отчетности.  
  
## <a name="site-hierarchy"></a>Иерархия сайта  
 При настройке сервера отчетов для запуска в режиме интеграции с SharePoint для адресации элементов, обрабатываемых и управляемых сервером отчетов, используется веб-иерархия SharePoint.  
  
 Для доступа к содержимому сервера отчетов и его защите могут быть использованы следующие элементы веб-иерархии. Прочие объекты (списки, страницы и т. д.) не используются для доступа к содержимому сервера отчетов и в данной таблице не описаны.  
  
|Объект|Описание|  
|------------|-----------------|  
|Веб-приложение SharePoint|Веб-приложение SharePoint может быть установлено как на изолированном сервере, так и в составе фермы, содержащей коллекцию виртуальных серверов. Веб-приложение имеет URL-адрес (например, `http:*//servername*`) и может содержать несколько сайтов.|  
|Сайт|Сайт является либо родительским сайтом для веб-приложения, либо вложенным сайтом.|  
|Библиотека SharePoint|Библиотека содержит документы или папки. Библиотека и папка являются единственными объектами сайта, в которых могут храниться отчеты, модели отчетов, общие источники данных и внешние изображения.|  
|Элемент|Элементы сервера отчетов, на которые можно ссылаться по URL-адресу, включают в себя определения отчетов (для основного или вложенного отчета), модели отчетов, общие источники данных и внешние изображения.|  
  
## <a name="url-syntax-and-rules"></a>Синтаксис и правила формирования URL-адресов  
 Каждый элемент сервера отчетов в библиотеке характеризуется полным URL-адресом, который состоит из префикса протокола, имени сервера, сайта, библиотеки, имени и расширения файла.  
  
### <a name="url-for-a-sharepoint-server"></a>URL-адрес сервера SharePoint  
 URL-адрес сервера SharePoint указывается при развертывании на сервере отчетов проекта сервера отчетов или модели отчетов из среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] .  
  
 Чтобы узнать имя сервера, откройте браузер и найдите библиотеку SharePoint, в которой необходимо опубликовать отчет. Имя сервера указывается сразу после префикса протокола, например `http:*//servername*`.  
  
 Конечная точка-посредник для URL-адреса служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] не поддерживается. Конечная точка прокси включает номер порта, например `http:*//servername:8080/reportserver*`.  
  
### <a name="url-for-a-sharepoint-server-site-or-subsite"></a>URL-адрес сайта или дочернего сайта SharePoint  
 При развертывании отчета или источника данных необходимо указывать URL-адрес сайта и вложенного сайта SharePoint, если он есть. В URL-адресе имя сайта находится сразу после имени сервера, например `http://*servername/site*` или `http://*servername/site/subsite*`.  
  
 В [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007 или веб-приложении [!INCLUDE[SPS2010](../../includes/sps2010-md.md)] сайт и дочерний сайт часто соответствуют вкладкам на основном сайте. Чтобы узнать имя сайта, выберите **Корневая папка**, а затем **Все содержимое сайта**. Прокрутите страницу до конца и найдите раздел **Сайты и рабочие области**. В этом разделе отображается список сайтов.  
  
### <a name="url-for-a-sharepoint-library"></a>URL-адрес библиотеки SharePoint  
 При развертывании отчета или связанного элемента в библиотеке SharePoint необходимо указывать URL-адрес этой библиотеки. Точная структура URL-адреса для библиотеки зависит от версии SharePoint.  
  
 В [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] 3.0 и [!INCLUDE[SPF2010](../../includes/spf2010-md.md)] библиотека указывается сразу после имени сервера, например `http://*servername/*Shared Documents`.  
  
 В [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007 или [!INCLUDE[SPS2010](../../includes/sps2010-md.md)]библиотека указывается после имени сайта и дочернего сайта. Например, `http://*servername/site/*Documents`.  
  
 Чтобы узнать путь к новой библиотеке SharePoint или к незнакомому сайту, откройте браузер и найдите библиотеку SharePoint, в которой должен быть опубликован отчет. Если библиотека пуста, передайте в нее любой файл. Чтобы открыть окно **Свойства** , щелкните правой кнопкой мыши этот файл и выберите пункт **Свойства** . Адрес файла содержит URL-адрес, который необходим для публикации.  
  
### <a name="fully-qualified-urls-for-items-on-a-sharepoint-site"></a>Полные URL-адреса для элементов сайта SharePoint  
 К элементам, которые хранятся в библиотеке SharePoint, необходимо обращаться по полным URL-адресам, которые начинаются с веб-приложения (`http://*server*`) как корневого узла и заканчиваются именем файла, к которому вы обращаетесь.  
  
 Имя файла, указанное в URL-адресе, должно включать расширение.  
  
 Для зависимых элементов в отчетах, публикуемых на сайте SharePoint, нельзя использовать относительные URL-адреса. Например, нельзя указать относительный URL-адрес для ссылки на общий источник данных, модель отчета или вложенный отчет. Для каждого элемента должен всегда указываться полный URL-адрес в библиотеке SharePoint. Невозможно предсказать, где будет расположен зависимый файл, поскольку отсутствует стандартная иерархия для сайтов, которую можно было бы использовать при синтаксическом анализе формата URL-адреса.  
  
 При публикации или передаче отчета, который содержит зависимые элементы, ссылки на них необходимо задавать после публикации отчета. Не гарантируется, что ссылки, которые правильно работали в режиме предварительного просмотра в конструкторе отчетов, будут работать после его публикации. Дополнительные сведения см. в подразделе [Публикация в библиотеке SharePoint из средств разработки](#publishingToDocLib) этого раздела.  
  
### <a name="urls-for-external-images"></a>URL-адреса для внешних изображений  
 Определение отчета может включать изображения, которые хранятся в виде внешних файлов. Ссылаться на эти файлы можно в определении отчета, указывая полный URL-адрес файла изображения. Он может храниться как на сайте SharePoint, так и на удаленном компьютере.  
  
> [!IMPORTANT]  
>  Если внешний URL-адрес изображения указывает на сайт SharePoint, то при предварительном просмотре отчета в построителе отчетов появляется значок разорванного изображения. После передачи отчета на сайт SharePoint и обработки отчета в подключенном режиме значок разорванного изображения появляется, если имеются только разрешения **View Items** .  
  
 Независимо от режима работы сервера отчетов ссылки на файлы внешних изображений в отчете должны быть полными URL-адресами. Кроме того, использование ссылок на внешние изображения обычно требует настройки учетной записи для автоматической обработки отчета.  
  
### <a name="specifying-subreports-and-drillthrough-reports"></a>Задание вложенных отчетов и детализированных отчетов  
 Вложенные отчеты должны находиться в той же папке, что и главный отчет. Нельзя указывать относительную папку.  
  
 Чтобы указать детализированные отчеты, включите в выражение URL-адрес. Например, чтобы указать отчет с именем SalesDetails в качестве детализированного, в окне действия для текстового поля или текста-заполнителя установите в параметре ReportName следующее выражение:  
  
```  
="http://site/subsite/documentlibrary/SalesDetails.rdl"  
```  
  
### <a name="reserved-names-on-sharepoint-sites"></a>Зарезервированные имена на сайтах SharePoint  
 При создании или формировании URL-адреса для элемента, расположенного на сайте SharePoint, следует помнить, что слова **Personal** и **Sites** являются зарезервированными именами сайта по умолчанию.  
  
## <a name="examples-of-urls"></a>Примеры URL-адресов  
 При публикации элементов в библиотеке SharePoint необходимо указывать полный URL-адрес целевой библиотеки. Полный URL-адрес SharePoint включает веб-приложение SharePoint, сайт, библиотеку, папку (необязательно), имя и расширение файла. В следующем примере приведено несколько примеров синтаксиса, которым следует пользоваться.  
  
|Назначение|Пример URL-адреса|  
|------------|-----------------|  
|Сервер SharePoint.|`http://TestServer`|  
|Сайт или дочерний сайт сервера SharePoint.|`http://TestServer/toplevelsite/subsite`|  
|Образец отчета Company Sales в папке **Общие документы** в развертывании [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] или [!INCLUDE[SPF2010](../../includes/spf2010-md.md)] .|`http://TestServer/TestSite/Shared%20Documents/Company%20Sales.rdl`|  
|Образец отчета "Company Sales" (Продажи компании) в папке **Documents/Doc** на экземпляре [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] или [!INCLUDE[SPS2010](../../includes/sps2010-md.md)] .|`http://TestServer/TestSite/Documents/Doc/Company%20Sales.rdl`|  
|Образец отчета «Продажи компании» в папке **Центр отчетов** на экземпляре [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] или [!INCLUDE[SPS2010](../../includes/sps2010-md.md)] .|`http://TestServer/TestSite/Reports/Doc/Company%20Sales.rdl`|  
  
##  <a name="publishingToDocLib"></a> Публикация в библиотеке SharePoint из средств разработки  
 Если публикация отчетов и связанных с ними файлов в библиотеке производится при помощи средства разработки отчетов, все файлы перед добавлением проверяются. При передаче отчетов и связанных файлов с помощью действия **Передача** из библиотеки SharePoint никакая проверка не проводится. Является ли файл допустимым, будет неизвестно до тех пор, пока к отчету не будет осуществлен доступ для управления, изменения или запуска.  
  
> [!NOTE]  
>  Для публикации отчетов на сайте SharePoint из среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]может понадобиться добавить сайт SharePoint в список надежных расположений в браузере Internet Explorer.  
  
### <a name="shared-data-sources"></a>Общие источники данных  
 При публикации общего источника данных из средства разработки отчетов задается свойство проекта **TargetDataSourceFolder**. Это свойство определяет папку целевого источника данных и должно представлять собой URL-адрес библиотеки SharePoint. В отличие от служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в собственном режиме, указание относительных путей недопустимо. Если папка в пути библиотеки документа не существует, она будет создана.  
  
 При публикации общего источника данных (RDS-файла) на сайте SharePoint, его расширение изменяется на RSDS. После этого он не может быть ни сохранен локально с сайта SharePoint, ни импортирован в существующий проект служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Общие источники данных с расширениями RDS и RSDS не являются взаимозаменяемыми.  
  
#### <a name="shared-data-sources-from-report-designer"></a>Общие источники данных из конструктора отчетов  
 При публикации общего источника данных из проекта конструктора отчетов необходимо либо указать URL-адрес целевой библиотеки, либо оставить это поле пустым. В отличие от служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в собственном режиме, указание относительных путей недопустимо. Если папка в пути библиотеки документа не существует, она будет создана. Если поле папки целевого источника данных оставить пустым, источник данных будет опубликован в папке целевого отчета.  
  
### <a name="file-names"></a>Имена файлов  
 Имя файла в URL-адресе элементов отчета должно включать расширение, определяющее тип файла. При публикации элементов отчета из средства разработки отчетов расширение имени файла добавляется автоматически. Если элемент отчета передается в библиотеку SharePoint, необходимо указать расширение файла.  
  
 Если не указать расширение файла для элементов, передаваемых на сайт SharePoint, возникнет ошибка **rsInvalidDataSourceReference** . Имена файлов не могут содержать символы, которые воспринимаются приложениями SharePoint как недопустимые в именах файлов. Не включать следующие знаки: # % & * : < > ? / { | }.  
  
## <a name="differences-between-uploading-and-publishing"></a>Различия между передачей и публикацией  
 Если отчеты и связанные файлы публикуются с помощью конструктора отчетов или построителя отчетов, все файлы перед добавлением проверяются. При передаче отчетов и связанных файлов с помощью действия **Передача** из библиотеки SharePoint никакая проверка не проводится. Является ли файл допустимым, будет неизвестно до тех пор, пока к отчету не будет осуществлен доступ для управления, изменения или запуска.  
  
## <a name="updating-a-published-item"></a>Передача опубликованного элемента  
 После публикации или передачи элемента в библиотеку SharePoint перед его обновлением необходимо извлечь этот элемент из библиотеки. Пока отчет извлечен пользователем, только этот пользователь будет иметь разрешение на изменение отчета. После окончания работы с отчетом его необходимо вернуть.  
  
 Если отчет передан или опубликован без предварительного извлечения (например, при передаче элемента с тем же именем, что и у существующего), то сервер отчетов производит его извлечение, добавление новой версии существующего элемента, а затем возврат документа.  
  
## <a name="external-images-as-resources"></a>Внешние изображения как ресурсы  
 Сервер отчетов, работающий в собственном режиме, поддерживает понятие ресурса, который определяется как произвольный файл, хранение и защита которого обеспечивается сервером отчетов, однако он не обрабатывает его содержимое. В собственном режиме это может быть файл любого типа.  
  
 Когда сервер отчетов работает в режиме интеграции с SharePoint, для ресурса используется более узкое определение. Сервер отчетов поддерживает ресурсы для хранимых отчетов, ссылающихся на внешние изображения. Это относится к отчетам, которые являются моментальными снимками или копиями, сохраняемыми для внутреннего использования.  
  
## <a name="see-also"></a>См. также:  
 [опубликовать отчет в библиотеке SharePoint](../../reporting-services/reports/publish-a-report-to-a-sharepoint-library.md)   
 [Публикация общего источника данных в библиотеку SharePoint](../../reporting-services/reports/publish-a-shared-data-source-to-a-sharepoint-library.md)   
 [Диалоговое окно страниц свойств проекта](../../reporting-services/tools/project-property-pages-dialog-box.md)  
  
  
