---
title: Указание соединений для пользовательских модулей обработки данных | Документы Майкрософт
ms.date: 05/24/2018
ms.prod: reporting-services
ms.prod_service: reporting-services-sharepoint, reporting-services-native
ms.technology: report-data
ms.topic: conceptual
helpviewer_keywords:
- custom data processing extensions [Reporting Services]
- IDbConnection interface, connection strings
- impersonation [Reporting Services]
- IDbConnectionExtension interface, connection strings
- data sources [Reporting Services], security
- connection strings [Reporting Services]
- credentials [Reporting Services]
- authentication [Reporting Services]
- external data sources [Reporting Services]
- data processing extensions [Reporting Services], connections
ms.assetid: 2cddc9ea-0e28-4350-80ae-332412908e47
author: markingmyname
ms.author: maghan
ms.openlocfilehash: 4d55a57a1730abafa2f389c252be7c25681dbe89
ms.sourcegitcommit: 61381ef939415fe019285def9450d7583df1fed0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2018
ms.locfileid: "47664642"
---
# <a name="specify-connections-for-custom-data-processing-extensions"></a>Указание соединений для пользовательских модулей обработки данных
  Для расширения возможностей поддерживаемых источников данных или поддержки их дополнительных типов, недоступных при стандартной установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , на сервере отчетов можно создавать пользовательские модули обработки данных или использовать модули сторонних разработчиков. Соединения обрабатываются по-разному, в зависимости от реализации. Для модулей обработки данных существуют следующие реализации.  
  
-   Дополнительные поставщики данных на основе платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] (при доступе к данным из источников данных DB2.NET, Oracle, ODP.NET или Teradata может использоваться дополнительный поставщик данных .NET)  
  
-   Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>  
  
-   Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>  
  
> [!NOTE]  
>  Узнайте у стороннего поставщика сведения о том, как реализован пользовательский модуль обработки данных.  
  
## <a name="impersonation-and-custom-data-processing-extensions"></a>Олицетворение и пользовательские модули обработки данных  
 Если пользовательский модуль обработки данных использует для подключения к источникам данных олицетворение, то для выполнения запроса следует применить метод интерфейса <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> или <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> . Кроме того, можно сохранить объект удостоверения пользователя (System.Security.Principal.WindowsIdentity), а затем использовать его в API-интерфейсах других модулей обработки данных.  
  
 В предыдущих версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]все вызовы пользовательских модулей обработки данных производились через олицетворение пользователя. В этой версии при олицетворении пользователя будет происходить только вызов метода Open. Если используется существующий модуль обработки данных, требующий встроенной безопасности Windows, следует изменить код так, чтобы применялся метод Open или сохранялся объект удостоверения пользователя.  
  
## <a name="connections-for-custom-net-framework-data-providers"></a>Соединения для пользовательских поставщиков данных на основе платформы .NET Framework  
 При настройке отчета для использования конкретного источника данных следует установить свойства, определяющие тип источника данных, строку соединения и учетные данные, используемые для доступа к источнику данных. В следующей таблице описаны типы учетных данных, поддерживаемые поставщиками данных платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] . Дополнительные сведения о задании свойств источника данных отчета см. в разделе [Задание учетных данных и сведений о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md).  
  
|Учетные данные|Соединения|  
|-----------------|-----------------|  
|Встроенные функции безопасности|Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает. Запрос передается с учетными данными текущего пользователя.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI** ).|  
|Проверка подлинности Windows.|Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность. Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI** ).|  
|Учетные данные базы данных|Для соединений, осуществляемых с помощью пользовательского поставщика данных платформы .NET, проверка подлинности базы данных не поддерживается. Во всех случаях серверу отчетов не удастся установить соединение.|  
|Без учетных данных|С пользовательскими поставщиками данных на основе платформы .NET можно устанавливать соединение без учетных данных. Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные. Для соединения сервер отчетов олицетворяет автоматическую учетную запись выполнения.<br /><br /> Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение. Дополнительные сведения об определении учетной записи см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).|  
  
## <a name="connections-for-idbconnection"></a>Соединения для интерфейса IDbConnection  
 Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>, соединение следует указать следующим образом.  
  
1.  Настройка учетной записи автоматического выполнения. Для соединений, использующих интерфейс **IDbConnection**, настройка этой учетной записи необходима. При соединении сервер отчетов олицетворяет эту учетную запись, если она создана.  
  
2.  Настроить свойства источника данных для отчета на работу **без учетных данных**.  
  
3.  Поместите учетные данные, используемые для подключения к источнику данных, в строку соединения.  
  
 При использовании интерфейса **IDbConnection**не поддерживаются следующие типы учетных данных: встроенная безопасность, учетные записи пользователей Windows и учетные данные базы данных. Если при соединении с источником данных используются эти параметры, осуществить подключение на сервере отчетов не удастся.  
  
## <a name="connections-for-idbconnectionextension"></a>Соединения для интерфейса IDbConnectionExtension  
 Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, соединение следует указать следующим образом.  
  
|Учетные данные|Соединения|  
|-----------------|-----------------|  
|Встроенные функции безопасности|Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает, с пользовательскими модулями обработки данных, использующими интерфейс **IDbConnectionExtension**.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI** ).|  
|Проверка подлинности Windows.|Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность, с пользовательскими модулями обработки данных, использующими интерфейс **IDbConnectionExtension**.<br /><br /> Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя. При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI** ).|  
|Учетные данные базы данных|Для настройки соединений для пользовательских модулей обработки данных, использующих интерфейс **IDbConnectionExtension**, можно применить проверку подлинности базы данных.|  
|Без учетных данных|Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные.<br /><br /> Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение.|  
  
## <a name="see-also"></a>См. также:  
 [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md)   
 [Задание учетных данных и сведениях о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md)   
 [Подключения к данным, источники данных и строки подключения &#40;построитель отчетов и службы SSRS&#41;](../../reporting-services/report-data/data-connections-data-sources-and-connection-strings-report-builder-and-ssrs.md)   
 [Реализация модуля обработки данных](../../reporting-services/extensions/data-processing/implementing-a-data-processing-extension.md)   
 [Настройка свойств источника данных для отчета](../../reporting-services/report-data/configure-data-source-properties-for-a-report-report-manager.md)  
  
  
