---
title: "Совместное использование веб-каналов данных с помощью библиотеки каналов данных (Power Pivot для SharePoint) | Документы Microsoft"
ms.custom: 
ms.date: 03/01/2017
ms.prod: analysis-services
ms.prod_service: analysis-services
ms.service: 
ms.component: 
ms.reviewer: 
ms.suite: pro-bi
ms.technology:
- analysis-services
- analysis-services/multidimensional-tabular
- analysis-services/data-mining
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: data feeds [Analysis Services with SharePoint]
ms.assetid: 4ec98dec-0cd2-4727-bb79-5bf6f8a865d6
caps.latest.revision: "26"
author: Minewiskan
ms.author: owend
manager: kfile
ms.workload: Inactive
ms.openlocfilehash: 70d102f069894aec4e6286e3bdc590f41fcdbbea
ms.sourcegitcommit: f1a6944f95dd015d3774a25c14a919421b09151b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2017
---
# <a name="share-data-feeds-using-a-data-feed-library-power-pivot-for-sharepoint"></a>Совместное использование веб-каналов данных Power Pivot с помощью библиотеки каналов данных (Power Pivot для SharePoint)
[!INCLUDE[ssas-appliesto-sqlas](../../includes/ssas-appliesto-sqlas.md)]Каналом данных называется поток XML-данных, созданный из службы или приложения, предоставляющего данные в формате Atom. Он все чаще используется для передачи данных между приложениями и средствами просмотра на стороне клиента. В развернутой службе [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для SharePoint веб-каналы данных используются для заполнения источника данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] данными приложений или служб, поддерживающих Atom.  
  
 Если в организации уже используется сочетание приложений с поддержкой Atom, то изучение этих форматов может и не понадобиться, поскольку данные передаются между приложениями без дополнительных преобразований. Однако организациям, использующим пользовательские решения для публикации веб-каналов Atom, часто нужны способы обеспечения доступа к каналам для специалистов по работе с данными. Один из таких способов заключается в создании и предоставлении общего доступа к сервисным документам данных (ATOMSVC-файлам), которые предназначены для создания каналов и установления соединения с источниками данных в сети. Специальная библиотека, которая называется библиотекой каналов данных, поддерживает создание и предоставление общего доступа к сервисным документам данных в веб-приложении SharePoint.  
  
 Этот раздел состоит из следующих подразделов.  
  
 [Предварительные требования](#prereq)  
  
 [Создание сервисного документа данных](#createdsdoc)  
  
 [Обеспечение безопасности сервисного документа данных](#securedsdoc)  
  
 [Изменение сервисного документа данных](#modifydsdoc)  
  
 [Следующий шаг. Использование сервисного документа данных](#usedsdoc)  
  
> [!NOTE]  
>  Хотя каналы данных служат для добавления веб-данных к источнику данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , создаваемому в [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)], все клиентские приложения, совместимые с веб-каналами Atom, могут обрабатывать сервисный документ данных.  
  
##  <a name="prereq"></a> Предварительные требования  
 Необходимо развертывание [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для SharePoint, обеспечивающее обработку запросов [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в ферме SharePoint. Развертывание поддержки каналов данных производится с помощью пакета решения [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .  
  
 Необходима библиотека SharePoint, поддерживающая тип содержимого сервисного документа данных. Для этих целей рекомендуется пользоваться библиотекой каналов данных по умолчанию, но при необходимости можно добавить тип содержимого к любой библиотеке. Дополнительные сведения см. в разделе [Создание или настройка библиотеки веб-каналов данных (PowerPivot для SharePoint)](../../analysis-services/power-pivot-sharepoint/create-or-customize-a-data-feed-library-power-pivot-for-sharepoint.md).  
  
 Необходима служба данных или источник данных в сети, обеспечивающий представление табличных данных XML в формате Atom 1.0.  
  
 Для создания и работы с сервисным документом данных в библиотеке SharePoint необходимо разрешение «Участие» на сайте SharePoint.  
  
##  <a name="createdsdoc"></a> Создание сервисного документа данных  
 Сервисный документ данных представляет собой продолжительный запрос данных из потока по запросу из источника данных в сети или из приложения, которое поставляет данные в формате канала. При создании сервисного документа данных необходимо выбрать указатель на одну или несколько служб данных, доступных через URL-адрес, которые обеспечивают передачу табличных данных XML в синдицированном формате Atom.  
  
 Один документ может использоваться для указания нескольких каналов данных. Эта возможность используется при необходимости извлечения набора полезных данных из одной или нескольких служб в одной операции импорта.  
  
1.  На сайте SharePoint откройте библиотеку потоков данных или другую библиотеку документов, в которой был добавлен и настроен тип содержимого службы данных. Ранее созданную библиотеку потоков данных можно найти, выбрав **Просмотреть все** на панели быстрого запуска.  
  
2.  На ленте в верхней части страницы в инструментах документа выберите **Документы**.  
  
3.  Нажмите **Создать документ** и выберите **Сервисный документ данных**.  
  
4.  На странице нового сервисного документа данных введите следующие данные.  
  
    1.  Имя и описание сервисного документа данных. Описание должно быть достаточно подробным, чтобы пользователь мог принять решение о целесообразности использования канала.  
  
    2.  В канале данных введите URL-адрес службы данных или веб-приложения, поставляющего данные в формате Atom 1.0.  
  
         URL-адрес должен указывать на службу, которая возвращает структурированные или полуструктурированные данные в строках и столбцах. Служба должна возвращать данные анонимно или по учетным данным безопасности текущего пользователя.  
  
         URL-адрес должен указывать на службу, которая поддерживает проверку подлинности Windows, обычную проверку подлинности или анонимный доступ. Выбор используемой схемы выполняется пользователем, импортирующим канал. Встроенные функции безопасности выбираются по умолчанию.  
  
         URL-адрес канала данных может включать параметры. Различные технологии служб данных поддерживают сложные схемы адресации с использованием URL-адресов, позволяющие выбрать только те данные, которые необходимы. Например, служба данных ADO.NET data service предусматривает параметры URL-адреса для указания сущностей, связей и путей навигации в базовых данных. При указании в качестве источника канала данных сложного URL-адреса можно точно указать необходимый набор данных.  
  
    3.  Для этого же канала данных введите имя таблицы, которое будет соответствовать набору данных в клиентском приложении. В [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)]все импортируемые веб-каналы данных помещаются в собственный табличный управляющий элемент в источнике данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] . Необходимо указать имя таблицы, в которую импортируются данные при настройке веб-канала данных.  
  
5.  Нажмите «Добавить другой канал данных» и повторите предыдущие действия, чтобы определить другие каналы из этой же или другой службы.  
  
     Все сервисные документы данных обрабатываются в ходе одной операции. Все потоки данных в документе будут созданы асинхронно и возвращены клиентскому приложению в ходе выполнения одной операции. Поэтому для каналов данных, которые будут использоваться совместно, следует указывать только пары «адрес-таблица».  
  
     Поскольку схемы проверки подлинности настраиваются на уровне сервисного документа данных, все дополнительные каналы данных должны создаваться в службе или приложении, поддерживающем ту же схему проверки подлинности, что и первый канал. Для всех каналов в одном сервисном документе данных будет использоваться один и тот же метод проверки подлинности во время выполнения.  
  
6.  Сохраните документ. Сервисный документ данных сохраняется как физический ATOMSVC-файл в библиотеке содержимого, настроенной для данного типа содержимого.  
  
 Когда необходимо использовать сервисный документ данных, можно открыть книгу [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)] и выбрать параметр **Из веб-канала данных** в мастере импорта данных. При получении запроса пользователь указывает URL-адрес сервисного документа данных в SharePoint, чтобы начать операцию импорта данных. Дополнительные сведения см. в статье [Использование веб-каналов данных (PowerPivot для SharePoint)](../../analysis-services/power-pivot-sharepoint/use-data-feeds-power-pivot-for-sharepoint.md).  
  
##  <a name="securedsdoc"></a> Обеспечение безопасности сервисного документа данных  
 Сервисный документ данных наследует разрешения библиотеки, в которой он содержится. Разрешения, задаваемые для документа, определяют, может ли пользователь открыть, изменить или удалить сервисный документ данных.  
  
 Для использования сервисного документа данных для импорта каналов данных в клиентском приложении [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] пользователю необходимы только разрешения на просмотр документа. Для разрешения URL-адреса в мастере импорта достаточно разрешений на просмотр.  
  
 Разрешения на просмотр сервисного документа данных проверяются только в момент начала выполнения операции импорта канала данных. После импорта регулярная проверка разрешений документа выполняться не будет. Веб-каналы, добавленные к источнику данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , существуют в виде статичных данных, отключенных от сервисного документа данных, обеспечившего данные исходного соединения.  
  
 Аналогичным образом все расположенные далее в расписании операции обновления данных «Обновить» также не включают сервисный документ данных. Во время импорта данные соединения для каждого веб-канала копируются в источник данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в целях обновления. По сути дела, разрешения сервисного документа данных при обновлении данных не проверяются, поскольку сам документ никогда не указывается в операции обновления.  
  
|Задача|Требования к разрешениям SharePoint|  
|----------|----------------------------------------|  
|Импортируйте веб-каналы данных в книгу с поддержкой [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)].|Просмотрите разрешения сервисного документа данных в библиотеке.|  
|В клиентском приложении [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] обновите данные, которые были ранее получены из веб-канала.|Неприменимо. Клиентское приложение [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] использует внедренные сведения о соединении HTTP для прямого подключения к службам данных и приложениям, предоставляющим данные для веб-канала. Клиентское приложение [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] не использует сервисный документ данных.|  
|В ферме SharePoint обновите данные, запланировав запуск задачи без участия пользователя.|Неприменимо. Служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] использует внедренные сведения о соединении HTTP для прямого подключения к службам данных и приложениям, предоставляющим данные для веб-канала. Служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] не использует сервисный документ данных.|  
|Удалите из библиотеки сервисный документ данных.|Передайте разрешения на библиотеку.|  
  
##  <a name="modifydsdoc"></a> Изменение сервисного документа данных  
 В сервисном документе данных можно добавлять, изменять или удалять отдельные записи «адрес-таблица». После сохранения изменений пользователи, выбравшие сервисный документ в новой операции импорта, получат определенные в нем каналы данных.  
  
 [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , в которых используется предыдущая версия документа, внесенные изменения не повлияют. Причина этого заключается в том, что сервисный документ данных считывается только один раз при выполнении первоначальной операции импорта. Во время импорта URL-адрес службы и имена таблиц копируются и сохраняются внутри книги. Затем эти значения используются в последующих операциях обновления для получения обновленных данных.  
  
 Поскольку нет постоянной ссылки между сервисным документом данных на сайте SharePoint и книгой [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , в которой содержится импортированный канал, изменение любой части сервисного документа данных не повлияет на существующие книги [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .  
  
> [!IMPORTANT]  
>  Хотя сервисный документ данных считывается только один раз, службы данных, поставляющие фактические данные, можно регулярно просматривать для получения новых каналов. Дополнительные сведения об обновлении данных см. в разделе [Обновление данных Power Pivot](../../analysis-services/power-pivot-sharepoint/power-pivot-data-refresh.md).  
  
##  <a name="usedsdoc"></a> Следующий шаг. Использование сервисного документа данных  
 Для использования сервисного документа данных, созданного в библиотеке SharePoint, служит параметр импорта **Из каналов данных** источника данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] . Инструкции см. в разделе [Использование веб-каналов данных (Power Pivot для SharePoint)](../../analysis-services/power-pivot-sharepoint/use-data-feeds-power-pivot-for-sharepoint.md).  
  
## <a name="see-also"></a>См. также:  
 [Веб-каналы данных Power Pivot](../../analysis-services/power-pivot-sharepoint/power-pivot-data-feeds.md)  
  
  
