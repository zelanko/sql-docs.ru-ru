---
title: Расширение Data Virtualization
titleSuffix: Azure Data Studio
description: Расширение Data Virtualization для Azure Data Studio
ms.reviewer: alayu; sstein
ms.prod: sql
ms.technology: azure-data-studio
ms.topic: conceptual
author: rajmera3
ms.author: raajmera
ms.custom: seodec18
ms.date: 11/04/2019
ms.openlocfilehash: 98a93895b8f552bf7506880a612ab2ae68c48afb
ms.sourcegitcommit: 58158eda0aa0d7f87f9d958ae349a14c0ba8a209
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2020
ms.locfileid: "73801133"
---
# <a name="data-virtualization-extension-for-azure-data-studio"></a>Расширение Data Virtualization для Azure Data Studio

Расширение Data Virtualization для Azure Data Studio обеспечивает поддержку [мастера создания внешней таблицы](../relational-databases/polybase/data-virtualization.md?toc=/sql/toc/toc.json) PolyBase.

## <a name="install-the-data-virtualization-extension"></a>Установка расширения Data Virtualization

Чтобы установить расширение Data Virtualization, откройте Azure Data Studio и скачайте это расширение на вкладке "Расширения". Следуйте инструкциям [здесь](extensions.md).

## <a name="changes-in-release-10"></a>Изменения в выпуске 1.0
* Расширение переименовано в Data Virtualization.
* Мастер создания внешних таблиц:
    * Включены интерактивные записные книжки для источников виртуализации MongoDB и Teradata.
    * Добавлено диалоговое окно для заполнения переменных в записных книжках виртуализации MongoDB и Teradata. 

## <a name="changes-in-release-016"></a>Изменения в выпуске 0.16
* Мастер создания внешних таблиц:
  * Улучшена обработка ошибок при загрузке таблиц и представлений на странице сопоставления объектов.

## <a name="changes-in-release-015"></a>Изменения в выпуске 0.15
* Мастер создания внешних таблиц:
  * Сокращено время, необходимое для загрузки сведений о таблицах и столбцах на странице сопоставления объектов.
  * Исправлена ошибка с загрузкой существующих учетных данных области базы данных на странице сведений о подключении.
* Создание внешней таблицы с помощью мастера CSV-файлов:
  * Увеличен размер выборки по умолчанию, используемый для синтаксического анализа PROSE.

## <a name="changes-in-release-0141"></a>Изменения в выпуске 0.14.1
* Поддержка источников данных CTP-версии 3.1

## <a name="changes-in-release-0121"></a>Изменения в выпуске 0.12.1

* Тип подключения **кластера больших данных SQL Server** был удален в этом выпуске. Все ранее доступные функции подключения кластера больших данных SQL Server теперь доступны в подключении SQL Server.
* Обзор HDFS можно найти в папке **Службы данных**.
* Для записных книжек PySpark и другие ядра больших данных работают при подключении к главному экземпляру SQL Server в кластере больших данных SQL Server.
* Мастер создания внешних таблиц:
  * поддержка создания внешней таблицы с помощью существующего внешнего источника данных.
  * Повышение производительности в мастере.
  * Улучшена обработка имен объектов со специальными символами. В некоторых случаях это приводило к сбою мастера.
  * Улучшения надежности страницы сопоставления объектов.
  * Удалены системные базы данных DWConfiguration, DWDiagnostics, DWQueue из раскрывающегося списка баз данных.
  * Поддержка установки имени объекта формата внешнего файла в мастере **создания внешней таблицы из CSV-файлов**.
  * Добавлена кнопка "Обновить" на первую страницу мастера **создания внешней таблицы из CSV-файлов**.

## <a name="release-notes-v0110"></a>Заметки о выпуске (версия 0.11.0)

* Поддержка Jupyter Notebook, в частности поддерживающая ядра Python3 и Spark, была перемещена в Azure Data Studio. Это расширение больше не требуется для использования записных книжек.
* Несколько исправлений ошибок в мастерах внешних данных:
  * Сопоставления типов Oracle были обновлены в соответствии с изменениями, вышедшими в SQL Server 2019 CTP 2.3.
  * Исправлена проблема, при которой утрачивались новые схемы, указываемые в элементах управления сопоставлением таблиц.
  * Исправлена проблема, при которой выбор узла базы данных в сопоставлениях таблиц не приводил к выбору всех таблиц и представлений.


## <a name="release-notes-v0102"></a>Заметки о выпуске (версия 0.10.2)
### <a name="sql-server-2019-support"></a>Поддержка SQL Server 2019
Поддержка SQL Server 2019 обновлена. После подключения к экземпляру кластера больших данных SQL Server в дереве обозревателя отобразится новая папка _Службы данных_. Там есть точки запуска для таких действий, как открытие новой записной книжки для подключения, отправка заданий Spark и работа с HDFS. Для некоторых действий, таких как _создание внешних данных_ в HDFS-файле или папке, необходимо установить расширение _SQL Server 2019_.

### <a name="notebook-support"></a>Поддержка записных книжек
В этом выпуске мы внесли значительные изменения в пользовательский интерфейс записных книжек. Наша цель заключается в упрощении чтения записных книжек, к которым вам предоставлен доступ. Удалены все рамки вокруг ячеек, если только они не выбраны или не выделены при наведении, добавлена поддержка наведения для простых действий на уровне ячеек без необходимости выбора ячейки, уточнение состояния выполнения путем добавления счетчика выполнения, анимированная кнопка _Остановить выполнение_ и многое другое. Мы также добавили сочетания клавиш для _создания записной книжки_ (`Ctrl+Shift+N`), _выполнения ячейки_ (`F5`), _создания ячейки кода_ (`Ctrl+Shift+C`) и _создания текстовой ячейки_ (`Ctrl+Shift+T`). В дальнейшем мы хотим, чтобы все ключевые действия могли запускаться по сочетанию клавиш, поэтому сообщите нам, если вам чего-то не хватает.

Прочие улучшения и исправления:
* Расширение _SQL Server 2019_ теперь предлагает выбрать каталог установки для зависимостей Python. Оно также больше не включает Python в `.vsix file`, что уменьшает общий размер расширения. Зависимости Python поддерживают ядра Spark и Python3.
* Добавлена поддержка запуска новой записной книжки из командной строки. Запуск с аргументами `--command=notebook.command.new --server=myservername` позволяет открыть новую записную книжку и подключиться к этому серверу.
* Исправления производительности для записных книжек с большой длиной кода в ячейках. Если ячейки кода содержат более чем 250 строк, будет добавлена полоса прокрутки.
* Улучшена поддержка IPYNB-файлов. Теперь поддерживается версия 3 или более поздняя. Обратите внимание, что при сохранении файлов будет выполнено обновление до версии 4 или более поздней.
* Параметр пользователя `notebook.enabled` был удален, так как встроенное средство просмотра записных книжек является стабильным.
* Теперь поддерживается тема с высокой контрастностью с несколькими исправлениями в макете объекта.
* Исправлена ошибка 3680, при которой в выходных данных `,,,` иногда выводилось неправильное число символов.
* Исправлена ошибка #3602, когда редактор для ячеек исчезает после перехода от Azure Data Studio.
* Добавлена поддержка представлений сетки для выходного типа MIME `application/vnd.dataresource+json`. Это означает, что во многих записных книжках, использующих эту возможность (например, при задании `pd.options.display.html.table_schema` в записной книжке Python), будут улучшены табличные выходные данные. Исправлена ошибка 3959, при которой Azure Data Studio пытается завершить работу сервера записной книжки дважды после закрытия.

#### <a name="known-issues"></a>Известные проблемы
* При открытии записной книжки появится диалоговое окно "Установка Python". Отмена этой установки приведет к тому, что раскрывающиеся списки ядер и "Присоединение к" не будут отображать ожидаемые значения. Для решения этой проблемы необходимо завершить установку Python.
* При открытии записной книжки с неподдерживаемым ядром раскрывающиеся списки ядер и _Присоединение к_ приведут к тому, что Azure Data Studio перестанет отвечать на запросы. Необходимо закрыть Azure Data Studio и убедиться, что используется поддерживаемое ядро (Python3, Spark | R, Spark | Scala, PySpark, PySpark3).
* Сбой ссылки пользовательского интерфейса Spark при использовании PySpark3 или других ядер Spark с конечной точкой SQL Server. В качестве обходного решения щелкните пользовательский интерфейс Spark на панели мониторинга или подключитесь с помощью типа подключения к кластеру больших данных SQL Server, так как это даст правильную гиперссылку для пользовательского интерфейса Spark.

### <a name="extensibility-improvements"></a>Улучшения расширяемости
В этом выпуске добавлено несколько улучшений, которые помогают расширять возможности среды.
* Новый API `ObjectExplorerNodeProvider` позволяет расширениям публиковать папки в SQL Server или других узлах подключения. Это способ добавления узла `Data Services` в экземплярах SQL Server 2019, но его можно использовать для простого добавления в пользовательский интерфейс папки мониторинга или других папок.
* Для отображения или скрытия вкладок в панели мониторинга доступны два новых значения ключа контекста.
  * `mssql:iscluster` указывает, используется ли кластер больших данных SQL Server 2019.
  * `mssql:servermajorversion` указывает версию сервера (15 для SQL Server 2019, 14 для SQL Server 2017 и т. д.). Это может помочь, например, если функции должны отображаться только для SQL Server 2017 или более поздней версии.


## <a name="release-notes-v080"></a>Заметки о выпуске (версия 0.8.0)
*Записные книжки*.
* Добавление ячеек до и после существующих ячеек теперь поддерживается нажатием кнопки ячейки "Другие действия".
* Параметр **Добавить новое подключение** добавлен к подключениям в раскрывающемся списке "Присоединение к".
* Была добавлена команда **Переустановить зависимости записной книжки**, которая поможет в обновлении пакетов Python и решении таких проблем, как прерывание установки путем закрытия приложения. Ее можно выполнить из палитры команд (используйте `Ctrl/Cmd+Shift+P` и введите `Reinstall Notebook Dependencies`).
* Пакет PROSE Python был обновлен до 1.1.0 и включает ряд исправлений ошибок. Чтобы обновить этот пакет, используйте команду **Переустановить зависимости записной книжки**.
* Теперь поддерживается команда **Очистить вывод** при нажатии кнопки ячейки **Больше действий**.
* Исправлены следующие проблемы, о которых сообщили клиенты:
  * Не удавалось запустить сеанс записной книжки в Windows из-за проблем с путем PATH.
  * Не удавалось запустить записную книжку из корневой папки диска, например C:\ или D:\.
  * [Ошибка 2820](https://github.com/Microsoft/azuredatastudio/issues/2820): не удавалось изменить записные книжки, созданные из ADS, в VS Code.
  * Ссылка на пользовательский интерфейс Spark теперь работает при запуске ядра Spark.
  * Переименование пункта "Управляемые пакеты" в "Установка пакетов".

*Создание внешних данных*:

* сообщения об ошибках копируются и разделяются на сводку и подробности для упрощения.
* Улучшена структура пользовательского интерфейса, значительно повышена надежность и улучшена обработка ошибок.
* Исправлены следующие проблемы, о которых сообщили клиенты:
  * Таблицы с недопустимыми сопоставлениями столбцов отображаются как отключенные и выводится предупреждение, объясняющее ошибку.

## <a name="release-notes-v072"></a>Заметки о выпуске (версия 0.7.2)
* Обозреватель ресурсов Azure теперь встроен в Azure Data Studio и удален из этого расширения. Благодарим за отзывы по этому поводу!
* Улучшена производительность записных книжек с множеством ячеек Markdown.
* Автоподбор размера ячеек кода в записной книжке. По-прежнему есть минимальный размер, основанный на панели инструментов ячейки.
* Уведомление пользователя при установке зависимостей записной книжки. В частности, в Windows это может занять много времени, поэтому теперь уведомления отображаются в представлении задач.
* Поддержка переустановки зависимостей записной книжки. Это полезно, если пользователь ранее закрыл Azure Data Studio посередине установки.
* Поддержка отмены выполнения ячейки в записной книжке.
* Повышена надежность при использовании мастера создания внешних данных, особенно при возникновении ошибок подключения.
* Блокирование использование мастера создания внешних данных, если PolyBase не включена или не работает на целевом сервере.
* Исправления для проверки орфографии и имен, связанные с SQL Server 2019 и созданием внешних данных.
* Устранено большое количество ошибок в консоли отладки Azure Data Studio.
