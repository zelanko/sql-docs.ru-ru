---
title: Встроенный терминал
titleSuffix: Azure Data Studio
description: Сведения о встроенном терминале в Azure Data Studio.
ms.custom: seodec18
ms.date: 09/24/2018
ms.prod: sql
ms.technology: azure-data-studio
ms.reviewer: alayu; sstein
ms.topic: conceptual
author: yualan
ms.author: alayu
ms.openlocfilehash: 13a0e3c17f45e0ba136d83f832d3531bc8059884
ms.sourcegitcommit: b2e81cb349eecacee91cd3766410ffb3677ad7e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "67959538"
---
# <a name="integrated-terminal"></a>Встроенный терминал

В [!INCLUDE[name-sos](../includes/name-sos-short.md)] можно запустить встроенный терминал, который изначально открывает корневой каталог рабочей области. Это удобно, так как нет необходимости переключать окна или изменять состояние существующего терминала для выполнения быстрой задачи из командной строки.

Чтобы открыть терминал, сделайте следующее.

* Используйте сочетание клавиш **CTRL+`** с символом обратного апострофа.
* Используйте команду меню **Вид** | **Интегрированный терминал**.
* В **палитре команд** (**CTRL+SHIFT+P**) используйте команду **Вид: переключить интегрированный терминал**.

![Терминал](media/integrated-terminal/terminal-screen.png)

> [!NOTE]
> Вы по-прежнему можете открыть внешнюю оболочку с помощью команды **Открыть в командной строке** (**Открыть в терминале** для Mac или Linux), если предпочитаете работать вне [!INCLUDE[name-sos](../includes/name-sos-short.md)].

## <a name="managing-multiple-terminals"></a>Управление несколькими терминалами

Можно создать несколько терминалов, открытых для разных расположений, и легко перемещаться между ними. Экземпляры терминала можно добавить, нажав значок "плюс" в правом верхнем углу панели **Терминал** или выполнив команду **CTRL+SHIFT+`** . При этом создается еще одна запись в раскрывающемся списке, который можно использовать для переключения между ними.

![Несколько терминалов](media/integrated-terminal/terminal-multiple-instances.png)

Для удаления экземпляров терминала нажмите кнопку корзины.

> [!TIP]
> Если вы активно используете несколько терминалов, можете добавить настраиваемые сочетания клавиш для команд `focusNext`, `focusPrevious` и `kill`, как описано в [соответствующем разделе](#key-bindings), чтобы между ними можно было переключаться с помощью одной клавиатуры.

## <a name="configuration"></a>Конфигурация

В качестве применяемой оболочки по умолчанию используется `$SHELL` в Linux и macOS, PowerShell в Windows 10 и cmd.exe в предыдущих версиях Windows. Это можно переопределить вручную, задав `terminal.integrated.shell.*` в [разделе параметров](settings.md). Аргументы можно передать в оболочку терминала в Linux и macOS с помощью параметров `terminal.integrated.shellArgs.*`.

### <a name="windows"></a>Windows

Правильная настройка оболочки в Windows заключается в том, чтобы найти подходящий исполняемый файл и изменить параметр. Ниже приведен список распространенных исполняемых файлов оболочки и их расположений по умолчанию.

```json
// 64-bit cmd if available, otherwise 32-bit
"terminal.integrated.shell.windows": "C:\\Windows\\sysnative\\cmd.exe"
// 64-bit PowerShell if available, otherwise 32-bit
"terminal.integrated.shell.windows": "C:\\Windows\\sysnative\\WindowsPowerShell\\v1.0\\powershell.exe"
// Git Bash
"terminal.integrated.shell.windows": "C:\\Program Files\\Git\\bin\\bash.exe"
// Bash on Ubuntu (on Windows)
"terminal.integrated.shell.windows": "C:\\Windows\\sysnative\\bash.exe"
```

> [!NOTE]
> Для использования в качестве встроенного терминала исполняемый файл оболочки должен быть консольным приложением, чтобы `stdin/stdout/stderr` можно было перенаправить.

> [!TIP]
> Оболочка встроенного терминала работает с разрешениями [!INCLUDE[name-sos](../includes/name-sos-short.md)]. Если нужно выполнить команду оболочки с повышенными правами (администратора) или другими разрешениями, в терминале можно использовать служебные программы платформы, например `runas.exe`.

### <a name="shell-arguments"></a>Аргументы оболочки

Аргументы можно передавать в оболочку при ее запуске.

Например, чтобы включить запуск bash в качестве оболочки входа (которая использует `.bash_profile`), передайте аргумент `-l` (с двойными кавычками).

```json
// Linux
"terminal.integrated.shellArgs.linux": ["-l"]
```

## <a name="terminal-display-settings"></a>Параметры отображения терминала

Вы можете настроить шрифт и высоту линий встроенного терминала с помощью следующих параметров.

* `terminal.integrated.fontFamily`
* `terminal.integrated.fontSize`
* `terminal.integrated.lineHeight`

## <a id="key-bindings"></a>Настраиваемые сочетания клавиш терминала

Команда **Вид: переключить интегрированный терминал** привязана к сочетанию клавиш **CTRL+`** и позволяет быстро отобразить или скрыть панель встроенного терминала в представлении.

Ниже приведены сочетания клавиш для быстрой навигации по встроенному терминалу.

|Клавиши|Get-Help|  
|---|---|  
|**CTRL+\`**|Отображение встроенного терминала|  
|**CTRL+SHIFT+\`**|Создание терминала|  
|**CTRL+СТРЕЛКА ВВЕРХ**|Прокрутка вверх|  
|**CTRL+СТРЕЛКА ВНИЗ**|Прокрутка вниз|  
|**CTRL+PAGEUP**|Прокрутка страницы вверх|  
|**CTRL+PAGEDOWN**|Прокрутка страницы вниз|  
|**CTRL+HOME**|Прокрутка до самого верха|  
|**CTRL+END**|Прокрутка до самого низа|  
|**CTRL+K**|Очистка терминала|  

Доступны и другие команды терминала, которые можно привязать к предпочтительным сочетаниям клавиш.

К ним относятся:

* `workbench.action.terminal.focus`: установка фокуса на терминал. Это похоже на переключение, однако вместо скрытия терминал, если он виден, переводится в фокус.
* `workbench.action.terminal.focusNext`: установка фокуса на следующий экземпляр терминала.
* `workbench.action.terminal.focusPrevious`: установка фокуса на предыдущий экземпляр терминала.
* `workbench.action.terminal.kill`: удаление текущего экземпляра терминала.
* `workbench.action.terminal.runSelectedText`: запуск выбранного текста в экземпляре терминала.
* `workbench.action.terminal.runActiveFile`: запуск активного файла в экземпляре терминала.

### <a name="run-selected-text"></a>Запуск выбранного текста

Чтобы использовать команду `runSelectedText`, выберите текст в редакторе и запустите команду **Терминал: запуск выбранного текста в активном терминале** в **палитре команд** (**CTRL+SHIFT+P**). Терминал пытается запустить выбранный текст.

![Запуск выбранного текста](media/integrated-terminal/terminal_run_selected.png)

Если в активном редакторе текст не выбран, то в терминале запускается строка, на которой находится курсор.

### <a name="copy--paste"></a>Копирование и вставка

Сочетания клавиш для копирования и вставки являются стандартными для платформы.

* Linux: **CTRL+SHIFT+C** и **CTRL+SHIFT+V**
* Mac: **CMD+C** и **CMD+V**
* Windows: **CTRL+C** и **CTRL+V**

### <a name="find"></a>Поиск

Встроенный терминал имеет базовые функции поиска, которые можно активировать с помощью клавиш **CTRL+F**.

Если вы хотите, чтобы нажатие клавиш **CTRL+F** приводило к переходу в оболочку вместо запуска мини-приложения поиска в Linux и Windows, нужно удалить это настраиваемое сочетание клавиш следующим образом.

```js
{ "key": "ctrl+f", "command": "-workbench.action.terminal.focusFindWidget",
                      "when": "terminalFocus" },
```

### <a name="rename-terminal-sessions"></a>Переименование сеансов терминала

Теперь сеансы встроенного терминала можно переименовывать с помощью команды **Терминал: переименовать** (`workbench.action.terminal.rename`). Новое имя отображается в раскрывающемся списке выбора терминала.

### <a name="forcing-key-bindings-to-pass-through-the-terminal"></a>Принудительная передача сочетаний клавиш через терминал

Хотя основное внимание уделено встроенному терминалу, многие сочетания клавиш не будут работать, так как нажатия клавиш регистрирует и использует сам терминал. Чтобы обойти это, можно использовать параметр `terminal.integrated.commandsToSkipShell`. Он содержит массив имен команд, для которых настраиваемые сочетания клавиш пропускают обработку в оболочке и вместо этого обрабатываются системой сочетаний клавиш [!INCLUDE[name-sos](../includes/name-sos-short.md)]. По умолчанию сюда входят все настраиваемые сочетания клавиш терминала в дополнение к некоторым наиболее часто используемым сочетаниям клавиш.

