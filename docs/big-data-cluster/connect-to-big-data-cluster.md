---
title: Подключения к главному узлу и HDFS
titleSuffix: SQL Server big data clusters
description: Узнайте, как подключаться к основной экземпляр SQL Server и шлюза HDFS или Spark для кластера SQL Server 2019 больших данных (Предварительная версия).
author: rothja
ms.author: jroth
manager: craigg
ms.date: 02/28/2019
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: ed563fe6d0bfd69ce5dfb7484d4213bc9a47dd54
ms.sourcegitcommit: 323d2ea9cb812c688cfb7918ab651cce3246c296
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "58860175"
---
# <a name="connect-to-a-sql-server-big-data-cluster-with-azure-data-studio"></a>Подключение к кластеру больших данных SQL Server с помощью Azure Data Studio

[!INCLUDE[tsql-appliesto-ssver15-xxxx-xxxx-xxx](../includes/tsql-appliesto-ssver15-xxxx-xxxx-xxx.md)]

В этой статье описывается подключение к кластеру больших данных SQL Server 2019 (Предварительная версия) из среды Studio данных Azure. Существует два основных конечных точек, используемых для взаимодействия с кластером больших данных:

| Конечная точка | Описание |
|---|---|
| Экземпляр SQL Server Master | Основной экземпляр SQL Server в кластер, содержащий реляционных баз данных SQL Server. |
| Шлюз HDFS и Spark | Доступ к хранилищу HDFS в кластере и возможность выполнения заданий Spark. |

> [!TIP]
> С выпуском февраля 2019 Studio данных Azure подключении к основной экземпляр SQL Server автоматически предоставляет доступ к пользовательскому Интерфейсу в шлюз HDFS или Spark.

## <a name="prerequisites"></a>предварительные требования

- Развернутый [кластера больших данных SQL Server 2019](deployment-guidance.md).
- [Средства SQL Server 2019 больших данных](deploy-big-data-tools.md):
   - **Azure Data Studio**
   - **Расширение SQL Server 2019**
   - **kubectl**

## <a id="master"></a> Подключитесь к кластеру

Чтобы подключиться к кластерам больших данных с помощью Azure Data Studio, создайте новое подключение к основной экземпляр SQL Server в кластере. Следующие шаги описывают, как подключиться к основной экземпляр с помощью студии данных Azure.

1. Из командной строки найти IP-адрес главного экземпляра с помощью следующей команды:

   ```
   kubectl get svc endpoint-master-pool -n <your-cluster-name>
   ```

1. В Azure данных Studio нажмите клавишу **F1** > **новое подключение**.

1. В **тип подключения**выберите **Microsoft SQL Server**.

1. Введите IP-адрес главного экземпляра SQL Server в **имя_сервера** (например: **\<IP-адрес\>, 31433**).

1. Введите имя входа SQL **имя пользователя** и **пароль**.

   > [!TIP]
   > По умолчанию является имя пользователя **SA** и, если не изменено, пароль соответствует **MSSQL_SA_PASSWORD** переменной среды, используемый во время развертывания.

1. Изменить целевой объект **имя базы данных** к одному из реляционных баз данных.

   ![Подключиться к основной экземпляр](./media/connect-to-big-data-cluster/connect-to-cluster.png)

1. Нажмите клавишу **Connect**и **панель мониторинга сервера** должен отображаться.

С выпуском февраля 2019 Studio данных Azure подключении к экземпляру SQL Server master также позволяет взаимодействовать со шлюзом HDFS или Spark. Это означает, что не нужно использовать отдельное соединение для HDFS и Spark, в следующем разделе описывается.

- В обозревателе объектов теперь содержит новый **Data Services** узла с поддержкой щелкните правой кнопкой мыши задачи кластера больших данных, например создание новые записные книжки или отправки заданий spark. 
- **Data Services** узел также содержит **HDFS** папки для просмотра HDFS и выполнения действий, например Create External Table или анализа в записной книжке.
- **Панель мониторинга сервера** для соединения также содержит вкладки для **кластера больших данных в SQL Server** и **2019 SQL Server (Предварительная версия)** при установке расширения.

   ![Узел службы данных Studio данных Azure](./media/connect-to-big-data-cluster/connect-data-services-node.png)

> [!IMPORTANT]
> Если вы видите **Неизвестная ошибка** в пользовательском Интерфейсе, может потребоваться [напрямую подключаться к шлюзу HDFS/Spark](#hdfs). Одна из причин этой ошибки — разные пароли для главного экземпляра SQL Server и шлюза HDFS или Spark. Azure Data Studio предполагается, что для обоих используется тот же пароль.
  
## <a id="hdfs"></a> Подключения к шлюзу HDFS и Spark

В большинстве случаев подключения к основной экземпляр SQL Server предоставляет вам доступ HDFS и Spark также до **Data Services** узла. Но по-прежнему можете создать выделенное подключение к **HDFS/Spark шлюза** при необходимости. Следующие шаги описывают способ подключения с помощью Azure Data Studio.

1. Из командной строки найти IP-адрес шлюза HDFS/Spark с помощью одного из следующих команд.

   ```
   kubectl get svc endpoint-security -n <your-cluster-name>
   ```
 
1. В Azure данных Studio нажмите клавишу **F1** > **новое подключение**.

1. В **тип подключения**выберите **кластера больших данных в SQL Server**.

   > [!TIP]
   > Если вы не видите **кластера больших данных в SQL Server** подключения введите, убедитесь, что вы установили [расширение SQL Server 2019](../azure-data-studio/sql-server-2019-extension.md) и перезагрузка студии данных после завершения расширения Установка.

1. Введите IP-адрес кластера больших данных в **имя_сервера** (не указать порт).

1. Введите `root` для **пользователя** и укажите **пароль** к кластеру больших данных.

   ![Подключение к шлюзу HDFS и Spark](./media/connect-to-big-data-cluster/connect-to-cluster-hdfs-spark.png)

   > [!TIP]
   > По умолчанию является имя пользователя **корневой** и соответствующий пароль **KNOX_PASSWORD** переменной среды, используемый во время развертывания.

1. Нажмите клавишу **Connect**и **панель мониторинга сервера** должен отображаться.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о кластерах SQL Server 2019 большие данные см. в разделе [что такое большие данные кластеры SQL Server 2019](big-data-cluster-overview.md).