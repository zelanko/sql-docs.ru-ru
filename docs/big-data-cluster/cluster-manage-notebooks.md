---
title: Управление Кластерами больших данных (BDC) с использованием записных книжек Jupyter и Azure Data Studio
titleSuffix: SQL Server Big Data Clusters
description: Управление Кластерами больших данных (BDC) с использованием записных книжек Jupyter и Azure Data Studio в кластере больших данных SQL Server 2019.
author: cloudmelon
ms.author: melqin
ms.reviewer: mikeray
ms.metadata: seo-lt-2019
ms.date: 09/22/2020
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: e549a8005144e85a20cf613ff6695d11f7ff030f
ms.sourcegitcommit: 29a2be59c56f8a4b630af47760ef38d2bf56a3eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/22/2020
ms.locfileid: "92378464"
---
# <a name="manage-big-data-clusters-bdc-the-cluster-with-notebooks"></a>Управление Кластерами больших данных (BDC) в кластере с помощью записных книжек

Эта страница представляет собой индекс записных книжек для Кластеров больших данных SQL Server. Эти исполняемые записные книжки (.ipynb) предназначены для SQL Server 2019, чтобы облегчить управление Кластерами больших данных.

Каждая записная книжка предназначена для проверки собственных зависимостей. Команда **Запустить все ячейки** может завершиться успешно или вызвать исключение с указанием гиперссылки на другую записную книжку для разрешения отсутствующей зависимости. Следуйте указаниям гиперссылки на следующую записную книжку, нажмите **Запустить все ячейки** и после успешного возврата в исходную записную книжку снова нажмите **Запустить все ячейки** .

Если все зависимости установлены, но команда **Запустить все ячейки** завершается сбоем, каждая записная книжка проанализирует результаты и по возможности выдаст подсказку с гиперссылкой на другую записную книжку, чтобы дополнительно помочь в устранении проблемы.


## <a name="installing-and-uninstalling-utilities-on-big-data-cluster-bdc"></a>Установка и удаление служебных программ в кластере больших данных (BDC)

Этот раздел содержит набор записных книжек, используемых для установки и удаления средств командной строки и пакетов, необходимых для управления BDC SQL Server.

|Имя |Описание |
|---|---|---|---|
|SOP010 — обновление кластера больших данных|Используйте эту записную книжку для обновления кластера больших данных с помощью команды azdata. |
|SOP012 — установка unixodbc для Mac|Используйте эту записную книжку при возникновении ошибок с использованием brew install odbc для SQL Server.|
|SOP036 — установка интерфейса командной строки kubectl|Используйте эту записную книжку для установки интерфейса командной строки kubectl независимо от операционной системы.|
|SOP037 — удаление интерфейса командной строки kubectl|Используйте эту записную книжку для удаления интерфейса командной строки kubectl независимо от операционной системы.|
|SOP038 — установка интерфейса командной строки Azure|Используйте эту записную книжку для установки интерфейса командной строки Azure CLI независимо от операционной системы.|
|SOP039 — удаление интерфейса командной строки Azure|Используйте эту записную книжку для удаления интерфейса командной строки Azure CLI независимо от операционной системы.|
|SOP040 — обновление pip в песочнице Python ADS|Используйте эту записную книжку для обновления pip в песочнице Python ADS.|
|SOP054 — установка интерфейса командной строки azdata|Используйте эту записную книжку для установки интерфейса командной строки azdata независимо от операционной системы.|
|SOP055 — удаление интерфейса командной строки azdata|Используйте эту записную книжку для удаления интерфейса командной строки azdata независимо от операционной системы.|
|SOP059 — установка модуля Python Kubernetes|Используйте эту записную книжку для установки модулей Kubernetes с помощью Python.|
|SOP060 — удаление модуля Kubernetes|Используйте эту записную книжку для удаления модулей Kubernetes с помощью Python.|
|SOP061 — удаление кластера больших данных|Используйте эту записную книжку для удаления кластера BDC.|
|SOP062 — удаление модулей ipython-sql и pyodbc|Используйте эту записную книжку для установки модулей ipython-sql и pyodbc.|
|SOP063 — установка CLI azdata (с помощью диспетчера пакетов)|Используйте эту записную книжку для установки CLI azdata (с помощью диспетчера пакетов).|
|SOP064 — удаление CLI azdata (с помощью диспетчера пакетов)|Используйте эту записную книжку для удаления CLI azdata (с помощью диспетчера пакетов).|
|SOP069 — установка ODBC для SQL Server|Используйте эту записную книжку для установки драйвера ODBC, так как для некоторых подкоманд в azdata требуется драйвер ODBC SQL Server.|


## <a name="managing-certificates-on-big-data-clusters-bdc"></a>Управление сертификатами в BDC

Набор записных книжек для запуска записной книжки для управления сертификатами в BDC.

|Имя |Описание |
|---|---|---|---|
|CER001 — создание сертификата корневого ЦС|Создайте сертификат корневого ЦС. Рассмотрите возможность использования одного сертификата корневого ЦС для всех непроизводственных кластеров в каждой среде, так как при таком подходе сокращается количество сертификатов корневого ЦС, которые необходимо передать клиентам, подключающимся к этим кластерам. |
|CER002 — скачивание имеющегося сертификата корневого ЦС|Используйте эту записную книжку, чтобы скачать созданный сертификат корневого ЦС из кластера.|
|CER003 — отправка имеющегося сертификата корневого ЦС|CER003 — отправка имеющегося сертификата корневого ЦС.|
|CER004 — скачивание и отправка имеющегося сертификата корневого ЦС|Скачивание и отправка имеющегося сертификата корневого ЦС. |
|CER010 — локальная установка созданного корневого ЦС|Эта записная книжка локально скопирует (из кластера больших данных) созданный сертификат корневого ЦС, установленный с помощью записной книжки **CER001 — создание сертификата корневого ЦС** или **CER003 — отправка имеющегося сертификата корневого ЦС** , а затем установит сертификат корневого ЦС в локальное хранилище сертификатов этого компьютера.|
|CER020 — создание сертификата прокси-сервера управления|Эта записная книжка создает сертификат для конечной точки прокси-сервера управления.|
|CER021 — создание сертификата Knox|Эта записная книжка создает сертификат для конечной точки шлюза Knox.|
|CER022 — создание сертификата прокси-сервера приложения|Эта записная книжка создает сертификат для конечной точки прокси-сервера развертывания приложения.|
|CER023 — создание главного сертификата|Эта записная книжка создает сертификат для главной конечной точки.|
|CER030 — подписывание сертификата прокси-сервера управления с помощью созданного ЦС|Эта записная книжка подписывает сертификат, созданный с помощью записной книжки **CER020 — создание сертификата прокси-сервера управления** с использованием сертификата корневого ЦС, созданного с помощью записной книжки **CER001 — создание сертификата корневого ЦС** или **CER003 — отправка имеющегося сертификата корневого ЦС** .|
|CER031 — подписывание сертификата Knox с помощью созданного ЦС|Эта записная книжка подписывает сертификат, созданный с помощью записной книжки **CER021 — создание сертификата Knox** с использованием сертификата корневого ЦС, созданного с помощью записной книжки **CER001 — создание сертификата корневого ЦС** или **CER003 — отправка имеющегося сертификата корневого ЦС** .|
|CER032 — подписывание сертификата прокси-сервера приложения с помощью созданного ЦС|Эта записная книжка подписывает сертификат, созданный с помощью записной книжки **CER022 — создание сертификата прокси-сервера приложения** с использованием сертификата корневого ЦС, созданного с помощью записной книжки **CER001 — создание сертификата корневого ЦС** или **CER003 — отправка имеющегося сертификата корневого ЦС** .|
|CER033 — подписывание главного сертификата с помощью созданного ЦС|Эта записная книжка подписывает сертификат, созданный с помощью записной книжки **CER023 — создание главного сертификата** с использованием сертификата корневого ЦС, созданного с помощью записной книжки **CER001 — создание сертификата корневого ЦС** или **CER003 — отправка имеющегося сертификата корневого ЦС**|
|CER040 — установка подписанного сертификата прокси-сервера управления|Эта записная книжка устанавливает в кластер больших данных сертификат, подписанный с помощью записной книжки **CER030 — подписывание сертификата прокси-сервера управления с помощью созданного ЦС** .|
|CER041 — установка подписанного сертификата Knox|Эта записная книжка устанавливает в кластер больших данных сертификат, подписанный с помощью записной книжки **CER031 — подписывание сертификата Knox с помощью созданного ЦС** .|
|CER042 — установка подписанного сертификата прокси-сервера приложения|Эта записная книжка устанавливает в кластер больших данных сертификат, подписанный с помощью записной книжки **CER032 — подписывание сертификата прокси-сервера приложения с помощью созданного ЦС** .|
|CER043 — установка подписанного сертификата контроллера|Эта записная книжка устанавливает в кластер больших данных сертификат, подписанный с помощью записной книжки **CER034 — подписывание сертификата контроллера с помощью корневого ЦС кластера** . Обратите внимание, что в конце этой записной книжки модуль pod контроллера и все модули pod, использующие PolyBase (модули pod главного пула и пула вычислений), будут перезапущены для загрузки новых сертификатов.|
|CER050 — ожидание работоспособности BDC|Эта записная книжка будет ожидать, пока кластер больших данных не вернется в состояние работоспособности после перезапуска модуля pod контроллера и модулей pod, использующих Polybase, для загрузки новых сертификатов.|
|CER100 — настройка кластера с помощью самозаверяющих сертификатов|Эта записная книжка создаст новый корневой ЦС в кластере больших данных и новые сертификаты для каждой конечной точки (конечные точки управления, шлюза, прокси приложения и контроллера). Подпишите каждый новый сертификат с помощью созданного корневого ЦС, за исключением сертификата контроллера (подписанного с помощью имеющегося корневого ЦС кластера), а затем установите каждый сертификат в кластере больших данных. Скачайте созданный корневой ЦС в хранилище сертификатов Доверенных корневых центров сертификации этого компьютера. Все созданные самозаверяющие сертификаты будут храниться в модуле pod контроллера в расположении test_cert_store_root.|
|CER101 — настройка кластера с помощью самозаверяющих сертификатов с использованием имеющегося корневого ЦС|Эта записная книжка будет использовать имеющийся созданный корневой ЦС в кластере больших данных (переданный с помощью **CER003** ) и создаст новые сертификаты для каждой конечной точки (управления, шлюза, прокси-сервера приложения и контроллера), а затем подпишет каждый новый сертификат с помощью созданного корневого ЦС, за исключением сертификата контроллера (подписанного с помощью имеющегося корневого ЦС кластера), и установит каждый сертификат в кластер больших данных. Все созданные самозаверяющие сертификаты будут храниться в модуле pod контроллера (в расположении test_cert_store_root). После выполнения этой записной книжки любой доступ по протоколу https:// к кластеру больших данных с этого компьютера (и любого компьютера, устанавливающего новый корневой ЦС) будет отображаться как безопасный. В главе средства выполнения записных книжек задание CronJob (OPR003), созданное для запуска развертывания приложений, установит корневой ЦС кластера, чтобы обеспечить безопасное получение токенов JWT и файла swagger.json.|

## <a name="backup-and-restore-from-big-data-cluster-bdc"></a>Резервное копирование и восстановление из кластера больших данных (BDC)

Этот раздел содержит набор записных книжек, используемых для операций резервного копирования и восстановления BDC SQL Server.

| Имя | Описание |
|--|--|
| SOP008 — резервное копирование HDFS-файлов в Azure Data Lake Store 2-го поколения с помощью distcp | Эта стандартная рабочая процедура (SOP) выполняет резервное копирование данных из файловой системы HDFS исходного кластера BDC SQL Server 2019 в указанную учетную запись Azure Data Lake Store 2-го поколения. Включите параметр "Иерархическое пространство имен" в учетной записи Azure Data Lake Store 2-го поколения. |

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о [!INCLUDE[big-data-clusters-2019](../includes/ssbigdataclusters-ss-nover.md)] см. в статье [Что такое [!INCLUDE[big-data-clusters-2019](../includes/ssbigdataclusters-ver15.md)]?](big-data-cluster-overview.md).
