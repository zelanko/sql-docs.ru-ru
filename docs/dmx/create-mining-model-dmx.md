---
title: СОЗДАНИЕ МОДЕЛИ ИНТЕЛЛЕКТУАЛЬНОГО АНАЛИЗА ДАННЫХ (DMX) | Документы Microsoft
ms.custom: ''
ms.date: 03/02/2016
ms.prod: analysis-services
ms.prod_service: analysis-services
ms.service: ''
ms.component: data-mining
ms.reviewer: ''
ms.suite: pro-bi
ms.technology: ''
ms.tgt_pltfrm: ''
ms.topic: language-reference
f1_keywords:
- CREATE MINING MODEL
- CREATE
- CREATE_MINING_MODEL
dev_langs:
- DMX
helpviewer_keywords:
- RELATED TO column
- mining models [Analysis Services], creating
- column definition lists [DMX]
- parameter lists [DMX]
- SESSION clause
- CREATE MINING MODEL statement
ms.assetid: 43e4b591-7b34-494c-9b2d-7f0fe69af788
caps.latest.revision: 57
author: Minewiskan
ms.author: owend
manager: erikre
ms.openlocfilehash: 6d3d8471754918eaff793bb6787f383b67f33a77
ms.sourcegitcommit: 2ddc0bfb3ce2f2b160e3638f1c2c237a898263f4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="create-mining-model-dmx"></a>CREATE MINING MODEL (расширения интеллектуального анализа данных)
[!INCLUDE[ssas-appliesto-sqlas](../includes/ssas-appliesto-sqlas.md)]

  Позволяет создать в базе данных новую модель и структуру интеллектуального анализа данных. Модель можно создать либо путем определения новой модели в инструкции, либо с помощью языка разметки моделей прогнозов (Predictive Model Markup Language, PMML). Второй параметр рекомендуется использовать только опытным пользователям.  
  
 Имя структуры интеллектуального анализа данных формируется путем добавления строки «_structure» к имени модели, что гарантирует несовпадение имени структуры и модели.  
  
 Чтобы создать модель интеллектуального анализа данных для существующей структуры интеллектуального анализа данных, используйте [ALTER MINING STRUCTURE &#40; расширений интеллектуального анализа данных &#41;](../dmx/alter-mining-structure-dmx.md) инструкции.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
  
CREATE [SESSION] MINING MODEL <model>  
(  
    [(<column definition list>)]  
)  
USING <algorithm> [(<parameter list>)] [WITH DRILLTHROUGH]  
CREATE MINING MODEL <model> FROM PMML <xml string>  
```  
  
## <a name="arguments"></a>Аргументы  
 *model*  
 Уникальное имя модели.  
  
 *Список определений столбца*  
 Список определений столбцов с разделителями-запятыми.  
  
 *Алгоритм*  
 Имя алгоритма интеллектуального анализа данных, определенное текущим поставщиком.  
  
> [!NOTE]  
>  Список алгоритмов, поддерживаемых текущим поставщиком можно получить с помощью [строк DMSCHEMA_MINING_SERVICES](../analysis-services/schema-rowsets/data-mining/dmschema-mining-services-rowset.md). Для просмотра алгоритмы, поддерживаемые в текущем экземпляре [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], в разделе [свойства интеллектуального анализа данных](../analysis-services/server-properties/data-mining-properties.md).  
  
 *Список параметров*  
 Необязательно. Список параметров, определенных поставщиком для алгоритма и разделенный запятыми.  
  
 *XML-строка*  
 (Для опытных пользователей.) Модель, закодированная на языке XML (PMML). Строка должна быть заключена в одиночные кавычки (').  
  
 **СЕАНСА** предложение позволяет создать модель интеллектуального анализа данных, которая автоматически удаляется с сервера при закрытии соединения или превышении времени ожидания. **СЕАНС** моделей интеллектуального анализа данных полезны, поскольку они не требуют, чтобы пользователь был администратором базы данных и используется только для места на диске при условии, что при открытом соединении.  
  
 **WITH DRILLTHROUGH** предложение включает детализацию новой модели интеллектуального анализа данных. Включить детализацию можно только при создании модели. Для некоторых типов моделей требуется детализация для просмотра модели в пользовательском средстве просмотра. Детализация не требуется для прогноза или просмотра модели с помощью средства просмотра деревьев содержимого общего вида (Майкрософт).  
  
 **CREATE MINING MODEL** инструкция создает модель интеллектуального анализа данных, основанный на списка определений столбцов, алгоритма и списка параметров алгоритма.  
  
### <a name="column-definition-list"></a>Список определений столбца  
 Структура модели, использующей список определений столбца, определяется путем включения следующих данных в каждый столбец:  
  
-   имя (обязательно);  
  
-   Тип данных (обязательно)  
  
-   Distribution  
  
-   Список флагов моделирования  
  
-   Тип содержимого (обязательно)  
  
-   Запрос на прогнозирование, указывающий алгоритму на необходимость прогнозирования данного столбца, обозначенном **PREDICT** или **PREDICT_ONLY** предложения  
  
-   Связь со столбцом атрибутов (обязательна, только если он применяется), определяемая по **RELATED TO** предложения  
  
 Чтобы определить один столбец, используйте следующий синтаксис для списка определений столбцов:  
  
```  
<column name>    <data type>    [<Distribution>]    [<Modeling Flags>]    <Content Type>    [<prediction>]    [<column relationship>]   
```  
  
 Чтобы определить столбец вложенной таблицы, используйте следующий синтаксис списка определений столбцов:  
  
```  
<column name>    TABLE    [<prediction>] ( <non-table column definition list> )  
```  
  
 Для определения столбца можно использовать не более одного предложения каждого типа, за исключением флагов моделирования. Для любого столбца можно задать несколько флагов моделирования.  
  
 Список типов данных, типов содержимого, распределений столбцов и флагов моделирования, используемых при определении столбца, см. в следующих разделах.  
  
-   [Типы данных &#40; интеллектуального анализа данных &#41;](../analysis-services/data-mining/data-types-data-mining.md)  
  
-   [Содержимого типы &#40; интеллектуального анализа данных &#41;](../analysis-services/data-mining/content-types-data-mining.md)  
  
-   [Распределения столбцов &#40; интеллектуального анализа данных &#41;](../analysis-services/data-mining/column-distributions-data-mining.md)  
  
-   [Моделирование флаги &#40; интеллектуального анализа данных &#41;](../analysis-services/data-mining/modeling-flags-data-mining.md)  
  
 К инструкции можно добавить предложение, описывающее связь между двумя столбцами. [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] поддерживает использование следующих \<связи столбцов > предложения.  
  
 **СВЯЗАННЫЕ С**  
 Эта форма указывает на иерархию значений. Назначением столбца RELATED TO может быть ключевой столбец вложенной таблицы, столбец с дискретными значениями из строки вариантов или какой-либо другой столбец с предложением RELATED TO, указывающим на более глубокий уровень иерархии.  
  
 Для описания использования прогнозируемого столбца используйте прогнозирующее предложение. В следующей таблице приводится описание двух возможных предложений.  
  
|\<Прогноз > предложения|Описание|  
|---------------------------|-----------------|  
|**PREDICT**|Этот столбец может быть спрогнозирован моделью и может включаться во входные варианты для прогноза значений других прогнозируемых столбцов.|  
|**PREDICT_ONLY**|Данный столбец может быть спрогнозирован с помощью модели, однако его нельзя использовать во входных вариантах для вычисления значений других прогнозируемых столбцов.|  
  
### <a name="parameter-definition-list"></a>Список определений параметров  
 Список параметров может использоваться для настройки производительности и функциональности модели интеллектуального анализа данных. Синтаксис списка параметров следующий:  
  
```  
[<parameter> = <value>, <parameter> = <value>,…]  
```  
  
 Список параметров, которые связаны с каждым алгоритмом, см. [алгоритмов интеллектуального анализа данных &#40; Службы Analysis Services — Интеллектуальный анализ данных &#41; ](../analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining.md).  
  
## <a name="remarks"></a>Замечания  
 Если необходимо создать модель со встроенным набором проверочных данных, следует после ALTER MINING STRUCTURE использовать инструкцию CREATE MINING STRUCTURE. При этом не все типы моделей поддерживают набор контрольных данных. Дополнительные сведения см. в статье [CREATE MINING STRUCTURE (DMX)](../dmx/create-mining-structure-dmx.md).  
  
 Пошаговое руководство по созданию модели интеллектуального анализа данных при помощи инструкции CREATEMODEL см. в разделе [учебника расширений интеллектуального анализа данных прогнозирования ряда времени](http://msdn.microsoft.com/library/38ea7c03-4754-4e71-896a-f68cc2c98ce2).  
  
## <a name="naive-bayes-example"></a>Пример упрощенного алгоритма Байеса  
 В следующем примере используется [!INCLUDE[msCoName](../includes/msconame-md.md)] упрощенный алгоритм Байеса для создания новой модели интеллектуального анализа данных. Столбец Bike Buyer определяется как прогнозируемый атрибут.  
  
```  
CREATE MINING MODEL [NBSample]  
(  
    CustomerKey LONG KEY,   
    Gender TEXT DISCRETE,  
    [Number Cars Owned] LONG DISCRETE,  
    [Bike Buyer] LONG DISCRETE PREDICT  
)  
USING Microsoft_Naive_Bayes  
```  
  
## <a name="association-model-example"></a>Пример модели взаимосвязей  
 В следующем примере используется [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм взаимосвязей для создания новой модели интеллектуального анализа данных. Преимуществом инструкции является возможность вложения таблицы внутри определения модели с помощью табличного столбца. При изменении модели с помощью *MINIMUM_PROBABILITY* и *MINIMUM_SUPPORT* параметров.  
  
```  
CREATE MINING MODEL MyAssociationModel (  
    OrderNumber TEXT KEY,  
    [Products] TABLE PREDICT (  
        [Model] TEXT KEY  
    )  
)  
USING Microsoft_Association_Rules (Minimum_Probability = 0.1, MINIMUM_SUPPORT = 0.01)  
```  
  
## <a name="sequence-clustering-example"></a>Пример кластеризации последовательностей  
 В следующем примере используется [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм кластеризации последовательностей, чтобы создать новую модель интеллектуального анализа данных. Чтобы определить модель, используются два ключа. Столбец OrderNumber используется в качестве ключа варианта и задает отдельные заказы. Столбец LineNumber используется в качестве ключа вложенной таблицы и задает последовательность добавления пунктов в заказ.  
  
```  
CREATE MINING MODEL BuyingSequence (  
    [Order Number] TEXT KEY,  
    [Products] TABLE   
     (  
        [Line Number] LONG KEY SEQUENCE,  
        [Model] TEXT DISCRETE PREDICT  
    )  
)  
USING Microsoft_Sequence_Clustering  
```  
  
## <a name="time-series-example"></a>Пример алгоритма временных рядов  
 В следующем примере используется [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм временных рядов для создания новой модели интеллектуального анализа данных с помощью алгоритма ARTxp. ReportingDate – это ключевой столбец для временного ряда, а ModelRegion – ключевой столбец для ряда данных. В этом примере предполагается, что периодичность данных составляет 12 месяцев. Таким образом *PERIODICITY_HINT* параметр имеет значение 12.  
  
> [!NOTE]  
>  Необходимо указать *PERIODICITY_HINT* параметра с помощью фигурных скобок. Кроме того, поскольку значение является строкой, он должен быть заключен в одиночные кавычки: «{\<числовое значение >}».  
  
```  
CREATE MINING MODEL SalesForecast (  
        ReportingDate DATE KEY TIME,  
        ModelRegion TEXT KEY,  
        Amount LONG CONTINUOUS PREDICT,  
        Quantity LONG CONTINUOUS PREDICT  
)  
USING Microsoft_Time_Series (PERIODICITY_HINT = '{12}', FORECAST_METHOD = 'ARTXP')  
```  
  
## <a name="see-also"></a>См. также  
 [Расширения интеллектуального анализа данных &#40; расширений интеллектуального анализа данных &#41; Инструкции определения данных](../dmx/dmx-statements-data-definition.md)   
 [Расширения интеллектуального анализа данных &#40; расширений интеллектуального анализа данных &#41; Инструкции управления данными](../dmx/dmx-statements-data-manipulation.md)   
 [Расширения интеллектуального анализа данных &#40; расширений интеллектуального анализа данных &#41; Справка по инструкции](../dmx/data-mining-extensions-dmx-statements.md)  
  
  
