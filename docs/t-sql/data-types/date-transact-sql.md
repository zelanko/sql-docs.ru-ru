---
description: date (Transact-SQL)
title: date (Transact-SQL) | Документы Майкрософт
ms.custom: ''
ms.date: 07/23/2017
ms.prod: sql
ms.prod_service: database-engine, sql-database, sql-data-warehouse, pdw
ms.reviewer: ''
ms.technology: t-sql
ms.topic: language-reference
f1_keywords:
- date_TSQL
- date
dev_langs:
- TSQL
helpviewer_keywords:
- data types [SQL Server], date
- date and time [SQL Server], date
- dates [SQL Server], data types
- date data type [SQL Server]
- data types [SQL Server], date and time
ms.assetid: c963e8b4-5a85-4bd0-9d48-3f8da8f6516b
author: MikeRayMSFT
ms.author: mikeray
monikerRange: '>=aps-pdw-2016||=azuresqldb-current||=azure-sqldw-latest||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current'
ms.openlocfilehash: 68268a384ab4d89944a3c26322555326948629f2
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2020
ms.locfileid: "97408285"
---
# <a name="date-transact-sql"></a>date (Transact-SQL)

[!INCLUDE [sql-asdb-asdbmi-asa-pdw](../../includes/applies-to-version/sql-asdb-asdbmi-asa-pdw.md)]

Определяет дату в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].

## <a name="date-description"></a>Описание типа данных date
  
|Свойство|Значение|  
|--------------|-----------|  
|Синтаксис|**date**|  
|Использование|DECLARE \@MyDate **date**<br /><br /> CREATE TABLE Таблица1 ( Столбец1 **date** )|  
|Формат строковых литералов по умолчанию<br /><br /> (используется для клиента нижнего уровня)|ГГГГ-ММ-ДД<br /><br /> Дополнительные сведения см. в подразделе «Обратная совместимость для клиентов низкого уровня» следующего раздела.|  
|Диапазон|От 0001-01-01 до 9999-12-31 (от 1582-10-15 до 9999-12-31 для Informatica)<br /><br /> От 1 января 1 года до 31 декабря 9999 года нашей эры (от 15 октября 1582 года до 31 декабря 9999 года для Informatica).|  
|Диапазоны элементов|ГГГГ обозначает 4 цифры, которые представляют год и принимают значения от 0001 до 9999. Для Informatica значение ГГГГ ограничено диапазоном от 1582 до 9999.<br /><br /> ММ обозначает 2 цифры, которые представляют месяц и принимают значения от 01 до 12.<br /><br /> ДД обозначает две цифры, представляющие день указанного месяца и принимающие значения от 01 до 31 в зависимости от месяца.|  
|Длина в символах|10 позиций|  
|Точность, масштаб|10, 0|  
|Объем памяти|3 байта, фиксированный|  
|Структура хранилища|Дата хранится в одной переменной типа integer размером 1 или 3 байта.|  
|Точность|Один день|  
|Значение по умолчанию|1900-01-01<br /><br /> Это значение используется как присоединяемая часть даты при неявном преобразовании данных типа **time** в значение типа **datetime2** или **datetimeoffset**.|  
|Календарь|Григорианский|  
|Определяемая пользователем точность в долях секунды|Нет|  
|Учет и сохранение смещения часового пояса|Нет|  
|Учет перехода на летнее время|Нет|  
  
## <a name="supported-string-literal-formats-for-date"></a>Поддерживаемые форматы строковых литералов для типа данных date
В приведенной ниже таблице перечислены допустимые форматы строковых литералов для типа данных **date**.
  
|Числовой|Описание|  
|-------------|-----------------|  
|mdy<br /><br /> [м]м/дд/[гг]гг<br /><br /> [м]м-дд-[гг]гг<br /><br /> [м]м.дд.[гг]гг<br /><br /> мгд<br /><br /> мм/[гг]гг/дд<br /><br /> мм-[гг]гг/дд<br /><br /> [м]м.[гг]гг.дд<br /><br /> дмг<br /><br /> дд/[м]м/[гг]гг<br /><br /> дд-[м]м-[гг]гг<br /><br /> дд.[м]м.[гг]гг<br /><br /> дгм<br /><br /> дд/[гг]гг/[м]м<br /><br /> дд-[гг]гг-[м]м<br /><br /> дд.[гг]гг.[м]м<br /><br /> гмд<br /><br /> [гг]гг/[м]м/дд<br /><br /> [гг]гг-[м]м-дд<br /><br /> [гг]гг-[м]м-дд|Сочетания [м]м, дд и [гг]гг представляют в строке месяц, день и год, разделенные символом косой черты (/), дефисом (-) или точкой (.).<br /><br /> Поддерживаются только двух- и четырехзначные форматы записи года. Для записи года рекомендуется всегда использовать четырехзначный формат. Чтобы указать целое число в промежутке от 0001 до 9999, представляющее пороговое значение года при преобразовании двухзначной записи в четырехзначную, необходимо использовать [параметр конфигурации сервера two digit year cutoff](../../database-engine/configure-windows/configure-the-two-digit-year-cutoff-server-configuration-option.md).<br /><br /> **Примечание.** Для Informatica значение ГГГГ ограничено диапазоном от 1582 до 9999.<br /><br /> Если двузначное число, обозначающее год, меньше или равно двузначному числу из последних двух цифр порогового года, год относится к тому же столетию, что и пороговый год. Если двузначное число, обозначающее год, больше двузначного числа из последних двух цифр порогового года, год относится к столетию, которое предшествует столетию порогового года. Например, если пороговое значение года для двухзначной записи равно 2049, то год, обозначенный двумя цифрами 49, интерпретируется как 2049, а год, обозначенный двумя цифрами 50, интерпретируется как 1950.<br /><br /> Формат даты по умолчанию определяется текущими настройками языковых стандартов. Формат даты можно изменить с помощью инструкций [SET LANGUAGE](../../t-sql/statements/set-language-transact-sql.md) и [SET DATEFORMAT](../../t-sql/statements/set-dateformat-transact-sql.md).<br /><br /> Формат **гдм** не поддерживается для типа данных **date**.|  
  
|Алфавитный формат|Описание|  
|------------------|-----------------|  
|мес [дд][,] гггг<br /><br /> мес дд[,] [гг]<br /><br /> мес гггг [дд]<br /><br /> [дд] мес[,] гггг<br /><br /> дд мес[,][гг]гг<br /><br /> дд [гг]гг мес<br /><br /> [дд] гггг мес<br /><br /> гггг мес [дд]<br /><br /> гггг [дд] мес|Значение **мес** означает полное или сокращенное название месяца на текущем языке. Запятые являются необязательными, регистр букв не учитывается.<br /><br /> Во избежание неоднозначности используйте четырехзначную запись года.<br /><br /> Если не указано число месяца, подразумевается первое число месяца.|  
  
|ISO 8601|Описание|  
|--------------|----------------|  
|ГГГГ-ММ-ДД<br /><br /> ГГГГММДД|То же, что и стандарт SQL. Этот формат является единственным международным стандартом.|  
  
|Без разделителей|Описание|  
|-----------------|-----------------|  
|[гг]ггммдд<br /><br /> гггг[мм][дд]|Данные типа **date** могут быть определены с помощью четырех, шести или восьми цифр. Строка из шести или восьми цифр всегда интерпретируется как **гмд**. На месяц и день всегда должно приходиться по две цифры. Строка из четырех цифр воспринимается как значение года.|  
  
|ODBC|Описание|  
|----------|-----------------|  
|{ д 'гггг-мм-дд' }|Зависит от API-интерфейса ODBC.|  
  
|Формат W3C XML|Описание|  
|--------------------|-----------------|  
|гггг-мм-ддTZD|Введен для использования в XML и SOAP.<br /><br /> TZD обозначает часовой пояс (в виде номера или смещения +чч:мм и -чч:мм):<br /><br /> — "чч:мм" обозначает смещение часового пояса. чч — двузначное число от 0 до 14, представляющее количество часов в смещении часового пояса.<br />— Обозначение "мм" состоит из двух цифр, представляющих дополнительное смещение часового пояса в минутах, и принимает значения от 0 до 59.<br />— + (плюс) или – (минус) представляет собой обязательный знак смещения часового пояса. Данный знак указывает, добавляется или вычитается смещение часового пояса от времени в формате UTC, чтобы получить локальное время. Допустимый диапазон смещения часового пояса: от -14:00 до +14:00.|  
  
## <a name="ansi-and-iso-8601-compliance"></a>Соответствие стандартам ANSI и ISO 8601  
Значение **date** соответствует стандартному определению ANSI SQL для григорианского календаря: "Замечание 85 — данные типа Datetime позволяют хранить даты григорианского календаря в виде чисел диапазона от 0001-01-01 CE до 9999–12–31 CE".
  
Формат строковых литералов по умолчанию, используемый для клиентов низкого уровня, соответствует стандарту SQL, в котором он определен как ГГГГ-ММ-ДД. Данный формат аналогичен определению даты в стандарте ISO 8601.
  
> [!NOTE]  
>  Для Informatica диапазон ограничен интервалом от 1582-10-15 (15 октября 1582 г.) до 9999-12-31 (31 декабря 9999  г.).  
  
## <a name="backward-compatibility-for-down-level-clients"></a>Обратная совместимость для клиентов нижнего уровня
Некоторые клиенты нижнего уровня не поддерживают типы данных **time**, **date**, **datetime2** и **datetimeoffset**. В следующей таблице показано сопоставление типов экземпляра более высокого уровня [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и клиентов низкого уровня.
  
|Тип данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]|Формат строкового литерала по умолчанию, передаваемый клиенту низкого уровня|ODBC низкого уровня|OLEDB низкого уровня|JDBC низкого уровня|SQLCLIENT низкого уровня|  
| --- | --- | --- | --- | --- | --- |
|**time**|чч:мм:сс[.ннннннн]|SQL_WVARCHAR или SQL_VARCHAR|DBTYPE_WSTR или DBTYPE_STR|Java.sql.String|String или SqString|  
|**date**|ГГГГ-ММ-ДД|SQL_WVARCHAR или SQL_VARCHAR|DBTYPE_WSTR или DBTYPE_STR|Java.sql.String|String или SqString|  
|**datetime2**|ГГГГ-ММ-ДД чч:мм:сс[.ннннннн]|SQL_WVARCHAR или SQL_VARCHAR|DBTYPE_WSTR или DBTYPE_STR|Java.sql.String|String или SqString|  
|**datetimeoffset**|ГГГГ-ММ-ДД чч:мм:сс[.ннннннн] [+&#124;-]чч:мм|SQL_WVARCHAR или SQL_VARCHAR|DBTYPE_WSTR или DBTYPE_STR|Java.sql.String|String или SqString|  
  
## <a name="converting-date-and-time-data"></a>Преобразование данных типа Date и Time
При преобразовании в типы данных даты и времени [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] отвергает все значения, которые он не распознает как значения даты или времени. Сведения об использовании функций CAST и CONVERT c данными типов даты и времени см. в статье [Функции CAST и CONVERT (Transact-SQL)](../../t-sql/functions/cast-and-convert-transact-sql.md).  
  
### <a name="converting-date-to-other-date-and-time-types"></a>Преобразование даты в другие типы данных даты и времени

В этом разделе описывается, что происходит при преобразовании типа данных **date** в другие типы даты и времени.
  
Преобразование в **time(n)** завершается сбоем, и появляется сообщение об ошибке 206: "Конфликт типов операндов: date несовместим с time".
  
При преобразовании в **datetime** копируется дата. Следующий код демонстрирует результаты преобразования значения `date` в значение `datetime`.
  
```sql
DECLARE @date date= '12-10-25';  
DECLARE @datetime datetime= @date;  
  
SELECT @date AS '@date', @datetime AS '@datetime';  
  
--Result  
--@date      @datetime  
------------ -----------------------  
--2025-12-10 2025-12-10 00:00:00.000  
--  
--(1 row(s) affected)  
```  
  
Если при преобразовании в **smalldatetime** значение типа **date** находится в диапазоне значений [smalldatetime](../../t-sql/data-types/smalldatetime-transact-sql.md), компонент даты копируется, а для компонента времени устанавливается значение 00:00:00.000. Если значение **date** выходит за диапазон значений **smalldatetime**, выводится сообщение об ошибке 242: "Преобразование типа данных date в тип данных smalldatetime привело к появлению значения, выходящего за диапазон допустимых значений". После этого для значения типа **smalldatetime** устанавливается значение NULL. Следующий код демонстрирует результаты преобразования значения `date` в значение `smalldatetime`.
  
```sql
DECLARE @date date= '1912-10-25';  
DECLARE @smalldatetime smalldatetime = @date;  
  
SELECT @date AS '@date', @smalldatetime AS '@smalldatetime';  
  
--Result  
--@date      @smalldatetime  
------------ -----------------------  
--1912-10-25 1912-10-25 00:00:00  
--  
--(1 row(s) affected)  
```  
  
При преобразовании в **datetimeoffset(n)** дата копируется, а для времени устанавливается значение 00:00.0000000 +00:00. Следующий код демонстрирует результаты преобразования значения `date` в значение `datetimeoffset(3)`.
  
```sql
DECLARE @date date = '1912-10-25';  
DECLARE @datetimeoffset datetimeoffset(3) = @date;  
  
SELECT @date AS '@date', @datetimeoffset AS '@datetimeoffset';  
  
--Result  
--@date      @datetimeoffset  
------------ ------------------------------  
--1912-10-25 1912-10-25 00:00:00.000 +00:00  
--  
--(1 row(s) affected)  
```  
  
При преобразовании в **datetime2(n)** компонент даты копируется, а для компонента времени устанавливается значение 00:00.000000. Следующий код демонстрирует результаты преобразования значения `date` в значение `datetime2(3)`.
  
```sql
DECLARE @date date = '1912-10-25'  
DECLARE @datetime2 datetime2(3) = @date;  
  
SELECT @date AS '@date', @datetime2 AS '@datetime2(3)';  
  
--Result  
--@date      @datetime2(3)  
------------ -----------------------  
--1912-10-25 1912-10-25 00:00:00.000  
--  
--(1 row(s) affected)  
```  
  
### <a name="converting-string-literals-to-date"></a>Преобразование строковых литералов в дату
Преобразование строковых литералов в типы данных даты и времени разрешается, если все части строк записаны в допустимом формате. Иначе возникает ошибка времени выполнения. Явные или скрытые преобразования, в которых не задан стиль преобразования типов данных даты и времени в строковые литералы, будут проведены в формате по умолчанию для текущего сеанса. В таблице ниже приводятся правила преобразования строковых литералов в тип данных **date**.
  
|Строковый литерал входа|**date**|  
|---|---|
|ODBC DATE|Строковые литералы ODBC сопоставляются с типом данных **datetime**. Любая операция присваивания литералов ODBC DATETIME типу данных **date** вызывает неявное преобразование между данным типом и типом **datetime** согласно правилам преобразования.|  
|ODBC TIME|См. предыдущее правило ODBC DATE.|  
|ODBC DATETIME|См. предыдущее правило ODBC DATE.|  
|только DATE|Простейший.|  
|только TIME|Указаны значения по умолчанию.|  
|только TIMEZONE|Указаны значения по умолчанию.|  
|DATE + TIME|Используется компонент DATE входной строки.|  
|DATE + TIMEZONE|Не допускается.|  
|TIME + TIMEZONE|Указаны значения по умолчанию.|  
|DATE + TIME + TIMEZONE|Используется компонент DATE локального значения DATETIME.|  
  
## <a name="examples"></a>Примеры  
В следующем примере сравниваются результаты приведения строкового типа к каждому из типов данных date и time.
  
```sql
SELECT   
     CAST('2007-05-08 12:35:29. 1234567 +12:15' AS time(7)) AS 'time'   
    ,CAST('2007-05-08 12:35:29. 1234567 +12:15' AS date) AS 'date'   
    ,CAST('2007-05-08 12:35:29.123' AS smalldatetime) AS   
        'smalldatetime'   
    ,CAST('2007-05-08 12:35:29.123' AS datetime) AS 'datetime'   
    ,CAST('2007-05-08 12:35:29. 1234567 +12:15' AS datetime2(7)) AS   
        'datetime2'  
    ,CAST('2007-05-08 12:35:29.1234567 +12:15' AS datetimeoffset(7)) AS   
        'datetimeoffset';  
```  
  
[!INCLUDE[ssResult](../../includes/ssresult-md.md)]
  
|Тип данных|Выходные данные|  
|---------------|------------|  
|**time**|12:35:29. 1234567|  
|**date**|2007-05-08|  
|**smalldatetime**|2007-05-08 12:35:00|  
|**datetime**|2007-05-08 12:35:29.123|  
|**datetime2**|2007-05-08 12:35:29.1234567|  
|**datetimeoffset**|2007-05-08 12:35:29.1234567 +12:15|  

Впервые представлено в SQL Server 2008.

## <a name="see-also"></a>См. также раздел
[Функции CAST и CONVERT (Transact-SQL)](../../t-sql/functions/cast-and-convert-transact-sql.md)
  
  
