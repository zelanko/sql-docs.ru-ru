---
title: Часто задаваемые вопросы о машинного обучения SQL Server обновлению и установке | Документация Майкрософт
ms.prod: sql
ms.technology: machine-learning
ms.date: 04/15/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: 695fd6a801b8b8846d297aa0695aa4ebc04e71e5
ms.sourcegitcommit: 603d2e588ac7b36060fa0cc9c8621ff2a6c0fcc7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2018
ms.locfileid: "40392366"
---
# <a name="upgrade-and-installation-faq-for-sql-server-machine-learning-or-r-server"></a>Часто задаваемые вопросы о машинного обучения SQL Server или R Server обновлению и установке
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В этом разделе содержатся ответы на некоторые распространенные вопросы об установке машинного обучения в SQL Server. Здесь также рассматриваются часто задаваемые вопросы об обновлениях.

+ Некоторые проблемы возникают только с помощью обновления с предварительных версий. Поэтому рекомендуется определить версию и выпуск сначала перед чтением эти заметки. Чтобы получить сведения о версии, выполните `@@VERSION` в запрос из SQL Server Management Studio.
+ Обновление до последней версии или выпуска службы как можно скорее, для устранения проблем, исправленных в последних выпусках.

**Применяется к:** служб R SQL Server 2016, SQL Server 2017 службы машинного обучения (в базе данных)

## <a name="requirements-and-restrictions-on-older-versions-of-sql-server-2016"></a>Требования и ограничения для более старых версий SQL Server 2016 

В зависимости от сборки SQL Server, на котором выполняется установка могут применять некоторые следующие ограничения:

- В ранних версиях SQL Server 2016 R Services нотацию 8dot3 требовалась на диск, содержащий рабочий каталог. Если вы установили предварительную версию, обновление до пакета обновления 1 для SQL Server 2016 следует устранить эту проблему. Это требование не относится к выпускам после пакета обновления 1.

- Установка Side-by-side другую версию R или другие выпуски Revolution Analytics, не поддерживается.

- Отключите антивирусные до начала установки. По завершении установки рекомендуется приостановить выполнение, поиск вирусов на папки, используемые [!INCLUDE[ssnoversion](../../includes/ssnoversion-md.md)]. Предпочтительно, приостановить сканирования всего [!INCLUDE[ssnoversion](../../includes/ssnoversion-md.md)] дерева.

 - Установка Microsoft R Server в экземпляре SQL Server, установленным в Windows Core. В RTM-версию SQL Server 2016 имелась известная проблема при добавлении Microsoft R Server в экземпляр в выпуске Windows Server Core. Эта ошибка исправлена. Если вы столкнетесь с этой проблемой, можно применить исправление, описанное в [статья базы знаний 3164398](https://support.microsoft.com/kb/3164398) добавить компонент R в существующий экземпляр, в Windows Server Core. Дополнительные сведения см. в разделе [Не удается установить изолированный сервер Microsoft R Server в операционной системе Windows Server Core](https://support.microsoft.com/kb/3168691).


## <a name="offline-installation-of-machine-learning-components-for-a-localized-version-of-sql-server-2016"></a>Автономная установка компонентов машинного обучения для локализованной версии SQL Server 2016

Ранний выпуск версии SQL Server 2016 не удалось установить зависящих от языкового стандарта CAB-файлы во время установки в автономном режиме без подключения к Интернету. Эта проблема была исправлена в более поздних версиях, но если программа установки возвращает сообщение о том, что он не сможет установить нужный язык, можно изменить имя файла, чтобы продолжить установку.

+ Вручную измените файл установщика, чтобы убедиться, что установлен правильный язык. Например, чтобы установить японскую версию SQL Server, бы изменить имя файла srs_8.0.3.0_**1033**.cab следует изменить на srs_8.0.3.0_**1041**.cab.
+ Идентификатор языка, используемый для машинного обучения компонентов должен быть таким же, как язык установки SQL Server, или вы не сможете завершить установку.

## <a name="pre-release-versions-support-policies-upgrade-and-known-issues"></a>Предварительные версии: поддержки политик, обновления и известные проблемы

Новые установки предварительных версий из [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] больше не поддерживается. При использовании предварительной версии, обновление как можно скорее.

Этот раздел содержит подробные инструкции для конкретных сценариев обновления.

### <a name="how-to-upgrade-sql-server"></a>Обновление SQL Server

Можно обновить версию SQL Server, повторно запустив мастер установки.

+ [Обновление SQL Server](../../database-engine/install-windows/upgrade-sql-server.md)
+ [Обновление SQL Server с помощью мастера установки](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)

Вы можете обновить только машинного обучения, компоненты с помощью процесса, называемого привязкой. 
+ [Используйте SqlBindR для обновления компонентов машинного обучения](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md)

### <a name="end-of-support-for-in-place-upgrades-from-prerelease-versions"></a>Прекращение поддержки для обновления на месте из предварительных версий

Обновления с предварительных версий SQL Server 2016 больше не поддерживаются. Сюда входят SQL Server 2016 CTP3, CTP3.1, CTP3.2, RC0 или RC1.

Следующие версии были установлены с предварительных версий SQL Server 2016.

| Версия | Сборка         |
|---------|---------------|
| CTP 3.0 | 13.0.xxx      |
| CTP 3.1 | 13.0.801.12   |
| CTP 3.2 | 13.0.900.73   |
| CTP 3.3 | 13.0.1000.281 |
| RC1     | 13.0.1200.242 |
| RC2     | 13.0.1300.275 |
| RC3     | 13.0.1400.361 |

Если у вас возникли сомнения, о какую версию вы используете, выполните `@@VERSION` в запрос из SQL Server Management Studio.

Как правило процесс обновления выглядит следующим образом:

1. Создавать резервные копии скриптов и данных.
2. Удалите предварительную версию.
3. Установите версию выпуска.

Удаление предварительную версию SQL Server компонентов машинного обучения могут быть сложными и могут потребовать выполнения специальных сценария. Обратитесь в службу технической поддержки.

###  <a name="bkmk_Uninstall"></a> Удалить перед обновлением до более ранней версии сервера Microsoft R Server

Если вы установили предварительную версию Microsoft R Server, ее необходимо удалить перед обновлением до более новой версии.

1.  В **панели управления**щелкните элемент **Установка и удаление программ**, а затем выберите `Microsoft SQL Server 2016 <version number>`.

2.  В диалоговом окне с командами **добавления**, **восстановления**и **удаления** компонентов выберите **Удалить**.
  
3.  На странице **Выбор компонентов** в разделе **Общие компоненты**выберите **R Server (изолированный)**. Нажмите кнопку **Далее**, а затем — кнопку **Готово** , чтобы удалить только выбранные компоненты.

## <a name="r-services-and-r-server-standalone-side-by-side-errors"></a>Службы R и R Server (изолированный) side-by-side ошибки 

В более ранних версиях SQL Server 2016 Установка R Server (изолированный) и службы R (в базе данных), в то же время иногда вызвала сбой с сообщением «доступ запрещен» установки. Эта проблема исправлена в пакете обновления 1 для SQL Server 2016.

Если возникла эта ошибка и вам необходимо обновить эти компоненты, выполните интегрированной установки SQL Server 2016 с пакетом обновления 1. Существует два способа для решения проблемы, для которых требуется, удаления и повторной установки.

1. Удалите службы R (в базе данных) и убедитесь, что учетные записи пользователей для SQLRUserGroup удаляются.

2. Перезапустите сервер, а затем переустановите R Server (изолированный).

3. Выполнения SQL Server после установки сведения, затем выберите **Добавление компонентов к существующей SQL Server**.

4. Выберите экземпляр, а затем выберите **службы R (в базе данных)** параметр для добавления.

Если эта процедура не удается устранить проблему, попробуйте следующий обходной путь:

1. Удаление службы R (в базе данных) и R Server (изолированный), в то же время.

2. Удалите учетные записи локального пользователя (SQLRUserGroup).

3. Перезапустите сервер.

4. Запустите программу установки SQL Server и добавьте только компонент служб r. (в базе данных). Не устанавливайте **R Server (изолированный)**.

Как правило мы рекомендуем не следует устанавливать службы R (в базе данных) и R Server (изолированный) на одном компьютере. Тем не менее при условии, что сервер имеет достаточную емкость, возможно, изолированного сервера R Server можно использовать как средство разработки. Другой возможный сценарий — что вам нужно использовать функции ввода в эксплуатацию R Server, но также требуется доступ к данным SQL Server без их перемещения.

## <a name="incompatible-version-of-r-client-and-r-server"></a>Несовместимые версии клиента R и сервера R Server

Если вы устанавливаете Microsoft R Client и использовать его для запуска R в удаленном контексте вычислений SQL Server, может появиться ошибка следующим образом:

*Используемая версия 9.0.0 клиента Microsoft R на компьютере, которая несовместима с Microsoft R Server версии 8.0.3. Скачайте и установите совместимую версию*.

В SQL Server 2016, оно является обязательным в версии R, который был запущен в SQL Server R Services быть точно так же, как библиотеки в Microsoft R Client. Это требование был удален в более поздних версиях. Тем не менее мы рекомендуем всегда получать последние версии машинного обучения компоненты и установите все пакеты обновления. 

Если более ранняя версия Microsoft R Server и вам необходимо обеспечить совместимость с клиентом Microsoft R 9.0.0, установки обновлений, описанных в этом [статье службы поддержки](https://support.microsoft.com/kb/3210262).


## <a name="installation-fails-with-error-only-one-revolution-enterprise-product-can-be-installed-at-a-time"></a>Установка завершается ошибкой "Одновременная установка нескольких продуктов Revolution Enterprise невозможна".

Эта ошибка может возникнуть, если у вас уже установлены продукты Revolution Analytics или предварительная версия служб SQL Server R. Перед тем как устанавливать новую версию Microsoft R Server, необходимо удалить все предыдущие версии. Параллельная установка с другими версиями средств Revolution Enterprise не поддерживается.

Но она поддерживается при использовании изолированного сервера R Server с [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] или SQL Server 2016.

## <a name="registry-cleanup-to-uninstall-older-components"></a>Очистка реестра, чтобы удалить старые компоненты.

Если у вас возникают проблемы с удалением предыдущей версии, вам может потребоваться отредактировать реестр, удалив соответствующие разделы.

> [!IMPORTANT]
> Эта проблема возникает, только если вы установили предварительную версию Microsoft R Server или версию CTP служб SQL Server 2016 R.
  
1. Откройте реестр Windows и найдите следующий раздел: `HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall`.
2. Удалите следующие записи, если они имеются и если раздел содержит только параметр `sEstimatedSize2`:
  
    -   E0B2C29E-B8FC-490B-A043-2CAE75634972        (для версии 8.0.2)
  
    -   46695879-954E-4072-9D32-1CC84D4158F4        (для версии 8.0.1)
  
    -   2DF16DF8-A2DB-4EC6-808B-CB5A302DA91B        (для версии 8.0.0)
  
    -   5A2A1571-B8CD-4AAF-9303-8DF463DABE5A        (для версии 7.5.0)

## <a name="see-also"></a>См. также

 [SQL Server службы машинного обучения (в базе данных)](../r/sql-server-r-services.md)

 [SQL Server в машинном обучении Server (изолированный)](../r/r-server-standalone.md)
