---
title: Диалоговое окно «Добавление ссылки на базу данных»
ms.prod: sql
ms.technology: ssdt
ms.topic: conceptual
author: markingmyname
ms.author: maghan
manager: jroth
ms.reviewer: “”
ms.custom: seo-lt-2019
ms.date: 02/09/2017
ms.openlocfilehash: a43b16b3c45a0f98ca22a4d1e0d3e291cf92f95d
ms.sourcegitcommit: ff82f3260ff79ed860a7a58f54ff7f0594851e6b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2020
ms.locfileid: "75256145"
---
# <a name="add-database-reference-dialog-box"></a>Диалоговое окно «Добавление ссылки на базу данных»

В этом разделе описаны действия, которые можно выполнить в диалоговом окне **Добавление ссылки на базу данных**.  
  
Ссылки на базы данных позволяют следующее.  
  
Обращаться к объектам из других баз данных.  
Проект может ссылаться на другую базу данных, размещенную на любом сервере, с помощью разрешения трехкомпонентного или четырехкомпонентного имени. При использовании трехкомпонентного или четырехкомпонентного имени для ссылки можно применять переменные SQLCMD с тем, чтобы ссылки могли работать на разных серверах и в разных базах данных.  
  
Создавать составное решение из проектов базы данных.  
В рамках составного проекта ссылки на базу данных разделяют большую базу данных на несколько отдельных проектов. Создается ссылка, которая не содержит переменных или значений для базы данных или сервера (используются имена, состоящие только из одной или двух частей).  
  
Ссылки на базы данных могут устанавливаться на другой проект базы данных из этого же решения или на проект из DACPAC-файла. При добавлении в проект ссылки на базу данных изменяются зависимости проекта и порядок построения.  
  
## <a name="selecting-the-database-to-reference"></a>Выбор базы данных, на которую будет установлена ссылка

Можно установить ссылку на другой проект базы данных из этого же решения, на системную базу данных или на базу данных из DACPAC-файла.  
  
Если в решении есть несколько проектов базы данных, активным является параметр **Проекты баз данных из текущего решения**. Можно установить ссылку на другую базу данных из этого решения.  
  
Выберите **Системная база данных**, чтобы добавить ссылку на одну из системных баз данных.  
  
Выберите **Приложение уровня данных (DACPAC)** , чтобы добавить ссылку на базу данных из DACPAC-файла, и перейдите в каталог, в котором находится DACPAC-файл.  
  
## <a name="selecting-the-databases-relative-location"></a>Выбор относительного расположения базы данных

После выбора базы данных, на которую будет установлена ссылка, можно указать ожидаемое расположение объекта базы данных в соответствии с проектом, на который установлена ссылка.  
  
Ссылки для объектов могут быть установлены в одном из следующих расположений:  
  
- в ссылающейся базе данных;  
  
- в базе данных, в которой нет ссылки на эту базу данных, но которая находится на этом же сервере;  
  
- в базе данных, в которой нет ссылки на эту базу данных, которая находится на другом сервере.  
  
Указать имя базы данных. Если вы выбрали **Системная база данных**, менять литерал системной базы данных не нужно. Если вы выберете **Проекты базы данных в текущем решении**, имя базы данных по умолчанию будет основываться на имени базы данных в этом проекте.  
  
Если вы выберете **Другая база данных, другой сервер** нужно будет указать имя сервера.  
  
Можно использовать переменную базы данных (SQLCMD). Если вы хотите установить ссылку на базу данных с помощью переменной (а не имени литерала), примите или измените имя переменной базы данных по умолчанию. Переменная базы данных полезна в случае публикации проекта базы данных из различных серверов и баз данных. В этом случае разработчик может перейти в раздел **Переменные SQLCMD** на страницах свойств проекта и указать локальное имя базы данных. Если вы оставите поле **Переменная базы данных** пустым, ссылаться на эту базу данных можно будет только по ее имени литерала. Если указать имя переменной базы данных, то на базу данных нельзя будет ссылаться по ее имени литерала.  
  
Если вы выберете **Другая база данных, другой сервер** нужно будет указать переменную сервера (SQLCMD). Переменная сервера полезна в случае публикации проекта базы данных из различных серверов и баз данных. В этом случае разработчик может перейти в раздел **Переменные SQLCMD** на страницах свойств проекта и указать локальное имя сервера. На сервер можно будет ссылаться только с помощью этой переменной. Использовать имя сервера будет невозможно.  
  
> [!IMPORTANT]  
> В некоторых случаях можно создать ссылку на базу данных, которая будет иметь такое же имя, как у существующей ссылки на базу данных. Наличие двух ссылок на базы данных с одинаковым именем может привести к непредвиденному поведению. В этой ситуации удалите обе ссылки на базы данных.  
  
## <a name="common-procedures"></a>Стандартные процедуры

Далее приведены стандартные процедуры.  
  
### <a name="to-create-a-reference-to-a-database-on-the-same-server"></a>Создание ссылки на базу данных на этом же сервере  
  
1.  В обозревателе решений щелкните правой кнопкой мыши **Ссылки** и выберите **Добавить ссылку на базу данных**.  
  
2.  В диалоговом окне **Добавление ссылки на базу данных** присвойте параметру **Расположение базы данных** значение **Другая база данных, тот же сервер**.  
  
3.  Укажите имя базы данных.  
  
4.  Решите, хотите ли вы использовать переменную базы данных.  
  
5.  Скопируйте пример использования и вставьте его в свой SQL-файл. В примере использования замените [Schema1] на имя своей схемы (например, [dbo]). Также следует изменить имя объекта базы данных в соответствии с вашим проектом.  
  
6.  Создайте решение.  
  
### <a name="to-create-a-reference-to-a-database-on-another-server"></a>Создание ссылки на базу данных на другом сервере  
  
1.  В обозревателе решений щелкните правой кнопкой мыши **Ссылки** и выберите **Добавить ссылку на базу данных**.  
  
2.  В диалоговом окне **Добавление ссылки на базу данных** присвойте параметру **Расположение базы данных** значение **Другая база данных, другой сервер**.  
  
3.  Убедитесь в том, что указано правильное имя базы данных.  
  
4.  Решите, хотите ли вы использовать переменную базы данных.  
  
5.  Укажите имя и переменную сервера.  
  
6.  Скопируйте пример использования и вставьте его в свой SQL-файл. В примере использования замените [Schema1] на имя своей схемы (например, [dbo]). Также следует изменить имя объекта базы данных в соответствии с вашим проектом.  
  
7.  Создайте решение.  
  
### <a name="to-create-a-composite-project"></a>Создание составного проекта  
  
1.  В обозревателе решений щелкните правой кнопкой мыши **Ссылки** и выберите **Добавить ссылку на базу данных**.  
  
2.  Выберите источник базы данных, на которую ссылаетесь (проект из этого же решения или DACPAC-файл).  
  
3.  В диалоговом окне **Добавление ссылки на базу данных** присвойте параметру **Расположение базы данных** значение **Та же база данных**.  
  
4.  Скопируйте пример использования и вставьте его в свой SQL-файл. В примере использования замените [Schema1] на имя своей схемы. Также следует изменить имя объекта базы данных в соответствии с вашим проектом.  
  
5.  Создайте решение.  
  
В случае публикации данного проекта можно развертывать составные проекты из этого же решения в отдельный целевой объект.  
  
1.  В **обозревателе решений** щелкните правой кнопкой мыши имя проекта и выберите **Опубликовать**. Откроется диалоговое окно **Опубликовать базу данных**.  
  
2.  В диалоговом окне **Публикация базы данных** щелкните **Дополнительно**.  
  
3.  В диалоговом окне **Расширенные параметры публикации** установите в разделе **Расширенные параметры развертывания** флажок **Включать составные объекты**  
  
## <a name="see-also"></a>См. также:

[Разработка базы данных вне сети с учетом проекта](../ssdt/project-oriented-offline-database-development.md)