---
title: 'O2SS0094: не удалось преобразовать курсор в качестве параметра (ошибка)'
description: Описание причины, по которой Помощник по миграции SQL Server (SSMA) для Oracle не может преобразовать процедуру, содержащую курсор, в качестве параметра.
author: nahk-ivanov
ms.prod: sql
ms.technology: ssma
ms.devlang: sql
ms.topic: article
ms.date: 1/22/2020
ms.author: alexiva
ms.openlocfilehash: 61bfc029a058674e077599a8008d1be04850954e
ms.sourcegitcommit: e572f1642f588b8c4c75bc9ea6adf4ccd48a353b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2020
ms.locfileid: "84779339"
---
# <a name="o2ss0094-unable-to-convert-cursor-as-parameter-error"></a>O2SS0094: не удалось преобразовать курсор в качестве параметра (ошибка)

В этой статье описывается причина, по которой Помощник по миграции SQL Server (SSMA) для Oracle не может преобразовать процедуру, содержащую `CURSOR` параметр AS.

## <a name="background"></a>Историческая справка

Курсор — это механизм, с помощью которого можно присвоить имя `SELECT` оператору и манипулировать информацией в этой инструкции SQL. Курсоры используются программистами базы данных для обработки отдельных строк, возвращаемых системными запросами базы данных.

При преобразовании процедуры или функции, содержащей `REF CURSOR` тип, переданный в качестве аргумента, SSMA создает сообщение об ошибке.

## <a name="example"></a>Пример

Рассмотрим следующий пример.

```sql
CREATE OR REPLACE PROCEDURE p_cursor_proc
(
    emp_refcur OUT SYS_REFCURSOR
)
IS
BEGIN
    OPEN
        emp_refcur
    FOR
        SELECT deptno
        FROM dept;
END;
```

При попытке преобразовать приведенный выше код в SSMA выдается следующее сообщение об ошибке:

> O2SS0038: иерархический запрос не преобразован

## <a name="possible-remedies"></a>Возможные способы устранения

Чтобы устранить эту ошибку, необходимо выполнить следующие действия.

1. В SSMA перейдите в меню **Сервис** и выберите пункт **Параметры проекта**.

2. Затем перейдите на вкладку **Общие** .

3. Выберите **Да** для параметра **преобразовать открытые для использования параметры для REF CURSOR out** , примените эти параметры и нажмите кнопку **ОК**.

4. Попробуйте преобразовать запрос еще раз после внесения изменений, и вы обнаружите, что он успешно преобразован.

Параметр преобразования SSMA преобразование **Open-for для параметров out Cursor** используется, так как при `REF CURSOR` открытии выходного параметра в процедуре возникает неоднозначность. Объект `REF CURSOR` может быть получен в вызывающей процедуре или использоваться непосредственно приложением (SSMA может обрабатывать его, если для параметра задано значение **Yes**).

> [!NOTE]
> После преобразования этого запроса SSMA создает сообщение с предупреждением **O2SS0259: тип курсора был преобразован в varchar (8000)**. Это предупреждение обычно можно игнорировать.

## <a name="related-conversion-messages"></a>Связанные сообщения о преобразовании

* [O2SS0245: преобразование курсора в операторах возврата не поддерживается](o2ss0245.md)
