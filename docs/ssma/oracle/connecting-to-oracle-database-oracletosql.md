---
title: Подключение к Oracle Databaseу (OracleToSQL) | Документация Майкрософт
description: Узнайте, как подключиться к базе данных Oracle для переноса базы данных Oracle в SQL Server. SSMA получает и отображает метаданные обо всех схемах Oracle.
author: nahk-ivanov
ms.prod: sql
ms.custom: ''
ms.date: 06/04/2020
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
helpviewer_keywords:
- Refreshing Oracle Metadata
ms.assetid: e276cdbf-3ebc-4ba8-b40d-a7a42befa2b6
ms.author: alexiva
ms.openlocfilehash: d6fc63d62e9761f167eb70165c6f9324f56253a8
ms.sourcegitcommit: 38639b67a135ca1a50a8e38fa61a089efe90e3f1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2020
ms.locfileid: "84454537"
---
# <a name="connecting-to-oracle-database-oracletosql"></a>Подключение к базе данных Oracle (OracleToSQL)

Чтобы перенести базы данных Oracle в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , необходимо подключиться к базе данных Oracle, которую требуется перенести. При подключении SSMA получает метаданные обо всех схемах Oracle, а затем отображает их на панели обозревателя метаданных Oracle. SSMA хранит сведения о сервере базы данных, но не сохраняет пароли.

Подключение к базе данных остается активным до тех пор, пока проект не будет закрыт. При повторном открытии проекта необходимо выполнить повторное подключение, если требуется активное соединение с базой данных.

Метаданные базы данных Oracle не обновляются автоматически. Вместо этого, если необходимо обновить метаданные в обозревателе метаданных Oracle, необходимо вручную обновить их. Дополнительные сведения см. в подразделе «обновление метаданных Oracle» далее в этом разделе.

## <a name="required-oracle-permissions"></a>Необходимые разрешения Oracle

Как минимум, учетная запись, используемая для подключения к базе данных Oracle, должна иметь следующие разрешения:

- `CONNECT`  
  Требуется для подключения (создания сеанса) к базе данных.

- `SELECT ANY DICTIONARY`  
  Требуется для запроса таблиц системных словарей (например, `SYS.MLOG$` ), чтобы обнаружить все объекты.

Это позволит SSMA загрузить все объекты схемы, владельцами которых является подключающийся пользователь. В большинстве реальных сценариев существуют ссылки между схемами между хранимыми процедурами, и SSMA должен иметь возможность обнаружить все объекты, на которые имеются ссылки, для успешного преобразования. Чтобы получить метаданные для объектов, определенных в других схемах, учетная запись должна иметь следующие дополнительные разрешения:

- `SELECT ANY TABLE`  
  Требуется для обнаружения таблиц, представлений, материализованных представлений и синонимов в других схемах.

- `SELECT ANY SEQUENCE`  
  Требуется для обнаружения последовательностей в других схемах.

- `CREATE ANY PROCEDURE`  
  Требуется для обнаружения PL/SQL для процедур, функций и пакетов в других схемах.

- `CREATE ANY TRIGGER`  
  Требуется для обнаружения определений триггеров в других схемах.

- `CREATE ANY TYPE`  
  Требуется для обнаружения типов, определенных в других схемах.

Для некоторых функций SSMA требуются дополнительные разрешения. Например, если вы хотите использовать функции [тестера](testing-migrated-database-objects-oracletosql.md) и [управления резервным копированием](managing-backups-oracletosql.md) , необходимо предоставить подключенному пользователю следующее:

- `EXECUTE ANY PROCEDURE`  
  Требуется для выполнения процедур и функций, которые необходимо протестировать во всех схемах.

- `CREATE ANY TABLE` и `ALTER ANY TABLE`  
  Требуется для создания и изменения временных таблиц для отслеживания изменений и резервного копирования.

- `INSERT ANY TABLE` и `UPDATE ANY TABLE`  
  Требуется для вставки данных отслеживания изменений и резервного копирования во временные таблицы.

- `DROP ANY TABLE`  
  Требуется для удаления временных таблиц, используемых для отслеживания изменений и резервного копирования.

- `CREATE ANY INDEX` и `ALTER ANY INDEX`  
  Требуется для создания и изменения индексов во временных таблицах, используемых для отслеживания изменений и резервного копирования.

- `DROP ANY INDEX`  
  Требуется для удаления индексов во временных таблицах, используемых для отслеживания изменений и резервного копирования.

- `CREATE ANY TRIGGER` и `ALTER ANY TRIGGER`  
  Требуется для создания и изменения временных триггеров, используемых для отслеживания изменений.

- `DROP ANY TRIGGER`  
  Требуется для удаления временных триггеров, используемых для отслеживания изменений.

> [!NOTE]
> Это универсальный набор разрешений, необходимых для правильной работы SSMA. Если необходимо ограничить область миграции до подмножества схем, это можно сделать, предоставив выше разрешения для ограниченного набора объектов, а не `ALL` . Хотя это и возможно, может быть очень сложно правильно определить все зависимости, тем самым предотвращая неправильное функционирование SSMA. Настоятельно рекомендуется прикрепить к универсальному набору, как определено выше, чтобы устранить возможные проблемы с разрешениями в процессе миграции.

## <a name="establishing-a-connection-to-oracle"></a>Установление соединения с Oracle

При подключении к базе данных SSMA считывает метаданные базы данных, а затем добавляет эти метаданные в файл проекта. Эти метаданные используются SSMA при преобразовании объектов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] синтаксис, а также при переносе данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Эти метаданные можно просмотреть на панели Обозреватель метаданных Oracle и просмотреть свойства отдельных объектов базы данных.

> [!IMPORTANT]
> Перед попыткой подключения убедитесь, что сервер базы данных работает и может принимать подключения.

**Подключение к Oracle**

1. В меню **файл** выберите **подключиться к Oracle**.  
   Если ранее вы подключились к Oracle, имя команды будет **повторно подключено к Oracle**.
  
2. В поле **поставщик** выберите поставщик **клиента Oracle** или **поставщик OLE DB**, в зависимости от того, какой поставщик установлен. Значение по умолчанию — клиент Oracle.

3. В поле **режим** выберите **стандартный режим**, **режим тнснаме**или **режим строки подключения**.  
   Используйте стандартный режим для указания имени и порта сервера. Используйте режим имени службы, чтобы вручную указать имя службы Oracle. Используйте режим строки подключения для предоставления полной строки подключения.

4. Если выбран **стандартный режим**, укажите следующие значения:
   1. В поле **имя сервера** введите или выберите имя или IP-адрес сервера базы данных.
   2. Если сервер базы данных не настроен для приема подключений через порт по умолчанию (1521), введите номер порта, используемый для соединений Oracle, в поле **порт сервера** .
   3. В поле **ИД безопасности Oracle** введите идентификатор системы.
   4. В поле **имя пользователя** введите учетную запись Oracle с необходимыми разрешениями.
   5. В поле **пароль** введите пароль для указанного имени пользователя.

5. Если выбран **режим тнснаме**, укажите следующие значения:
   1. В поле **идентификатор подключения** введите идентификатор соединения (псевдоним TNS) базы данных.
   2. В поле **имя пользователя** введите учетную запись Oracle с необходимыми разрешениями.
   3. В поле **пароль** введите пароль для указанного имени пользователя.
  
6. Если выбран **режим строка подключения**, укажите строку подключения в поле **строка подключения** .  
   В следующем примере показана строка подключения OLE DB:

   `Provider=OraOLEDB.Oracle;Data Source=MyOracleDB;User Id=myUsername;Password=myPassword;`

   В следующем примере показана строка подключения клиента Oracle, использующая встроенную безопасность:

   `Data Source=MyOracleDB;Integrated Security=yes;`

   Дополнительные сведения см. [в статье подключение к Oracle &#40;OracleToSQL&#41;](../../ssma/oracle/connect-to-oracle-oracletosql.md).

## <a name="reconnecting-to-oracle"></a>Повторное подключение к Oracle

Подключение к серверу базы данных остается активным до тех пор, пока проект не будет закрыт. При повторном открытии проекта необходимо выполнить повторное подключение, если требуется активное соединение с базой данных. Вы можете работать в автономном режиме, пока не захотите обновить метаданные, загрузить объекты базы данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и перенести данные.

## <a name="refreshing-oracle-metadata"></a>Обновление метаданных Oracle

Метаданные базы данных Oracle не обновляются автоматически. Метаданные в обозревателе метаданных Oracle — это моментальный снимок метаданных при первом подключении или при последнем обновлении вручную метаданных. Метаданные можно обновлять вручную для всех схем, одной схемы или отдельных объектов базы данных.

**Обновление метаданных**

1. Убедитесь, что вы подключены к базе данных.

2. В обозревателе метаданных Oracle установите флажок рядом с каждой схемой или объектом базы данных, которые необходимо обновить.

3. Щелкните правой кнопкой мыши **схемы**или отдельную схему или объект базы данных, а затем выберите пункт **Обновить из базы данных**.  
   Если у вас нет активного подключения, SSMA отобразит диалоговое окно **Подключение к Oracle** , чтобы можно было подключиться.

4. В диалоговом окне Обновление из базы данных укажите объекты для обновления.

   - Чтобы обновить объект, щелкните **активное** поле рядом с объектом, пока не появится стрелка.
   - Чтобы предотвратить обновление объекта, щелкните **активное** поле рядом с объектом, пока не появится знак **X** .
   - Чтобы обновить или отклонить категорию объектов, щелкните **активное** поле рядом с папкой категории.

   Чтобы просмотреть определения цветового кодирования, нажмите кнопку **Условные обозначения** .

5. [!INCLUDE[clickOK](../../includes/clickok-md.md)]

## <a name="next-steps"></a>Дальнейшие действия

Следующим шагом процесса миграции является [Подключение к экземпляру SQL Server](connecting-to-sql-server-oracletosql.md).

## <a name="see-also"></a>Дополнительно

[Перенос баз данных Oracle в SQL Server &#40;OracleToSQL&#41;](../../ssma/oracle/migrating-oracle-databases-to-sql-server-oracletosql.md)
