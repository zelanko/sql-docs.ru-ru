---
title: Новые возможности SSMA для DB2 (DB2ToSQL) | Документация Майкрософт
description: Узнайте об изменениях в Помощник по миграции SQL Server (SSMA) для DB2 (DB2ToSQL) для каждой версии.
author: nahk-ivanov
ms.prod: sql
ms.custom: ''
ms.date: 7/2/2020
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
ms.assetid: 1cc38f85-3caa-42d0-8c76-a380c1d15c67
ms.author: alexiva
ms.openlocfilehash: c35b67bebc63c47750b856d5a2ec2d45666c90b8
ms.sourcegitcommit: f3321ed29d6d8725ba6378d207277a57cb5fe8c2
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2020
ms.locfileid: "86003874"
---
# <a name="whats-new-in-ssma-for-db2-db2tosql"></a>Новые возможности SSMA для DB2 (DB2ToSQL)

В этой статье перечислены Помощник по миграции SQL Server (SSMA) для изменений DB2 в каждом выпуске.

## <a name="ssma-v811"></a>SSMA v 8.11

Выпуск 8.11 версии SSMA для DB2 содержит следующие изменения:

* Поддержка DB2 для i (v 7.1 и более поздние версии)
* Перевод `SQLSTATE` и`SQLCODE`
* Сообщение об ошибке преобразования для операторов с побочным действием в функции
* Использование библиотеки MSAL.NET для интерактивной проверки подлинности Azure Active Directory

## <a name="ssma-v810"></a>SSMA v 8.10

Версия 8.10 версии SSMA для DB2 устраняет регрессию при обнаружении внешних ключей и содержит незначительные улучшения производительности.

## <a name="ssma-v89"></a>SSMA v 8.9

Выпуск 8.9 версии SSMA для DB2 содержит следующие изменения:

* Исправление для преобразования `TIMESTAMPDIFF` функции
* Исправление для обнаружения индексов при наличии секционированного индекса
* Исправить обнаружение внешних ключей, если первичный индекс определен в другой схеме
* Улучшенное преобразование для столбцов, соответствующих именам встроенных функций
* Исправление проблемы со специальными символами в имени проекта

## <a name="ssma-v88"></a>SSMA v 8.8

Версия 8.8 SSMA для DB2 включает в себя:

* Улучшения стабильности синхронизации объектов SQL Server
* Улучшения производительности графического пользовательского интерфейса во время оценки и преобразования
* Обновлено сопоставление с `ROWID` в `varbinary(40)` для упрощения переноса данных
* Улучшенное преобразование `SELECT ... FROM NEW/OLD TABLE` инструкций
* Новое преобразование `ALTER` инструкций для процедур и функций
* Новое преобразование деструктурирования назначений

## <a name="ssma-v87"></a>SSMA версии 8,7

Выпуск SSMA для DB2, версия 2.0, включает в себя новое средство синтаксического анализа синтаксиса DB2, а также небольшие исправления и улучшения производительности в графическом пользовательском интерфейсе.

Кроме того, SSMA для DB2 теперь предоставляет:

* Исправление для обнаружения внешних ключей при миграции с DB2 на LUW.
* Улучшено преобразование `SELECT ... FOR UPDATE` инструкции.
* Улучшено преобразование для `COUNT` функции в таблицах MQ.
* Преобразование `SAVEPOINT` инструкций.
* Преобразование для эмуляции поведения DB2's для `NULL` значений в `ORDER BY` предложении.
* Поддержка синтаксического анализа `ASSOCIATE RESULT SET` инструкции.

> [!IMPORTANT]
> В SSMA версии 8.5 и более поздних версий платформа .NET 4.7.2 является необходимым условием установки. Если вам нужно установить эту версию, можно скачать файл среды выполнения [отсюда.](https://dotnet.microsoft.com/download/dotnet-framework/net472)

## <a name="ssma-v86"></a>SSMA v 8.6

В дополнение к целевому набору исправлений, разработанных для повышения удобства использования и производительности, 8.6 выпуск SSMA для DB2 был улучшен путем добавления параметра, который позволяет пользователям опускать расширенные свойства SSMA в преобразованном коде.

Чтобы использовать этот параметр, в SSMA для DB2 выберите **Сервис**  >  **проект параметры**  >  **Общий**  >  **Пересчет**, а затем в разделе **Разное**измените значение параметра **опустить расширенные свойства** на **Да**.

![Опустить параметр расширенных свойств](../db2/media/ssma-omit-extended-properties.png)

Кроме того, SSMA для DB2 теперь предоставляет:

* Исправление для преобразования функций, использующих значения аргументов по умолчанию.
* Улучшенный анализ `PARAMETER` предложения для функций.
* Возможность преобразования `LEAVE` инструкции.

> [!IMPORTANT]
> В SSMA версии 8.5 и более поздних версий платформа .NET 4.7.2 является необходимым условием установки. Если вам нужно установить эту версию, можно скачать файл среды выполнения [отсюда.](https://dotnet.microsoft.com/download/dotnet-framework/net472)

## <a name="ssma-v85"></a>SSMA версии 8.5

Выпуск версии 8,5 SSMA для DB2 дополнен поддержкой проверки подлинности Azure Active Directory и базовой поддержкой функций JSON в SQL Server вместе с целевым набором исправлений, предназначенных для повышения удобства использования и производительности.

Кроме того, SSMA для DB2 усовершенствован с помощью следующих средств:

* Поддержка добавления преобразования для `GET DIAGNOSTICS` инструкции с `ROW_NUMBER` .
* Исправление ошибки, связанной с пробелами в начале имени объекта, не учитывается.

> [!IMPORTANT]
> При использовании SSMA версии 8.5 платформа .NET 4.7.2 является необходимым условием установки. Если вам нужно установить эту версию, можно скачать файл среды выполнения [отсюда.](https://dotnet.microsoft.com/download/dotnet-framework/net472)

## <a name="ssma-v84"></a>SSMA v 8.4

Выпуск версии SSMA для DB2 усовершенствован с помощью целевых исправлений, предназначенных для устранения проблем с доступностью и исправления ошибок, связанных с максимальным количеством индексных столбцов (чтобы разрешить 32 вместо 16) для SQL Server 2016 и более поздних версий.

> [!IMPORTANT]
> При использовании SSMA версий 7,4, хотя 8,4, .NET 4.5.2 является необходимым компонентом установки.

## <a name="ssma-v83"></a>SSMA v 8.3

Версия SSMA для DB2 версии 8.3 улучшена с помощью целевых исправлений, предназначенных для улучшения показателей качества и преобразования. Кроме того, в этом выпуске SSMA для DB2 предоставляются исправления, которые:

* Устраните проблемы с специальными возможностями.
* Добавьте базовую поддержку для `hierarchyid` типа в SQL Server.
* Замените использование функции TRIM в запросах обнаружения z/OS с помощью `RTRIM` / `LTRIM` .
* Разрешить пользователю указывать коллекцию пакетов при подключении в "стандартном режиме" (по умолчанию — `NULLID` ).
* Добавить преобразование для `CREATE TABLE AS SELECT` .
* Улучшение преобразований для глобальных временных таблиц.
* Устранение проблемы с порядком проверки уникальности объектов для определения приоритета таблиц с ограничениями, если имена конфликтуют.
* Устранение проблемы с загрузкой значений столбцов по умолчанию для `DATE` и `TIMESTAMP` для z/OS.
* Поддержка символа перевода строки в Юникоде (также известного как `NEL` ).
* Устранение проблемы с преобразованием курсора с отсутствующим `RETURN TO` предложением.
* Добавлена поддержка меток и `GOTO` .

## <a name="ssma-v82"></a>SSMA v 8.2

Выпуск версии SSMA для DB2 усовершенствован с целью устранения проблем с подключением к базе данных SQL Azure из средства консоли SSMA и отсутствием COUNT_BIG столбца в объявлении views во время преобразования. Кроме того, эта версия включает целевой набор исправлений, предназначенный для улучшения качества и метрики преобразования, а также исправления для:

* Проблемы с отключенными некластеризованными индексами после переноса данных.
* Обнаружение .NET Framework во время автоматической установки.
* Периодический сбой, возникающий при скачивании новой версии.

> [!NOTE]
> Известная проблема с автообновлением может привести к сбою обновления SSMA v 8.1 до версии 8.2. Если возникла эта ошибка, скачайте новую версию и установите ее вручную.

## <a name="ssma-v81"></a>SSMA v 8.1

Выпуск SSMA для DB2 в версии 8.1 усовершенствован для предоставления целевых исправлений, предназначенных для улучшения качества и показателей преобразования.

> [!NOTE]
> Известная проблема с автообновлением может привести к сбою обновления с SSMA v 8.0 до версии 8.1. Если возникла эта ошибка, скачайте новую версию и установите ее вручную.

## <a name="ssma-v80"></a>SSMA v 8.0

Выпуск версии 8.0 SSMA для DB2 усовершенствован для предоставления целевых исправлений, предназначенных для улучшения качества и показателей преобразования. В этом выпуске также предлагаются следующие новые возможности.

* Поддержка **управляемый экземпляр базы данных SQL Azure** в качестве целевого объекта. Теперь можно создавать новые проекты, нацеленные на Управляемый экземпляр Базы данных SQL Azure:

  ![Проект SQL DB MI](../media/ssma-newproject-sqldbmi.png)

* **Советник по исправлению**после преобразования. Дополнительные сведения см. [здесь](https://blogs.msdn.microsoft.com/datamigration/2019/02/17/%20accelerate-your-oracle-migrations-with-new-machine-learning-capabilities-in-ssma/).

* Предварительный выбор базы данных или схемы.

  При подключении к источнику пользователь может выбрать нужные вам базы данных и схемы. Выбор только тех схем, которые вы планируете перенести, позволит экономить время во время первоначального подключения и повысить общую производительность SSMA.

  ![Объекты фильтра SSMA](../media/ssma-filter-objects.png)

## <a name="ssma-v710"></a>SSMA v 7.10

Выпуск 7.10 версии SSMA для DB2 содержит следующие изменения:

* Целевые исправления, разработанные для обеспечения дополнительной безопасности и защиты конфиденциальности в соответствии с изменениями глобальных требований.
* Исправление для преобразования `BEGIN-END` блоков.

## <a name="ssma-v79"></a>SSMA v 7,9

Выпуск 7,9 версии SSMA для DB2 содержит следующие изменения:

* Целевые исправления, повышающие метрики качества и преобразования.
* Поддержка в командной строке SSMA для изменения сопоставления типов данных и настроек проекта.
* Поддержка миграции данных с помощью SQL Server Integration Services (SSIS). После преобразования схемы можно создать пакет служб SSIS, щелкнув правой кнопкой мыши параметр контекстного меню.
* Диалоговое окно подключения к базе данных SQL Azure в SSMA также было изменено, чтобы указать полное имя сервера. В предыдущих версиях SSMA префикс базы данных SQL Azure должен быть явно указан в параметрах проектов.

## <a name="ssma-v78"></a>SSMA версии 7,8

Выпуск версии 7,8 для SSMA для DB2 содержит следующие изменения:

* Измените сопоставление типов, выделенное в *параметрах проекта*.
* Возможность отключения телеметрии пользователями.

## <a name="ssma-v77"></a>SSMA v 7.7

Выпуск 7.7 версии SSMA для DB2 содержит следующие изменения:

* Целевые исправления, повышающие метрики качества и преобразования.
* В зависимости от популярного спроса 32-разрядная версия SSMA для DB2 является обратной. По сравнению с предыдущей реализацией (до версии 7.4) существует два пакета установщика, но они не могут быть установлены параллельно. В результате необходимо выбрать наиболее подходящую версию в зависимости от имеющегося компонента подключения. По возможности всегда рекомендуется использовать 64-разрядную версию.

## <a name="ssma-v76"></a>SSMA v 7.6

Версия 7.6 версии SSMA для DB2 дополнена целевыми исправлениями, которые улучшают показатели качества и преобразования и поддерживают SQL Server 2017 (общедоступная Предварительная версия). Поддержка SQL Server 2017 в Windows и Linux доступна в общедоступной предварительной версии и не должна использоваться для рабочих миграций.

## <a name="ssma-v75"></a>SSMA версии 7.5

Выпуск версии 7.5 для SSMA для DB2 дополнен несколькими улучшениями для обеспечения большей доступности людям с ограниченными возможностями.

## <a name="ssma-v74"></a>SSMA v 7.4

Выпуск 7.4 версии SSMA для DB2 содержит следующие изменения:

* Параметр **время ожидания запроса** теперь доступен во время обнаружения объектов схемы в источнике и целевом объекте.

  ![параметр времени ожидания запроса](../media/query-timeout_red.png)

* Показатели качества и преобразования были улучшены с помощью целевых исправлений на основе отзывов пользователей.

  > [!IMPORTANT]
  > .NET 4.5.2 является необходимым условием для установки SSMA v 7.4. Кроме того, начиная с версии v 7.4, 32-разрядная версия SSMA была прекращена.

## <a name="ssma-v73"></a>SSMA v 7.3

Выпуск v 7.3 SSMA для DB2 содержит следующие изменения:

* Улучшенная метрика качества и преобразования с помощью целевых исправлений на основе отзывов пользователей.
* Инфраструктура расширяемости SSMA, доступная через следующие элементы:
  * Экспорт функциональных возможностей в проект SQL Server Data Tools (SSDT).
    * Теперь можно экспортировать скрипты схемы из SSMA в проект SSDT. Скрипты схемы можно использовать для внесения дополнительных изменений схемы и развертывания базы данных.

      ![Команда "Сохранить как проект SSDT"](../media/export-schema-scripts_red.png)
  * Библиотеки, которые могут использоваться SSMA для выполнения пользовательских преобразований.
    * Теперь можно создать код, который может обрабатывать пользовательские преобразования синтаксических конструкций и преобразования, которые ранее не обрабатывались SSMA.
      * Инструкции по созданию пользовательского преобразователя доступны в этой записи блога, [расширяя возможности преобразования помощник по миграции SQL Server](https://blogs.msdn.microsoft.com/datamigration/2017/02/21/2185/).
      * Скачайте пример проекта для преобразования из этой [записи блога](https://blogs.msdn.microsoft.com/datamigration/ssmafororacleconversionsample/).

## <a name="ssma-v72"></a>SSMA v 7.2

Выпуск v 7.2 SSMA для DB2 содержит следующие изменения:

* Улучшенная метрика качества и преобразования с помощью целевых исправлений на основе отзывов пользователей.
* Улучшения телеметрии для предоставления более качественных точек данных для устранения проблем с клиентами и повышения скорости преобразования SSMA.

## <a name="ssma-v71"></a>SSMA v 7.1

Выпуск SSMA для DB2 версии 7.1 содержит следующие изменения:

* SQL Server 2017 в Windows и Linux CTP1 теперь является поддерживаемой целевой платформой для миграции. Эта функция предназначена для технической предварительной версии и позволяет перемещать схемы и данные на целевые серверы SQL Server.
* Поддержка автоматического обновления для загрузки последней версии SSMA, как только она станет доступна.
* Доступные для установки двоичные файлы SSMA теперь доставляются через файлы пакетов установщик Windows (. msi).

## <a name="may-2016"></a>Май 2016 г.

Выпуск SSMA для DB2 2016 может содержать следующие изменения:

* Добавлена поддержка SQL Server 2016.
* Добавлено преобразование в памяти и обычных таблиц DB2 для SQL Server функций в памяти и hekaton.
* Добавлено преобразование элементов управления доступом DB2 в объекты политики SQL Server (безопасность на уровне строк для DB2).
* Добавлено преобразование таблиц с системным управлением версиями DB2 в SQL Server временных таблиц.
* Улучшены средства синтаксического анализа и сопоставителя DB2.
* Удалена проверка установщика для .NET 2,0.
* Удалена ненужная \* Библиотека DLL из установщика DB2.
* Исправлены `save-project` `open-project` команды и для консоли SSMA.
* Исправлена `securepassword` команда для консоли SSMA.
* Исправлена Инвентаризация объектов для начальной загрузки.
* Исправлена ошибка в глобальных параметрах.
  
## <a name="march-2016"></a>Март 2016 г.

В предварительной версии SSMA для DB2 в марте 2016 добавлена поддержка миграции на SQL Server 2016.

## <a name="january-2016"></a>Январь 2016 г.

В выпуске SSMA для версии 2016 за Январь в январе содержатся следующие изменения.
  
* Добавлена поддержка ряда стандартных функций.
* Исправлены ошибки синтаксического анализатора DB2.
* Исправлена поддержка ЗОС для DB2 V9 (RFC 5690920).
* Исправлена ошибка неразрешенного идентификатора DB2 во время преобразования.
* В SSMA добавлен пункт меню журнала представления (RFC 5706203).
* Добавлена Телеметрия.
  
## <a name="november-2014"></a>Ноябрь 2014 г.

Выпуск SSMA для DB2 в ноябре 2014 был первоначально выпущен.
