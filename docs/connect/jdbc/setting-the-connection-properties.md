---
title: Настройка свойств подключения
ms.custom: ''
ms.date: 03/13/2020
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: f1b62700-f046-488d-bd6b-a5cd8fc345b7
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 04b133b47cd81cb6c97d4d29dbe2e758656f962b
ms.sourcegitcommit: 54cfeb36c9caa51ec68fa8f4a1918e305db5e00a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/11/2020
ms.locfileid: "81219411"
---
# <a name="setting-the-connection-properties"></a>Настройка свойств подключения

[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

Свойства строки подключения могут быть заданы различными способами.

- В виде свойств имя=значение в URL-адресе подключения при подключении с помощью класса DriverManager.
- В качестве свойств имя=значение в параметре *Свойства* метода Connect в классе DriverManager.
- С помощью аргумента соответствующего метода задания свойств источника данных драйвера. Пример:  
  
    ```java
    datasource.setServerName(value)  
    datasource.setDatabaseName(value)  
    ```  
  
## <a name="remarks"></a>Remarks

В именах свойств не учитывается регистр символов. Дублирующиеся имена свойств разрешаются в следующем порядке:  
  
1. аргументы API (например, имя пользователя и пароль);
2. Коллекция свойств.  
3. Последний экземпляр в строке подключения.
  
Кроме того, в именах свойств разрешено использовать неизвестные значения, и драйвер JDBC не проверяет их значения на предмет учета регистра.

Допускается использование синонимов, которые разрешаются в порядке очередности, аналогично повторяющимся именам свойств.

В следующей таблице перечислены все доступные на данный момент свойства строки подключения для драйвера JDBC.

| Свойство<br/>Тип<br/>По умолчанию | Описание |
| :------------------------------ | :---------- |
| accessToken<br/><br/>Строка<br/><br/>null | Используйте это свойство для установки подключения к базе данных SQL с помощью маркера доступа. **accessToken** нельзя задать с помощью URL-адреса подключения. |
| applicationIntent<br/><br/>Строка<br/><br/>ReadWrite | Объявляет тип рабочей нагрузки приложения при соединении с сервером. <br/><br/>Возможные значения — **ReadOnly** и **ReadWrite**. <br/><br/>Дополнительные сведения см. в статье о [поддержке высокой доступности и аварийного восстановления в JDBC Driver](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md). |
| applicationName<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>null | Имя приложения или "[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]", если имя не указано.<br/><br/>Используется для идентификации определенных приложений в различных средствах профилирования и ведения журнала [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. |
| проверка подлинности<br/><br/>Строка<br/><br/>NotSpecified | Начиная с Драйвера Microsoft JDBC Driver 6.0 для SQL Server, это необязательное свойство указывает, какой метод аутентификации SQL необходимо использовать для подключения. Возможные значения: **ActiveDirectoryIntegrated**, **ActiveDirectoryPassword**, **ActiveDirectoryMSI**, **SqlPassword** и значение по умолчанию **NotSpecified**.<br/><br/> Используйте **Active DirectoryIntegrated** для подключения к Базе данных SQL с помощью встроенной проверки подлинности Windows.<br/><br/> Используйте **Active DirectoryPassword** для подключения к Базе данных SQL с помощью имени и пароля субъекта Azure AD.<br/><br/> Используйте **ActiveDirectoryMSI** для подключения к Базе данных SQL из ресурса Azure, например для виртуальной машины Azure, Службы приложений или приложения-функции с помощью проверки подлинности Управляемого удостоверения службы (MSI). <br><br>Двумя типами управляемых удостоверений, поддерживаемых драйвером при использовании режима проверки подлинности **ActiveDirectoryMSI** являются: <br> 1. _Управляемое удостоверение, назначаемое системой_. Используется для получения **accessToken** по умолчанию. <br> 2. _Управляемое удостоверение, назначаемое пользователем_. Используется для получения **accessToken**, если идентификатор клиента Управляемого удостоверения службы (MSI) указан со свойством соединения **msiClientId**.<br/><br/> Используйте **SqlPassword** для подключения к SQL Server с помощью свойств **userName**/**user** и **password**.<br/><br/> Используйте **NotSpecified**, если ни один из этих методов проверки подлинности не требуется.<br/><br/> **Внимание!**  Если в параметрах проверки подлинности установлено значение ActiveDirectoryIntegrated, необходимо установить следующие две библиотеки: **mssql-jdbc_auth-\<версия>-\<arch>.dll** (доступна в пакете драйверов JDBC) и библиотеку проверки подлинности Azure Active Directory для SQL Server (**ADALSQL.DLL**). Библиотеку ADAL можно установить через [Microsoft ODBC Driver for SQL Server](../odbc/download-odbc-driver-for-sql-server.md) или [Microsoft OLE DB Driver for SQL Server](../oledb/download-oledb-driver-for-sql-server.md). Для ADAL.DLL драйвер JDBC поддерживает только версию **1.0.2028.318 и выше**.<br/><br/> **Примечание.**  Если для свойства проверки подлинности задано любое значение, отличное от **NotSpecified**, драйвер по умолчанию использует шифрование TLS, ранее называвшееся шифрованием SSL.<br/><br/> Сведения о настройке проверки подлинности Azure Active Directory см. в [этой статье](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/). |
| authenticationScheme<br/><br/>Строка<br/><br/>NativeAuthentication | Указывает, какой тип встроенной безопасности должен использоваться приложением. Возможные значения: **JavaKerberos**, **NTLM** и **NativeAuthentication** по умолчанию.<br/><br/> При использовании **authenticationScheme=JavaKerberos** необходимо указать полное доменное имя в свойстве **serverName** или **serverSpn**. В противном случае возникает ошибка (сервер не найден в базе данных Kerberos).<br/><br/> Дополнительные сведения об использовании **authenticationScheme=JavaKerberos** см. в руководстве по [встроенной аутентификации Kerberos для подключения к SQL Server](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md). <br/><br/> При использовании **authenticationScheme=NTLM** необходимо указать домен Windows для проверки подлинности с помощью NTLM в свойстве **domain** или **domainName**, а также учетные данные Windows в свойствах **user** или **userName** и **password**. В противном случае возникает ошибка (необходимо указать свойства подключения).  |
| cancelQueryTimeout<br/><br/>INT<br/><br/>-1 | Начиная с Драйвера Microsoft JDBC 6.4 для SQL Server, это свойство можно использовать для отмены **queryTimeout**, установленного для соединения. Выполнение запроса зависает и не вызывает исключение, если TCP-подключение с SQL Server удаляется без уведомления. Это свойство применимо, только если для соединения также задано значение queryTimeout. <br/><br/>Драйвер ожидает общее количество секунд **cancelQueryTimeout** + **queryTimeout**, чтобы удалить подключение и закрыть канал. <br/><br/>Значение этого свойства по умолчанию равно 1, а поведение имеет неограниченное время ожидания. |
| columnEncryptionSetting<br/><br/>Строка<br/>["Enabled" &#124; "Disabled"]<br/><br/>Выключено | Переключите на "Включено" для использования функции Always Encrypted (AE), начиная с Microsoft JDBC Driver 6.0 для SQL Server. Когда функция Always Encrypted включена, драйвер JDBC прозрачно шифрует и расшифровывает конфиденциальные данные, хранящиеся в столбцах зашифрованной базы данных в SQL Server.<br/><br/> Дополнительные сведения о **columnEncryptionSetting** см. в статье [Using Always Encrypted with the JDBC driver](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md) (Использование Always Encrypted с драйвером JDBC).<br/><br/> **Примечание.**  Функция Always Encrypted доступна в SQL Server 2016 или более новых версий. |
| databaseName,<br/>База данных<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>null | Имя базы данных для соединения. <br/><br/>Если не установлено, подключение выполняется к базе данных по умолчанию. |
| domainName,<br/>домен<br/><br/>Строка<br/>null | Домен Windows для проверки подлинности с помощью NTLM. |
| disableStatementPooling<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>Да | Флаг, указывающий, следует ли использовать пулы инструкций. |
| enablePrepareOnFirst...<br/>PreparedStatementCall<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | _enablePrepareOnFirstPreparedStatementCall_<br/><br/> Задайте значение true, чтобы разрешить создание подготовленного обработчика инструкции путем вызова <code>sp_prepexec</code> при первом выполнении подготовленной инструкции. <br/><br/>Задайте значение "false", чтобы изменить первое выполнение подготовленной инструкции, которое вызывает <code>sp_executesql</code> и не подготавливает инструкцию после второго выполнения. Тогда будет вызван <code>sp_prepexec</code> и настроится подготовленный обработчик инструкции. |
| enclaveAttestationUrl<br/><br/>Строка<br/><br/>null | Начиная с Microsoft JDBC Driver 8.2 для SQL Server это необязательное свойство указывает URL-адрес конечной точки службы аттестации, который следует использовать для Always Encrypted с безопасными анклавами.<br/><br/>Дополнительные сведения см. в статье [Always Encrypted с безопасными анклавами](../../connect/jdbc/always-encrypted-with-secure-enclaves.md). |
| enclaveAttestationProtocol<br/><br/>Строка<br/><br/>null | Начиная с Microsoft JDBC Driver 8.2 для SQL Server это необязательное свойство указывает протокол аттестации, который следует использовать для Always Encrypted с безопасными анклавами. Сейчас значение **HGS** является единственным значением, которое поддерживается для этого поля.<br/><br/>Дополнительные сведения см. в статье [Always Encrypted с безопасными анклавами](../../connect/jdbc/always-encrypted-with-secure-enclaves.md). |
| encrypt<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | Установите значение true, чтобы указать, что [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] использует шифрование TLS для всех данных, передаваемых между клиентом и сервером, при условии, что на сервере установлен сертификат. Значение по умолчанию — «false».<br/><br/> В Microsoft JDBC Driver 6.0 для SQL Server появляется новый параметр подключения проверки подлинности, который по умолчанию использует шифрование TLS. <br/><br/>Дополнительные сведения см. в разделе, описывающем свойство authentication. |
| failoverPartner<br/><br/>Строка<br/><br/>null | Имя сервера отработки отказа, используемого в конфигурации зеркального отображения базы данных. Это свойство используется при ошибке первоначального подключения к основному серверу. После выполнения первоначального подключения это свойство игнорируется. Должно использоваться совместно со свойством databaseName.<br/><br/> **Примечание.** Драйвер не поддерживает указание номера порта экземпляра сервера для экземпляра партнера по обеспечению отработки отказа в составе свойства failoverPartner в строке подключения. Однако поддерживается указание свойств serverName, instanceName и portNumber экземпляра основного сервера и свойства failoverPartner экземпляра партнера по обеспечению отработки отказа в одной строке подключения.<br/><br/> Если в свойстве подключения **Server** указано имя виртуальной сети, то использовать зеркальное отображение базы данных нельзя. Дополнительные сведения см. в статье о [поддержке высокой доступности и аварийного восстановления в JDBC Driver](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md). |
| fips<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>"false" | Для JVM с поддержкой FIPS это должно быть свойство — **true**. |
| fipsProvider<br/><br/>Строка<br/><br/>null | Поставщик FIPS, настроенный в виртуальной машине Java. Например, BCFIPS или SunPKCS11-NSS. Удалено в версии 6.4.0 — см. подробности [здесь](https://github.com/Microsoft/mssql-jdbc/pull/460). |
| gsscredential<br/><br/>org.ietf.jgss.GSSCredential<br/><br/>null | Начиная с Microsoft JDBC Driver 6.2 для SQL Server, в этом свойстве можно передавать учетные данные пользователя, которые будут использоваться для ограниченного делегирования Kerberos. <br/><br/>Его следует использовать с **integratedSecurity** под значением **true** и **JavaKerberos** под значением **authenticationScheme**. |
| hostNameInCertificate<br/><br/>Строка<br/><br/>null | Имя узла используется для проверки TLS/SSL-сертификата [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br/><br/> Если свойство hostNameInCertificate не указано или равно null, то [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] использует значение свойства **serverName** в URL-адресе подключения в качестве имени узла для проверки TLS/SSL-сертификата [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br/><br/> **Примечание.**  Это свойство используется в сочетании со свойствами **шифрования**/**проверки подлинности** и свойством **trustServerCertificate**. Это свойство влияет на проверку сертификата, если соединение использует шифрование TLS и **trustServerCertificate** имеет значение "false". Для успешного установления TLS-подключения передаваемое в **hostNameInCertificate** значение должно совпадать с общим именем (CN) или DNS-именем в поле "Альтернативное имя субъекта" сертификата сервера. Дополнительные сведения см. в разделе [Основные сведения о поддержке шифрования](../../connect/jdbc/understanding-ssl-support.md). |
| INSTANCENAME<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>null | Имя экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], к которому производится подключение. Если не задано, подключение выполняется к экземпляру по умолчанию. В случае, когда указан порт и instanceName, см. примечания к порту.<br/><br/> Если в свойстве подключения **Server** указано имя виртуальной сети, то использовать свойство подключения **instanceName** нельзя. См. подробнее о [поддержке высокого уровня доступности и аварийного восстановления в драйвере JDBC](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md). |
| integratedSecurity<br/><br/>Логическое<br/>["true"&#124;"false"]<br/><br/>false | Установите значение "true", чтобы указать, что учетные данные Windows используются [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на операционных системах Windows. Если установлено значение "true", драйвер JDBC выполняет поиск учетных данных, которые были предоставлены при входе пользователя в сеть или на компьютер, в локальном кэше учетных данных компьютера.<br/><br/> Установите значение "true" (с помощью **authenticationscheme=JavaKerberos**), чтобы указать, что учетные данные Kerberos используются с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Дополнительные сведения см. в статье [Использование встроенной проверки подлинности Kerberos для подключения к SQL Server](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md). <br/><br/> Установите значение "true" (с помощью **authenticationscheme=NTLM**), чтобы указать, что учетные данные NTLM используются с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. <br/><br/> Если установлено значение false, необходимо предоставить имя пользователя и пароль. |
| jaasConfigurationName<br/><br/>Строка<br/><br/>SQLJDBCDriver | Начиная с Microsoft JDBC Driver 6.2 для SQL Server, каждое соединение с SQL Server может иметь свой собственный файл настройки входа в систему JAAS для установления соединения Kerberos. Имя файла настройки входа в систему можно передать через это свойство. <br/> По умолчанию, драйвер устанавливает свойство `useDefaultCcache = true` для IBM JVM, и `useTicketCache = true` для других JVM. |
| keyStoreAuthentication<br/><br/>Строка<br/><br/>null | Начиная с Microsoft JDBC Driver 6.0 для SQL Server, это свойство определяет, какое хранилище ключей можно легко настроить для соединения с Always Encrypted, и определяет механизм аутентификации, используемый для аутентификации в хранилище ключей. Microsoft JDBC Driver 6.0 для SQL Server поддерживает настройку Java Key Store с использованием этого свойства, для которого необходимо установить значение "**keyStoreAuthentication=JavaKeyStorePassword**". Обратите внимание, что для использования этого свойства необходимо также установить свойства **keyStoreLocation** и **keyStoreSecret** для Хранилища Ключей Java. <br/><br/>Дополнительные сведения см. в статье об [использовании функции Always Encrypted с JDBC Driver](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396). |
| keyStoreLocation<br/><br/>Строка<br/><br/>null | Когда **keyStoreAuthentication=JavaKeyStorePassword** — свойство **keyStoreLocation** определяет путь к файлу хранилища ключей Java, в котором хранится основной ключ столбца, который будет использоваться с данными Always Encrypted. Обратите внимание, что путь должен включать имя файла хранилища ключей.<br/><br/>Дополнительные сведения см. в статье об [использовании функции Always Encrypted с JDBC Driver](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396). |
| keyStoreSecret<br/><br/>Строка<br/><br/>null | Когда **keyStoreAuthentication=JavaKeyStorePassword** — свойство **keyStoreSecret** идентифицирует пароль, который будет использоваться для хранилища ключей и для ключа. Обратите внимание, что для использования Хранилища ключей Java — хранилище ключей и пароль к ключу должны быть одинаковыми.<br/><br/>Дополнительные сведения см. в статье об [использовании функции Always Encrypted с JDBC Driver](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396). |
| lastUpdateCount<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>Да | Если установлено значение true, возвращается только последнее значение счетчика обновлений из инструкции SQL, переданной серверу. Оно может быть использовано в одной из инструкций SELECT, INSERT, DELETE, чтобы игнорировать последующие изменения счетчика обновлений, вызываемые триггерами сервера. Установка для этого свойства значения false влечет за собой возврат всех значений счетчика обновлений, включая изменения, вызванные триггерами сервера.<br/><br/> **Примечание.**  Это свойство применяется только при использовании с методами [executeUpdate](../../connect/jdbc/reference/executeupdate-method-sqlserverstatement.md). Все другие методы возвращают все результаты и значения счетчика обновлений. Это свойство влияет только на значения счетчика обновлений, возвращаемые триггерами сервера. Оно не влияет на результирующие наборы или ошибки, возникшие в процессе выполнения триггеров. |
| lockTimeout<br/><br/>INT<br/><br/>-1 | Время в миллисекундах, по истечении которого база данных сообщит об истечении времени ожидания блокировки. Режим по умолчанию — неограниченное время ожидания. Если задано, это значение по умолчанию для всех инструкций в подключении. Обратите внимание, что **Statement.setQueryTimeout()** может быть использован для установки времени ожидания для определенных инструкций. Значение может быть равным 0 — время ожидания отсутствует. |
| loginTimeout<br/><br/>INT<br/>[0..65535]<br/><br/>15 | Время в секундах, по истечении которого драйвер инициирует превышение времени ожидания неудачного подключения. Нулевое значение указывает, что время ожидания равно системному времени ожидания по умолчанию, которое по умолчанию составляет 15 секунд. Ненулевое значение представляет время в секундах, по истечении которого драйвер инициирует превышение времени ожидания неудачного подключения.<br/><br/> Если в свойстве подключения **Server** указано имя виртуальной сети, то необходимо задать значение ожидания три минуты или более, чтобы была возможна отработка отказа при подключении. Дополнительные сведения см. в статье о [поддержке высокой доступности и аварийного восстановления в JDBC Driver](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md). |
| msiClientId<br/><br/>Строка<br/><br/>null | Идентификатор клиента управляемой службы (MSI), который будет использоваться для получения **accessToken** при установлении подключения с режимом аутентификации **ActiveDirectoryMSI**.|
| multiSubnetFailover<br/><br/>Логическое<br/><br/>false | Всегда указывайте **MultiSubnetFailover=True** при соединении с прослушивателем группы доступности [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или экземпляром отказоустойчивого кластера [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]. **multiSubnetFailover=true** настраивает [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] для ускоренного обнаружения активного (в данный момент) сервера и подключения к нему. Допустимые значения — true и false. См. подробнее о [поддержке высокого уровня доступности и аварийного восстановления в драйвере JDBC](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md).<br/><br/> Доступ к свойству подключения **multiSubnetFailover** программным способом возможен через свойства [getPropertyInfo](../../connect/jdbc/reference/getpropertyinfo-method-sqlserverdriver.md), [getMultiSubnetFailover](../../connect/jdbc/reference/getmultisubnetfailover-method-sqlserverdatasource.md) и [setMultiSubnetFailover](../../connect/jdbc/reference/setmultisubnetfailover-method-sqlserverdatasource.md).<br/><br/> **Примечание.**  Начиная с Microsoft JDBC Driver 6.0 для SQL Server, при подключении к прослушивателю группы доступности **multiSubnetFailover** больше не требуется устанавливать на значение "true". Новое свойство **transparentNetworkIPResolution**, включенное по умолчанию, обеспечивает обнаружение и подключение к (текущему) активному серверу. |
| packetSize<br/><br/>INT<br/>[-1 &#124; 0 &#124; 512..32767]<br/><br/>8000 | Размер (в байтах) сетевого пакета, используемого для обмена данными с SQL Server. Значение -1 указывает на использование размера сетевого пакета сервера по умолчанию. Значение 0 указывает на использование максимального значения — 32767. Если этому свойству присвоено значение за пределами допустимого диапазона значений, возникнет исключение.<br/><br/> **Внимание!**  Не рекомендуется использовать свойство packetSize при включенном шифровании (encrypt=true). В противном случае в работе драйвера может быть вызвана ошибка подключения. Дополнительные сведения см. в описании метода [setPacketSize](../../connect/jdbc/reference/setpacketsize-method-sqlserverdatasource.md) класса [SQLServerDataSource](../../connect/jdbc/reference/sqlserverdatasource-class.md). |
| password<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>null | Пароль базы данных, в случае соединения с пользователем SQL и паролем.<br/>Для соединения Kerberos с именем участника и паролем это свойство устанавливается в качестве основного пароля Kerberos. |
| portNumber,<br/>порт<br/><br/>INT<br/>[0..65535]<br/><br/>1433 | Порт, который прослушивает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Если номер порта задан в строке подключения, запросы к SQLbrowser не выполняются. В случае, когда указан порт и instanceName, подключение выполняется к указанному порту. Однако выполняется проверка **instanceName**, и если значение этого параметра не соответствует порту, возникает ошибка.<br/><br/> **Внимание!** Рекомендуется всегда указывать номер порта, так как это более безопасно, чем использование SQLbrowser. |
| queryTimeout<br/><br/>INT<br/><br/>-1 | Количество секунд для времени ожидания по запросу. Значение по умолчанию — 1, что означает бесконечное время ожидания. Установка этого значения на 0 также предполагает время ожидания без ограничений. |
| responseBuffering<br/><br/>Строка<br/>["full" &#124; "adaptive"]<br/><br/>adaptive | Если свойство имеет значение adaptive, это указывает на буферизацию необходимого минимума данных. По умолчанию используется режим adaptive.<br/><br/> Если свойство имеет значение full, при выполнении инструкции выполняется чтение с сервера результирующего набора полностью.<br/><br/> **Примечание.** После обновления драйвера JDBC с версии 1.2 по умолчанию будет использоваться режим буферизации adaptive. Если приложение никогда не задает свойство responseBuffering и требуется сохранить в приложении режим по умолчанию как в версии 1.2, необходимо задать свойству responseBufferring значение full в свойствах подключения или с помощью метода [setResponseBuffering](../../connect/jdbc/reference/setresponsebuffering-method-sqlserverstatement.md) объекта [SQLServerStatement](../../connect/jdbc/reference/sqlserverstatement-class.md). |
| selectMethod<br/><br/>Строка<br/>["direct" &#124; "cursor"]<br/><br/>direct | Если этому свойству задано значение "cursor", то для каждого созданного в этом подключении запроса с курсорами **TYPE_FORWARD_ONLY** и **CONCUR_READ_ONLY** создается курсор базы данных. Это свойство обычно необходимо, только если приложение создает очень большие результирующие наборы, которые не могут полностью находиться в клиентской памяти. Если свойство имеет значение cursor, в клиентской памяти сохраняется ограниченное число строк результирующего набора. <br/><br/>Режим по умолчанию — все строки результирующего набора сохраняются в клиентской памяти. Такой вариант обеспечивает наибольшую производительность, когда приложение обрабатывает все строки. |
| sendStringParameters...<br/>AsUnicode<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>Да | *sendStringParametersAsUnicode*<br/><br/>Если свойство **sendStringParametersAsUnicode** имеет значение true, то строковые параметры отправляются на сервер в формате Юникода.<br/><br/> Если свойство **sendStringParametersAsUnicode** имеет значение false, то строковые параметры отправляются на сервер в формате, отличном от Юникода, например ASCII/MBCS.<br/><br/> Значение по умолчанию для свойства **sendStringParametersAsUnicode** — true.<br/><br/> **Примечание.** Проверка свойства **sendStringParametersAsUnicode** выполняется только при отправке значений параметра со следующими типами JDBC: **CHAR**, **VARCHAR** или **LONGVARCHAR**. Новые методы национальных символов в JDBC 4.0, например методы setNString, setNCharacterStream и setNClob классов [SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) и [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md), всегда выполняют отправку на сервер своих значений параметров в формате Юникода, независимо от значения свойства.<br/><br/> Для оптимальной производительности при работе с типами данных JDBC **CHAR**, **VARCHAR** и **LONGVARCHAR** приложение должно установить свойство **sendStringParametersAsUnicode** в значение false и использовать методы, не поддерживающие национальные символы: setString, setCharacterStream и setClob классов [SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) и [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md).<br/><br/> Когда приложение задает свойству **sendStringParametersAsUnicode** значение false и использует метод, не поддерживающий национальные символы, для доступа на стороне сервера к типам данных в формате Юникода (например, **nchar**, **nvarchar** и **ntext**) часть данных может быть потеряна, если сортировка базы данных не поддерживает символы в строковых параметрах, которые передаются методом, не поддерживающим национальные символы.<br/><br/> Обратите внимание, что приложение должно использовать методы национальных знаков setNString, setNCharacterStream и setNClob для [SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md), и классы [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) для типов данных JDBC **NCHAR**, **NVARCHAR** и **LONGNVARCHAR**. |
| sendTimeAsDatetime<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>Да | Это свойство добавлено в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] JDBC Driver 3.0.<br/><br/> Установите значение "true", чтобы отправить значения java.sql.time на сервер как значения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **datetime**. <br/>Установите значение "false", чтобы отправить значения java.sql.time на сервер как значения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **time**.<br/><br/> Значение по умолчанию этого свойства сейчас установлено как "true" и может измениться в будущем выпуске.<br/><br/> Дополнительную информацию о том, как [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] настраивает значения java.sql.Time перед отправкой на сервер, смотрите в [Configuring How java.sql.Time Values are Sent to the Server](../../connect/jdbc/configuring-how-java-sql-time-values-are-sent-to-the-server.md) (Настройка отправки временных значений java.sql.Time на сервер). |
| serverName,<br/>server<br/><br/>Строка<br/><br/>null | Компьютер, на котором работает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br/><br/> Можно также указать имя виртуальной сети в группе доступности [!INCLUDE[ssHADR](../../includes/sshadr_md.md)]. Дополнительные сведения см. в статье о [поддержке высокой доступности и аварийного восстановления в JDBC Driver](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md). |
| serverNameAsACE<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | Начиная с Microsoft JDBC Driver 6.0 для SQL Server, задайте значение true, чтобы указать, что драйвер должен преобразовать имя сервера в формате Юникода в ASCII-совместимую кодировку (Punycode) для данного подключения. Если этот параметр имеет значение false, драйвер подключается с использованием имени сервера, указанного пользователем.<br/><br/> Дополнительные сведения см. в [International features of the JDBC driver](../../connect/jdbc/international-features-of-the-jdbc-driver.md) (Функции поддержки разных языков JDBC Driver) |
| serverPreparedStatement...<br/>DiscardThreshold<br/><br/>Целое число<br/><br/>10 | *serverPreparedStatementDiscardThreshold*<br/><br/>Начиная с JDBC Driver 6.2 для SQL Server, это свойство определяет, сколько невыполненных операций отмены для подготовленных инструкций (<code>sp_unprepare</code>) допускается для каждого подключения, прежде чем на сервере будет выполнен вызов очистки незавершенных обработчиков. <br/><br/> Если это свойство установлено в значение &lt;= 1, то действия аннулирования выполняются немедленно после завершения подготовленной инструкции. Если задано значение &gt;1, эти вызовы объединяются в пакет, чтобы снизить накладные расходы на частый вызов sp_unprepare. |
| serverSpn<br/><br/>Строка<br/><br/>null | Начиная с версии Microsoft JDBC Driver 4.2 для SQL Server это необязательное свойство можно использовать для указания имени субъекта-службы (SPN) соединения Java Kerberos.  Используется совместно с **authenticationScheme**.<br/><br/> Для указания имени субъекта-службы оно может быть в виде "MSSQLSvc/fqdn:port@REALM", где fqdn — это полное доменное имя, port — номер порта, а REALM — это область Kerberos SQL Server в верхнем регистре.<br/><br/> Примечание. Параметр @REALM является необязательным, если область по умолчанию клиента (как указано в конфигурации Kerberos) совпадает с областью Kerberos для SQL Server.<br/><br/> Дополнительные сведения об использовании **serverSpn** с Java Kerberos см. в руководстве по [встроенной аутентификации Kerberos для подключения к SQL Server](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md). |
| statementPooling...<br/>CacheSize<br/><br/>INT<br/><br/>0 | *statementPoolingCacheSize*<br/><br/>Начиная с JDBC Driver 6.4 для SQL Server, это свойство может быть использовано для включения кэширования готовых инструкций в драйвере. <br/><br/>Это свойство определяет размер кэша для создания пула инструкций. <br/><br/>Данное свойство может использоваться только в сочетании со свойством подключения **disableStatementPooling**, которое должно быть установлено в значение "false". Установка **disableStatementPooling** на значение "true" или **statementPoolingCacheSize** — на 0 отключает кэширование подготовленных инструкций.|
| socketTimeout<br/><br/>INT<br/><br/>0 | Количество миллисекунд ожидания до истечения времени ожидания чтения или принятия сокета. Значение по умолчанию — 0, что означает бесконечное время ожидания. |
| sslProtocol<br/><br/>Строка<br/><br/>TLS | Начиная с JDBC Driver 6.4 for SQL Server это свойство может использоваться для указания протокола TLS, который должен учитываться для безопасного соединения. <br/>Возможны следующие значения: **TLS**, **TLSv1**, **TLSv1.1**, и **TLSv1.2**. <br/><br/>Дополнительную информацию см. в [SSLProtocol](https://github.com/Microsoft/mssql-jdbc/wiki/SSLProtocol). |
| transparentNetwork...<br/>IPResolution<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>Да | *transparentNetworkIPResolution*<br/><br/>Начиная с Microsoft JDBC Driver 6.0 для SQL Server, это свойство обеспечивает более быстрое обнаружение и подключение к активному (в настоящее время) серверу. Возможными значениями являются "true" и "false", где "true" — значение по умолчанию.<br/><br/> Ранее, до Microsoft JDBC Driver 6.0 для SQL Server, приложение должно было установить в строку подключения значение "multiSubnetFailover=true", чтобы указать, что оно подключается к группе доступности AlwaysOn. Без установки ключевого слова подключения **multiSubnetFailover** на значение "true", приложение может столкнуться с истечением времени ожидания при подключении к группе доступности AlwaysOn. Начиная с Microsoft JDBC Driver 6.0 для SQL Server, приложению не нужно устанавливать multiSubnetFailover на значение "true". <br/><br/>**Примечание.** При transparentNetworkIPResolution=true первая попытка подключения использует 500 мс в качестве времени ожидания. Любые последующие попытки используют ту же логику времени ожидания, которая используется свойством multiSubnetFailover. |
| trustManagerClass<br/><br/>Строка<br/><br/>null | Полностью квалифицированное имя класса пользовательской реализации <code>javax.net.ssl.TrustManager</code>. |
| trustManager...<br/>ConstructorArg<br/><br/>Строка<br/><br/>null | *trustManagerConstructorArg*<br/><br/>Необязательный аргумент для передачи конструктору TrustManager. Если указан trustManagerClass и запрашивается зашифрованное подключение, то используется пользовательский TrustManager, а не используемый по умолчанию TrustManager на основе хранилища ключей. |
| trustServerCertificate<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | Установите значение true, чтобы [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] не проверял TLS/SSL-сертификат [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br/><br/> Если значение равно "true", TLS/SSL-сертификат [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] автоматически считается доверенным, когда для шифрования уровня связи используется TLS.<br/><br/> Если значение — "false", то [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] выполнит проверку TLS-сертификата сервера. Если проверка сертификата сервера завершается ошибкой, в работе драйвера будет вызвана ошибка и подключение будет разорвано. Значение по умолчанию — «false». Для успешного установления TLS/SSL-подключения передаваемое в **serverName** значение должно в точности совпадать с общим именем (CN) или DNS-именем в альтернативном имени субъекта (SAN) сертификата сервера. Дополнительные сведения см. в разделе [Основные сведения о поддержке шифрования](../../connect/jdbc/understanding-ssl-support.md).<br/><br/> **Примечание.** Это свойство используется в сочетании со свойствами **шифрования**/**проверки подлинности**. Это свойство оказывает влияние на проверку TLS/SSL-сертификата сервера только в том случае, если для подключения используется шифрование TLS. |
| trustStore<br/><br/>Строка<br/><br/>null | Путь к файлу сертификата trustStore (включая имя файла). Файл trustStore содержит список сертификатов, которым доверяет клиент.<br/><br/> Когда свойство не задано или имеет значение null, драйвер будет использовать правила поиска фабрики диспетчеров доверия, чтобы определить, какой из хранящихся сертификатов необходимо использовать.<br/><br/> **Используемая по умолчанию фабрика SunX509 TrustManagerFactory пытается найти доверенный ресурс, производя поиск в следующем порядке:**<br/><br/> Файл, указанный системным свойством javax.net.ssl.trustStore виртуальной машины Java (JVM).<br/><br/> Файл "&lt;домашний_каталог-java&gt;/lib/security/jssecacerts".<br/><br/> Файл "&lt;домашний_каталог-java&gt;/lib/security/cacerts".<br/><br/> <br/><br/> Дополнительные сведения см. в документации по интерфейсу SUNX509 TrustManager на веб-сайте компании Sun Microsystems.<br/><br/> **Примечание.** Это свойство влияет на подстановку сертификата trustStore, если соединение использует шифрование TLS и **trustServerCertificate** имеет значение "false". |
| trustStorePassword<br/><br/>Строка<br/><br/>null | Пароль, используемый для проверки целостности данных trustStore.<br/><br/> Если задано свойство trustStore, а свойство trustStorePassword не задано, проверка целостности trustStore не выполняется.<br/><br/> Если значение не задано как для свойства trustStore, так и для свойства trustStorePassword, драйвер будет использовать системные свойства виртуальной машины Java javax.net.ssl.trustStore и javax.net.ssl.trustStorePassword. Если не задано значение системного свойства "javax.net.ssl.trustStorePassword", проверка целостности trustStore не выполняется.<br/><br/> Если свойство trustStore не задано, а свойство trustStorePassword задано, драйвер JDBC будет использовать файл, заданный свойством javax.net.ssl.trustStore, в качестве доверенного хранилища, а целостность доверенного хранилища будет проверяться с использованием указанного trustStorePassword. Это может потребоваться в случае, если клиентское приложение не желает сохранять пароль с системном свойстве JVM.<br/><br/> **Примечание.**  Свойство trustStorePassword влияет на подстановку сертификата trustStore, если соединение использует TLS-подключение и **trustServerCertificate** имеет значение "false". |
| trustStoreType<br/><br/>Строка<br/><br/>JKS | Установите это свойство, чтобы указать тип хранилища доверия, который будет использоваться для режима FIPS. <br/><br/>Возможными значениями являются либо **PKCS12**, либо тип, заданный поставщиком FIPS. |
| useBulkCopyFor...<br/>BatchInsert<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | _useBulkCopyForBatchInsert_<br/><br/> Начиная с Microsoft JDBC Driver 7.0 для SQL Server, данное свойство подключения можно включить для использования API массового копирования при выполнении операций пакетной вставки с помощью `java.sql.PreparedStatement` для повышения производительности. <br/><br/>Эта функция работает только в том случае, если целевой сервер имеет тип **База данных хранилища данных**. По умолчанию оно отключено, для включения этого свойства установите значение "true". <br/></br> **Важное примечание.** Эта функция поддерживает только полностью параметризованные запросы INSERT. Если запросы INSERT объединены другими SQL-запросами или содержат данные в значениях, то выполнение будет возвращено к базовой операции пакетной вставки. <br/><br/> Дополнительные сведения о том, как использовать это свойство, смотрите в [Using bulk copy API for batch insert operation](use-bulk-copy-api-batch-insert-operation.md) (Использование API массового копирования для операции пакетной вставки).|
| useFmtOnly<br /><br />Логическое<br />["true" &#124; "false"]<br /><br />false | Microsoft JDBC Driver для SQL Server, начиная с версии 7.4, предоставляет альтернативный способ запроса метаданных параметров с сервера, указав свойство подключения **useFmtOnly**. Установите это свойство в значение "true", чтобы указать, что драйвер должен использовать логику `SET FMTONLY` при запросе метаданных параметров. По умолчанию это свойство выключено, и не рекомендуется использовать это свойство, так как `SET FMTONLY` помечено для удаления. **useFmtOnly** доступно для использования только в качестве обходного пути для известных проблем и ограничений в [`sp_describe_undeclared_parameters`](https://docs.microsoft.com/sql/relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql?view=sql-server-2017).<br/><br/> В настоящее время эта функция поддерживает только одиночные `SELECT/INSERT/UPDATE/DELETE` запросы. Попытка использовать эту возможность с неподдерживаемыми/многочисленными запросами приведет к тому, что драйвер попытается разобрать запрос(ы), но, скорее всего, приведет к исключению.<br/><br/> Дополнительную информацию см. в [Retrieving ParameterMetaData via useFmtOnly](../../connect/jdbc/using-usefmtonly.md) (Получение ParameterMetaData через useFmtOnly). |
| userName,<br/>пользователь<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>null | Пользователь базы данных, в случае соединения с пользователем SQL и паролем.<br/><br/>Для соединения Kerberos с именем участника и паролем это свойство устанавливается в качестве имени участника Kerberos. |
| workstationID<br/><br/>Строка<br/>[&lt;=128 char]<br/><br/>&lt;пустая строка&gt; | Идентификатор рабочей станции. Используется для идентификации определенной рабочей станции в различных средствах профилирования и ведения журнала [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. <br/><br/>Если не задано, используется &lt;пустая строка&gt;. |
| xopenStates<br/><br/>Логическое<br/>["true" &#124; "false"]<br/><br/>false | Установите значение true, чтобы указать, что драйвер возвращает в исключениях коды состояний, совместимые с XOPEN. <br/><br/>Значение по умолчанию — возвращать коды состояний SQL 99. |
| &nbsp; | &nbsp; |

> [!NOTE]  
> Драйвер [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] принимает значения сервера по умолчанию для свойств подключения, за исключением ANSI_DEFAULTS и IMPLICIT_TRANSACTIONS. Драйвер [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] автоматически устанавливает свойство ANSI_DEFAULTS в значение ON, а свойство IMPLICIT_TRANSACTIONS — в значение OFF.

> [!Important]
> Если проверка подлинности установлена в значение ActiveDirectoryPassword, то следующая библиотека должна быть включена в classpath: [azure-activedory-library-for-java](https://github.com/AzureAD/azure-activedirectory-library-for-java). Его можно найти в [Maven Repository](https://mvnrepository.com/artifact/com.microsoft.azure/adal4j). Самый простой способ скачать библиотеку и ее зависимости — использовать Maven.
> 1. Сначала установите Maven на вашу систему
> 2. Перейдите на страницу драйвера [GitHub](https://github.com/Microsoft/mssql-jdbc).
> 3. Скачайте файл pom.xml
> 4. Для загрузки библиотеки и ее зависимостей выполните следующую команду Maven: `mvn dependency:copy-dependencies`

## <a name="see-also"></a>См. также раздел

[Подключение к SQL Server с помощью JDBC Driver](../../connect/jdbc/connecting-to-sql-server-with-the-jdbc-driver.md)  
[Режим FIPS](../../connect/jdbc/fips-mode.md)
