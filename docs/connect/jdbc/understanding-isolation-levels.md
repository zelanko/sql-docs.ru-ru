---
title: Основные сведения об уровнях изоляции | Документы Microsoft
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.suite: sql
ms.technology: connectivity
ms.tgt_pltfrm: ''
ms.topic: conceptual
ms.assetid: 2c41e23a-da6c-4650-b5fc-b5fe53ba65c3
caps.latest.revision: 17
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: a7c09de18ede2c5230179f4ac4df68686d9d256c
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="understanding-isolation-levels"></a>Основные сведения об уровнях изоляции
[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

  Транзакции указывают уровень изоляции, который определяет степень, до которой одна транзакция должна быть изолирована от изменений ресурса или данных, произведенных другими транзакциями. Уровни изоляции описаны с точки зрения того, какие из побочных эффектов параллелизма разрешены (например, чтение фантомных файлов или чтение недействительных данных).  
  
 Уровни изоляции транзакций используются для управления следующими настройками:  
  
-   Применение и типы блокировки при чтении данных.  
  
-   Время удержания блокировок чтения.  
  
-   Использование операции чтения ссылок на строки, измененные другой транзакцией.  
  
    -   Блокировка до освобождения монопольной блокировки строки.  
  
    -   Извлечение фиксированной версии строки, существующей в момент запуска инструкции или транзакции.  
  
    -   Чтение нефиксированных изменений данных.  
  
 Выбор уровня изоляции транзакции не влияет на блокировки, полученные для защиты изменений данных. Транзакция всегда вызывает монопольную блокировку любых данных, которые она изменяет, и удерживает блокировку до тех пор, пока транзакция не завершится, независимо от уровня изоляции, установленного для транзакции. Для операций чтения уровни изоляции транзакций, в основном, определяют уровень защиты от эффектов изменений, сделанных другими транзакциями.  
  
 Низкие уровни изоляции увеличивают возможность воспользоваться одновременным доступом к данным для нескольких пользователей, но также увеличивают и количество возможных побочных эффектов параллелизма (например, чтение «грязных» данных или потери обновлений). С другой стороны, более высокий уровень изоляции позволяет уменьшить количество возможных побочных эффектов параллелизма, но требует большего количества системных ресурсов и повышает вероятность блокировки транзакции другой транзакцией. Выбор соответствующего уровня изоляции зависит от баланса между требованиями к целостности данных приложения и издержек каждого уровня изоляции. Самый высокий уровень изоляции — изоляция упорядочиваемых транзакций — гарантирует, что транзакция получит в точности те же данные при каждой операции чтения, но достигается это применением уровня блокировки, при котором очень вероятно влияние на других пользователей в многопользовательских системах. Самый низкий уровень изоляции, незафиксированная операция чтения, может использоваться для извлечения измененных данных, изменения которых не были зафиксированы другими транзакциями. Возникновение всех побочных эффектов параллелизма возможно в незафиксированных операциях чтения, но при этом не поддерживается блокировка чтения или управление версиями, за счет чего обеспечивается минимизация дополнительных временных затрат.  
  
## <a name="remarks"></a>Замечания  
 В следующей таблице перечислены побочные эффекты параллелизма, допустимые для различных уровней изоляции.  
  
|Уровень изоляции|Чтение «грязных» файлов|Операции чтения без возможности повторения|Фантомный|  
|---------------------|----------------|-------------------------|-------------|  
|Уровень изоляции read uncommitted|Да|Да|Да|  
|Уровень изоляции read committed|Нет|Да|Да|  
|Уровень изоляции repeatable read|Нет|Нет|Да|  
|Snapshot|Нет|Нет|Нет|  
|Упорядочиваемый уровень изоляции|Нет|Нет|Нет|  
  
 Транзакции могут быть запущены, начиная с уровня изоляции операции чтения с возможностью повторения, что позволит предотвратить потери обновления, которые могут произойти при извлечении одной строки двумя транзакциями, и дальнейшего обновления строки с использованием исходных извлеченных значений. Если две транзакции обновляют строки с использованием одной инструкции UPDATE и не используют при обновлении полученные ранее значения, то на уровне изоляции read committed, заданного по умолчанию, возможны потери обновлений.  
  
 Чтобы задать уровень изоляции для транзакции, можно использовать [setTransactionIsolation](../../connect/jdbc/reference/settransactionisolation-method-sqlserverconnection.md) метод [SQLServerConnection](../../connect/jdbc/reference/sqlserverconnection-class.md) класса. Этот метод принимает **int** значением в качестве аргумента, который основан на одну из констант соединения, как описано ниже:  
  
```  
con.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);  
```  
  
 Чтобы использовать новый уровень изоляции моментального снимка из [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)], можно использовать одну из констант SQLServerConnection, как описано ниже:  
  
```  
con.setTransactionIsolation(SQLServerConnection.TRANSACTION_SNAPSHOT);  
```  
  
 или можно использовать:  
  
```  
con.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED + 4094);  
```  
  
 Дополнительные сведения о [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)] уровни изоляции, в разделе «уровни изоляции в [!INCLUDE[ssDE](../../includes/ssde_md.md)]» в [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)] электронной документации.  
  
## <a name="see-also"></a>См. также  
 [Выполнение транзакций с помощью драйвера JDBC](../../connect/jdbc/performing-transactions-with-the-jdbc-driver.md)  
  
  
