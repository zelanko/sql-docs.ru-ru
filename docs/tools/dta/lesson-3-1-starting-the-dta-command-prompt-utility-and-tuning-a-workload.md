---
title: "Начало работы с программой командной строки dta и настройка рабочей нагрузки | Документы Microsoft"
ms.custom: 
ms.date: 03/14/2017
ms.prod: sql-non-specified
ms.prod_service: sql-non-specified
ms.service: 
ms.component: dta
ms.reviewer: 
ms.suite: sql
ms.technology: dbe-query-tuning
ms.tgt_pltfrm: 
ms.topic: article
applies_to: SQL Server 2016
helpviewer_keywords: Database Engine [SQL Server], tutorials
ms.assetid: f34a5acf-1f3b-4484-a770-6470cb925ab0
caps.latest.revision: "28"
author: BYHAM
ms.author: rickbyh
manager: jhubbard
ms.workload: Inactive
ms.openlocfilehash: 615ce013af8c88bc748f1fc150e47fea182e7a06
ms.sourcegitcommit: b2d8a2d95ffbb6f2f98692d7760cc5523151f99d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2017
---
# <a name="lesson-3-1---starting-the-dta-command-prompt-utility-and-tuning-a-workload"></a>Занятие 3-1 — начало работы с программой командной строки dta и настройка рабочей нагрузки
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]Эта задача помогает запустить **dta** программы, просмотреть ее справку, а затем использовать его для настройки рабочей нагрузки из командной строки. Программа использует рабочую нагрузку MyScript.sql, созданную в ходе выполнения практической работы по использованию графического пользовательского интерфейса помощника по настройке ядра СУБД [Настройка рабочей нагрузки](../../tools/dta/lesson-1-1-tuning-a-workload.md).  
  
В учебнике используется образец базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] . В целях повышения безопасности образцы баз данных не установлены. Дополнительные сведения об установке образцов баз данных см. в статье [Установка образцов SQL Server и образцов баз данных](http://sqlserversamples.codeplex.com).  
  
В следующих задачах рассматривается открытие командной строки, запуск программы командной строки **dta** , просмотр справки по ее синтаксису, а также настройка простой рабочей нагрузки MyScript.sql, которая была создана в примере [Настройка рабочей нагрузки](../../tools/dta/lesson-1-1-tuning-a-workload.md).  
  
### <a name="to-start-the-dta-command-prompt-utility-and-view-help"></a>Запуск программы командной строки dta и просмотр справки  
  
1.  В меню **Пуск** наведите указатель на пункт **Все программы**, затем на пункт **Стандартные**и выберите пункт **Командная строка**.  
  
2.  В командной строке введите следующую команду и нажмите клавишу ВВОД:  
  
    ```  
    dta -? | more  
    ```  
  
    Часть `| more` этой команды является необязательной. Однако ее использование позволит пролистывать справку по синтаксису этой программы. Нажимайте клавишу ВВОД, чтобы просматривать текст справки построчно, или клавишу ПРОБЕЛ, чтобы перелистывать текст справки по страницам.  
  
### <a name="to-tune-a-simple-workload-by-using-the-dta-command-prompt-utility"></a>Настройка простой рабочей нагрузки с помощью программы командной строки dta  
  
1.  В командной строке перейдите в каталог, где был сохранен файл MyScript.sql.  
  
2.  В командной строке введите следующую команду и нажмите клавишу ВВОД, чтобы запустить команду и начать сеанс настройки (обратите внимание, что программа учитывает регистр в ходе синтаксического анализа команд):  
  
    ```  
    dta -S YourServerName\YourSQLServerInstanceName -E -D AdventureWorks2012 -if MyScript.sql -s MySession2 -of MySession2OutputScript.sql -ox MySession2Output.xml -fa IDX_IV -fp NONE -fk NONE  
    ```  
  
    где `-S` указывает имя сервера и экземпляр служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , на котором установлена база данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] . Параметр `-E` указывает, что требуется использовать доверительное соединение с экземпляром. Это целесообразно, если соединение устанавливается с учетной записью домена Windows. Параметр `-D` указывает базу данных, которую нужно настроить, параметр `-if` указывает файл рабочей нагрузки, параметр `-s` указывает имя сеанса, параметр `-of` указывает файл, в который средство должно записать скрипт рекомендаций [!INCLUDE[tsql](../../includes/tsql-md.md)] , а параметр `-ox` указывает файл, в который средство должно записать рекомендации в формате XML. Последние три параметра управляют настройкой следующим образом: параметр `-fa IDX_IV` указывает, что помощник по настройке ядра СУБД должен добавлять только индексы (как кластеризованные, так и некластеризованные) и индексированные представления; параметр `-fp NONE` указывает, что в ходе анализа не должна учитываться стратегия секционирования; параметр `-fk NONE` указывает, что существующие в базе данных структуры физического проектирования не должны сохраняться при формировании рекомендаций помощником по настройке ядра СУБД.  
  
3.  Закончив настройку рабочей нагрузки, помощник по настройке ядра СУБД выведет сообщение, свидетельствующее об успешном завершении сеанса настройки. Можно просмотреть результаты настройки, используя среду [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , чтобы открыть файлы MySession2OutputScript.sql и MySession2Output.xml. Кроме того, сеанс настройки MySession2 можно открыть в графическом интерфейсе помощника по настройке ядра СУБД и просмотреть его рекомендации и отчеты, что рассматривалось в разделах [Просмотр рекомендаций по настройке](../../tools/dta/lesson-1-2-viewing-tuning-recommendations.md) и [Просмотр отчетов настройки](../../tools/dta/lesson-1-3-viewing-tuning-reports.md).  
  
## <a name="summary"></a>Сводка  
Завершена настройка простой рабочей нагрузки в командной строке с помощью программы **dta** . Это средство предоставляет также множество других возможностей настройки. Дополнительные сведения см. в справке средства (**dta -?**) и в разделе справки [dta, программа](../../tools/dta/dta-utility.md) .  
  
## <a name="after-you-finish-this-tutorial"></a>После завершения работы с этим учебником  
Выполнив задания этого учебника, изучите следующие разделы, чтобы получить дополнительные сведения о помощнике по настройке ядра СУБД:  
  
-   В статье[Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md) описывается выполнение задач с использованием этого средства.  
  
-   [dta Utility](../../tools/dta/dta-utility.md) — справочный материал по программе командной строки и дополнительному XML-файлу, который вы можете использовать для управления ее работой.  
  
Чтобы вернуться к началу учебника, воспользуйтесь ссылкой [Учебник. Помощник по настройке ядра СУБД](../../tools/dta/tutorial-database-engine-tuning-advisor.md).  
  
## <a name="see-also"></a>См. также:  
[Учебники по компоненту ядра СУБД](../../relational-databases/database-engine-tutorials.md)  
  
  
  
