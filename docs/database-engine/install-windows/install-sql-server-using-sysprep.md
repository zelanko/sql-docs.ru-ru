---
title: Установка SQL Server с помощью SysPrep | Microsoft Docs
ms.custom: ''
ms.date: 09/07/2017
ms.prod: sql
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: 11f4ed8a-aaa9-417b-bdd5-204f551c6bb6
author: MashaMSFT
ms.author: mathoma
monikerRange: '>=sql-server-2016||=sqlallproducts-allversions'
manager: craigg
ms.openlocfilehash: c319172feafb550ff79f8af1361c0b82f45bcff8
ms.sourcegitcommit: 61381ef939415fe019285def9450d7583df1fed0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2018
ms.locfileid: "47633082"
---
# <a name="install-sql-server-with-sysprep"></a>Установка SQL Server с помощью SysPrep

[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep, доступны в центре установки. На странице **Дополнительно** **центра установки** имеется два параметра: **Подготовка образа изолированного экземпляра[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** и **Завершение образа подготовленного изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]**. В разделах [Подготовка](#prepare) и [Завершение](#complete) подробно описывается процесс установки. Дополнительные сведения см. в разделе [Considerations for Installing SQL Server Using SysPrep](../../database-engine/install-windows/considerations-for-installing-sql-server-using-sysprep.md). 
  
Можно также подготовить и завершить создание экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью командной строки или файла конфигурации. Дополнительные сведения см. в разделе:  
  
- [Установка SQL Server из командной строки](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md)  
  
- [Установка SQL Server с помощью файла конфигурации](../../database-engine/install-windows/install-sql-server-using-a-configuration-file.md)  
  
## <a name="prerequisites"></a>предварительные требования  
Перед установкой [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] изучите статьи, указанные в статье [Планирование установки SQL Server](../../sql-server/install/planning-a-sql-server-installation.md). 
  
Дополнительные сведения о выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и требованиях к аппаратному и программному обеспечению см. в разделе [Требования к оборудованию и программному обеспечению для установки SQL Server](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md). 
    
##  <a name="sysprep"></a> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep  
 Начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SysPrep поддерживает кластеризованные экземпляры [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в установке из командной строки. Дополнительные сведения см. в разделе [Что такое Sysprep?](http://msdn.microsoft.com/library/cc721940\(v=WS.10\).aspx). 
  
### <a name="to-prepare-a-includessnoversionincludesssnoversion-mdmd-failover-cluster-unattended"></a>Подготовка кластера отработки отказа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (самостоятельно)  
  
1. Подготовьте образ (как описано в разделе [Вопросы по установке SQL Server с помощью SysPrep](../../database-engine/install-windows/considerations-for-installing-sql-server-using-sysprep.md)) и сохраните образ Windows с помощью обобщения SysPrep. В следующем примере показана подготовка образа.  
  
    ```  
    Setup.exe /q /ACTION=PrepareImage l /FEATURES=SQLEngine /InstanceID =<MYINST> /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
     Затем выполняется обобщение Windows SysPrep. 
  
2. Разверните образ, выполнив Windows SysPrep Specialize. 
  
3. Создание кластера отработки отказа Windows. 
  
4. Запустите файл setup.exe с параметром **/Action = PrepareFailoverCluster** для всех узлов. Пример:  
  
    ```  
    setup.exe /q /ACTION=PrepareFailoverCluster /InstanceName=<InstanceName> /Features=SQLEngine  /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="xxxxxxxxxxx"  /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
### <a name="complete-a-includessnoversionincludesssnoversion-mdmd-failover-cluster-unattended"></a>Создание отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (автоматическая установка)  
  
1. Запустите файл setup.exe с параметром **/ACTION=CompleteFailoverCluster** на узле, принадлежащем доступной группе хранения:  
  
    ```  
    setup.exe /q /ACTION=CompleteFailoverCluster /InstanceName=<InstanceName>  /FAILOVERCLUSTERDISKS="<Cluster Disk Resource Name - for example, 'Disk S:'>:" /FAILOVERCLUSTERNETWORKNAME="<Insert FOI Network Name>" /FAILOVERCLUSTERIPADDRESSES="IPv4;xx.xxx.xx.xx;Cluster Network;xxx.xxx.xxx.x" /FAILOVERCLUSTERGROUP="MSSQLSERVER" /INSTALLSQLDATADIR="<Drive>:\<Path>\MSSQLSERVER" /SQLCOLLATION="SQL_Latin1_General_CP1_CS_AS" /SQLSYSADMINACCOUNTS="<DomainName\UserName>"  
    ```  
  
### <a name="adding-a-node-to-an-existing-includessnoversionincludesssnoversion-mdmd-failover-cluster-unattended"></a>Добавление узла к существующему отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (автоматическая установка)  
  
1. Разверните образ, выполнив Windows SysPrep Specialize. 
  
2. Присоедините кластер отработки отказа Windows. 
  
3. Запустите setup.exe с **/ACTION= AddNode** на всех узлах:  
  
    ```  
    setup.exe /q /ACTION=AddNode /InstanceName=<InstanceName> /Features=SQLEngine  /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="xxxxxxxxxxx"  /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
##  <a name="prepare"></a> Подготовка образа  
  
### <a name="prepare-a-stand-alone-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Подготовьте изолированный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
1. Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . В корневой папке дважды щелкните файл Setup.exe. Чтобы выполнить установку из общей сетевой папки, перейдите в корневую папку общего ресурса и дважды щелкните файл setup.exe. 
  
2. Мастер установки запускает центр установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Чтобы подготовить экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], выберите **Подготовка образа изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** на странице **Дополнительно**. 
  
3. Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, нажмите кнопку **ОК**. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
4. На странице «Обновление продукта» приведены последние обновления продукта [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если устанавливать обновления не требуется, снимите флажок **Включить обновления продукта [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]**. Если обновлений продукта не обнаружено, программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не выводит на экран эту страницу и сразу переходит на страницу **Установка файлов** . 
  
5. На странице «Установка установочных файлов» программа установки отображает индикаторы хода загрузки, извлечения и установки установочных файлов. При обнаружении обновления программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] оно также будет установлено, если указано, что его следует использовать. 
  
6. Средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
7. На странице **Подготовка типа образа** выберите **Подготовить новый экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]**. 
  
     Страница **Подготовка типа образа** отображается только при наличии на компьютере ненастроенного подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Можно подготовить новый экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или добавить поддерживаемые компоненты SysPrep к существующему экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на компьютере. Дополнительные сведения о добавлении компонентов к подготовленному экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] см. в разделе [Добавление компонентов к подготовленному экземпляру](#AddFeatures). 
  
8. На странице **Условия лицензии** прочтите лицензионное соглашение и установите флажок, подтверждая принятие условий соглашения. Чтобы помочь в улучшении [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], можно также включить параметр наблюдения за использованием компонентов и отправлять отчеты в [!INCLUDE[msCoName](../../includes/msconame-md.md)]. 
  
9. Выберите компоненты для установки на странице **Выбор компонентов** .  
  
    |||  
    |-|-|  
    |[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Средство SysPrep|[!INCLUDE[ssDE](../../includes/ssde-md.md)]<br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Репликация<br /><br /> Полнотекстовые компоненты<br /><br /> Data Quality Services<br /><br /> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в собственном режиме<br /><br /> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]<br /><br /> Распространяемые компоненты<br /><br /> Общие функции|  
  
     После выбора имени компонента описание его группы отображается на правой панели окна. Можно установить любое сочетание компонентов (устанавливаемые компоненты отмечаются флажками). Дополнительные сведения см. в статье [Выпуски и поддерживаемые функции SQL Server](../../sql-server/editions-and-components-of-sql-server-2017.md). 
  
     Требования для выбранных компонентов показаны на правой панели. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установит обязательный компонент, который еще не был установлен, в шаге установки, описанном ниже в данной процедуре. 
  
10. На странице **Правила подготовки образа** средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
11. На странице «Конфигурация экземпляра» укажите идентификатор экземпляра. Чтобы продолжить, нажмите кнопку **Далее** . 
  
     **Идентификатор экземпляра** предназначен для идентификации каталогов установки и разделов реестра для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Действует как для экземпляров по умолчанию, так и для именованных экземпляров. Если подготовленный экземпляр на шаге завершения создан как экземпляр по умолчанию, то имя экземпляра переопределяется на MSSQLSERVER. Указанный идентификатор экземпляра остается без изменений. 
  
     **Корневой каталог экземпляра** по умолчанию представляет корневой каталог экземпляра [!INCLUDE[ssInstallPath](../../includes/ssinstallpath-md.md)]. Чтобы задать корневой каталог, отличный от каталога по умолчанию, введите имя каталога в поле или нажмите кнопку **Обзор** и выберите папку установки. Каталог, указанный на шаге установки, будет использован при настройке на шаге завершения. 
  
     Все обновления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (в том числе и пакеты обновления) применяются к каждому из компонентов экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
     **Установленные экземпляры** — в этой сетке перечислены все экземпляры [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , установленные на компьютере, на котором выполняется программа установки. 
  
12. На странице **Требования к свободному месту на диске** вычисляется необходимое место на диске для указанных компонентов. Затем необходимое пространство сравнивается с доступным местом на диске. 
  
13. Средство проверки конфигурации системы выполнит правила подготовки образа для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
14. На странице **Готовность к подготовке образа** показано представление параметров установки в виде дерева, заданных в программе установки. На этой странице программа установки указывает, включена ли функция обновления продукта, а также последнюю версию обновления. Чтобы продолжить, нажмите кнопку **Подготовить**. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] вначале устанавливает требуемые компоненты для выбранных средств, затем устанавливает сами средства. 
  
15. Во время установки на странице **Ход выполнения подготовки образа** отображается состояние установки, позволяющее наблюдать за ее выполнением. 
  
16. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**. 
  
17. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения см. в разделе [View and Read SQL Server Setup Log Files](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md). 
  
18. На этом завершается шаг подготовки. Можно завершить создание образа или выполнить развертывание подготовленного образа, как описано в разделе [Considerations for Installing SQL Server Using SysPrep](../../database-engine/install-windows/considerations-for-installing-sql-server-using-sysprep.md). 
  
##  <a name="complete"></a> Завершение создания образа  
  
### <a name="complete-a-prepared-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Завершение создания подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
1. При наличии подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в виде образа компьютера в меню «Пуск» появится ярлык. Можно также запустить центр установки и выбрать **Завершение образа подготовленного изолированного экземпляра** на странице **Дополнительно** . 
  
2. Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, нажмите кнопку **ОК**. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
3. На странице **Файлы поддержки программы установки** щелкните **Установить** , чтобы установить файлы поддержки программы установки. 
  
4. Средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
5. На странице **Ключ продукта** выберите переключатель установки бесплатного выпуска [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]или рабочей версии продукта, которая имеет ключ PID. Дополнительные сведения см. в статье [Выпуски и поддерживаемые функции SQL Server](../../sql-server/editions-and-components-of-sql-server-2017.md). При установке выпуска Evaluation Edition он становится доступен для ознакомления в течение 180 дней с момента завершения этого шага. 
  
6. На странице **Условия лицензии** прочтите лицензионное соглашение и установите флажок, подтверждая принятие условий соглашения. Чтобы помочь в улучшении [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], можно также включить параметр наблюдения за использованием компонентов и отправлять отчеты в [!INCLUDE[msCoName](../../includes/msconame-md.md)]. 
  
7. На странице **Выбор подготовленного** экземпляра выберите в раскрывающемся списке подготовленный экземпляр, создание которого необходимо завершить. Выберите ненастроенный экземпляр в списке **Идентификатор экземпляра** . 
  
     **Установленные экземпляры:** в этой сетке отображаются все экземпляры на этом компьютере, включая подготовленные. 
  
8. На странице **Обзор компонента** будут отображены выбранные средства и компоненты, включенные в установку на шаге подготовки. Если необходимо добавить дополнительные компоненты к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , не включенному в подготовленный экземпляр, то сначала завершите данный шаг, чтобы закончить создание экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а затем добавьте компоненты на странице **Добавить компоненты** в **Центре установки**. 
  
    > [!NOTE]  
    >  Можно добавить компоненты, доступные для устанавливаемой версии продукта. Дополнительные сведения см. в статье [Выпуски и поддерживаемые функции SQL Server](../../sql-server/editions-and-components-of-sql-server-2017.md).  
  
9. На странице «Конфигурация экземпляра» укажите имя подготовленного экземпляра. После завершения настройки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]это имя будет присвоено экземпляру. Чтобы продолжить, нажмите кнопку **Далее** . 
  
     **Идентификатор экземпляра** предназначен для идентификации каталогов установки и разделов реестра для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Действует как для экземпляров по умолчанию, так и для именованных экземпляров. Если подготовленный экземпляр на шаге завершения создан как экземпляр по умолчанию, то имя экземпляра переопределяется на MSSQLSERVER. Указанный на этапе подготовки идентификатор экземпляра остается без изменений. 
  
     **Корневой каталог экземпляра** — каталог, указанный на шаге подготовки, будет использован на этом шаге и не сможет быть изменен. 
  
     Все обновления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (в том числе и пакеты обновления) применяются к каждому из компонентов экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
     **Установленные экземпляры** — в этой сетке перечислены все экземпляры [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , установленные на компьютере, на котором запущена программа установки. 
  
10. Набор операций, оставшихся в этой статье, зависит от того, какие компоненты были выбраны на этапе подготовки. В зависимости от выбора на экране могут отображаться не все страницы. 
  
11. На странице **Конфигурация сервера: учетные записи служб** укажите учетные записи входа для служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Набор служб, которые можно настроить на этой странице, зависит от компонентов, выбранных при установке. 
  
     Можно назначить одну учетную запись входа всем службам [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или настроить учетные записи служб индивидуально. Можно также указать, будут службы запускаться автоматически или вручную либо будут отключены. [!INCLUDE[msCoName](../../includes/msconame-md.md)] рекомендует настраивать учетные записи служб отдельно, чтобы каждой службе предоставлялся минимальный набор, с тем условием, чтобы службам [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставлялись минимальные права доступа, необходимые для выполнения их задач. Дополнительные сведения см. в разделах [Настройка сервера — учетные записи служб](http://msdn.microsoft.com/library/c283702d-ab20-4bfa-9272-f0c53c31cb9f) и [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md). 
  
     Чтобы задать одну учетную запись входа для всех учетных записей служб этого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], укажите учетные данные в полях, которые находятся в нижней части страницы. 
  
     **Примечание по безопасности** [!INCLUDE[ssNoteStrongPass](../../includes/ssnotestrongpass-md.md)]  
  
     После ввода данных входа для служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] нажмите кнопку **Далее**. 
  
12. На вкладке **Конфигурация сервера: параметры сортировки** можно для компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] и служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]задать параметры сортировки, отличные от заданных по умолчанию. Дополнительные сведения см. в разделе [Настройка сервера — параметры сортировки](http://msdn.microsoft.com/library/e3986870-5be4-458b-b671-5ff12a27b022). 
  
13. На странице «Настройка компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] — провизионирование учетных записей» укажите следующие сведения:  
  
    - Режим безопасности — выберите для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]режим проверки подлинности: «Проверка подлинности Windows» или «Смешанный режим». Если выбран смешанный режим проверки подлинности, необходимо задать надежный пароль для встроенной учетной записи системного администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . 
  
         После удачного соединения устройства с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]в режиме проверки подлинности Windows и смешанном режиме начинает действовать один механизм безопасности. Дополнительные сведения см. в разделе [Конфигурация ядра СУБД — конфигурация сервера](http://msdn.microsoft.com/library/834b26bc-49de-4033-88d5-6aa7b1609720). 
  
    - [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] : для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Чтобы добавить учетную запись, с которой выполняется программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить или удалить учетные записи из списка системных администраторов, нажмите кнопку **Добавить** или **Удалить**и затем измените список пользователей, групп или компьютеров, которые будут иметь права администраторов на этот экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Дополнительные сведения см. в разделе [Конфигурация ядра СУБД — конфигурация сервера](http://msdn.microsoft.com/library/834b26bc-49de-4033-88d5-6aa7b1609720). 
  
     После изменения списка нажмите кнопку **ОК**. Проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**. 
  
14. На странице «Конфигурация компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] — каталоги данных» можно указать каталоги установки, отличающиеся от заданных по умолчанию. Чтобы произвести установку в каталог по умолчанию, нажмите кнопку **Далее**. 
  
    > [!IMPORTANT]  
    >  Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
     Дополнительные сведения см. в разделе [Настройка компонента Database Engine — каталоги данных](http://msdn.microsoft.com/library/9b1fa0fc-623b-479a-afc3-4f13bd850487). 
  
15. Чтобы включить FILESTREAM в экземпляре [!INCLUDE[ssDE](../../includes/ssde-md.md)] , используйте страницу «Конфигурация компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]— FILESTREAM». Дополнительные сведения см. в разделе [Настройка компонента Database Engine — Filestream](http://msdn.microsoft.com/library/641a10a1-ae52-4d26-8f1c-a032a4aeff02). 
  
16. На странице «Конфигурация служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] » укажите тип установки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Дополнительные сведения о режимах настройки [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] см. в разделе [Параметры конфигурации служб Reporting Services (SSRS)](http://msdn.microsoft.com/library/e4561f6c-bc7f-467e-821a-cde8e5cd7391). 
  
17. На странице **Отчеты об ошибках** укажите сведения, которые будут отправлены в [!INCLUDE[msCoName](../../includes/msconame-md.md)] и помогут улучшить [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. По умолчанию параметры создания отчетов об ошибках включены. 
  
18. На странице **Правила завершения образа** средство проверки конфигурации системы применит правила завершения образа для оценки конфигурации компьютера с указанными конфигурациями [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
19. На странице **Все готово для завершения образа** показано древовидное представление параметров установки, выбранных в программе установки. Чтобы продолжить, нажмите кнопку **Установить**. 
  
20. Во время установки на странице **Ход выполнения завершения образа** отображается состояние установки, позволяющее наблюдать за ее выполнением. 
  
21. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**. 
  
22. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения см. в разделе [View and Read SQL Server Setup Log Files](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md). 
  
23. Этот шаг завершает настройку подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и установку [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
##  <a name="AddFeatures"></a> Add Features to a Prepared Instance  
  
### <a name="add-features-to-a-prepared-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Добавление компонентов к подготовленному экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
1. Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . В корневой папке дважды щелкните файл Setup.exe. Чтобы выполнить установку из общей сетевой папки, перейдите в корневую папку общего ресурса и дважды щелкните файл setup.exe. 
  
2. Мастер установки запускает центр установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Чтобы добавить компоненты к подготовленному экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], выберите **Подготовка образа изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** на странице **Дополнительно**. 
  
3. Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, нажмите кнопку **ОК**. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
4. На странице «Файлы поддержки программы установки» щелкните **Установить** , чтобы установить файлы поддержки программы установки. 
  
5. На странице **Подготовка типа образа** выберите параметр **Добавить компоненты в существующий подготовленный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]**. Выберите в раскрывающемся списке доступных подготовленных экземпляров конкретный подготовленный экземпляр, к которому необходимо добавить компоненты. 
  
6. На странице **Выбор компонентов** укажите компоненты, которые необходимо добавить к указанному подготовленному экземпляру. 
  
     Требования для выбранных компонентов показаны на правой панели. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установит обязательный компонент, который еще не был установлен, в шаге установки, описанном ниже в данной процедуре. 
  
7. На странице **Правила подготовки образа** средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
8. На странице «Требования к свободному месту на диске» вычисляется необходимое место на диске для указанных компонентов. Затем необходимое пространство сравнивается с доступным местом на диске. 
  
9. На странице **Правила завершения образа** средство проверки конфигурации выполняет правила подготовки образа для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**. 
  
10. На странице **Готовность к подготовке образа** показано представление параметров установки в виде дерева, заданных в программе установки. Чтобы продолжить, нажмите кнопку **Установить**. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] вначале устанавливает требуемые компоненты для выбранных средств, затем устанавливает сами средства. 
  
11. Во время установки на странице **Ход выполнения подготовки образа** отображается состояние установки, позволяющее наблюдать за ее выполнением. 
  
12. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**. 
  
13. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения см. в разделе [View and Read SQL Server Setup Log Files](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md). 
  
##  <a name="RemoveFeatures"></a> Удаление компонентов из подготовленного экземпляра  
  
### <a name="removing-features-from-a-prepared-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Удаление компонентов из подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
1. Чтобы начать процесс удаления, в меню **Пуск** выберите **Панель управления** , а затем дважды щелкните **Программы и компоненты**. 
  
2. Дважды щелкните компонент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который необходимо удалить, а затем нажмите кнопку **Удалить**. 
  
3. Для проверки конфигурации компьютера будут выполнены правила поддержки установки. Чтобы продолжить, нажмите кнопку **ОК** . 
  
4. На странице **Выбор экземпляра** выберите подготовленный экземпляр для изменения. Имя подготовленного экземпляра отображается как «PreparedInstanceID без настройки», где PreparedInstanceID — выбранный экземпляр. 
  
5. На странице **Выбор компонентов** укажите компоненты, которые нужно удалить из указанного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Чтобы продолжить, нажмите кнопку **Далее** . 
  
6. Для проверки успешного завершения операции запустятся правила удаления. 
  
7. На странице **Все готово** для удаления просмотрите список компонентов и функций, подлежащих удалению. 
  
8. На странице **Выполнение удаления** будет отображаться состояние операции. 
  
9. На странице **Завершение** можно предварительно просмотреть состояние завершения операции. Чтобы выйти из мастера установки, нажмите кнопку **Закрыть** . 
  
##  <a name="Uninstall"></a> Удаление подготовленного экземпляра  
  
### <a name="uninstall-a-prepared-instance-of-includessnoversionincludesssnoversion-mdmd"></a>Удаление подготовленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
1. Чтобы начать процесс удаления, в меню **Пуск** выберите **Панель управления** , а затем дважды щелкните **Программы и компоненты**. 
  
2. Дважды щелкните компонент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который необходимо удалить, а затем нажмите кнопку **Удалить**. 
  
3. Для проверки конфигурации компьютера будут выполнены правила поддержки установки. Чтобы продолжить, нажмите кнопку **ОК** . 
  
4. На странице **Выбор экземпляра** выберите подготовленный экземпляр для изменения. Имя подготовленного экземпляра отображается как «PreparedInstanceID без настройки», где PreparedInstanceID — выбранный экземпляр. 
  
5. На странице **Выбор компонентов** укажите компоненты, которые нужно удалить из указанного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Чтобы продолжить, нажмите кнопку **Далее** . 
  
6. На странице **Правила удаления** программа установки выполнит правила, чтобы проверить, что операция может быть успешно завершена. 
  
7. На странице **Все готово** для удаления просмотрите список компонентов и функций, подлежащих удалению. 
  
8. На странице **Выполнение удаления** будет отображаться состояние операции. 
  
9. На странице **Завершение** можно предварительно просмотреть состояние завершения операции. Чтобы выйти из мастера установки, нажмите кнопку **Закрыть** . 
  
10. Повторяйте шаги 1–9 до тех пор, пока не будут удалены все компоненты [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] . 
  
##  <a name="bk_Modifying_Uninstalling"></a> Изменение и удаление завершенного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
 Процесс добавления и удаления компонентов и удаления завершенного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] аналогичен процессу, выполняемому для установленного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Дополнительные сведения см. в следующих статьях:  
  
- [Добавление компонентов в экземпляр SQL Server &#40;программа установки&#41;](../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-2016-setup.md)  
  
- [Удаление существующего экземпляра SQL Server (программа установки)](../../sql-server/install/uninstall-an-existing-instance-of-sql-server-setup.md)  
  
## <a name="see-also"></a>См. также:  
 [Что такое Windows SysPrep](http://go.microsoft.com/fwlink/?LinkId=143546)   
 [Как работает Windows SysPrep](http://go.microsoft.com/fwlink/?LinkId=143547)  
  
  
