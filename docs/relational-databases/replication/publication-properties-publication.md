---
title: 'Репликация SQL Server: диалоговое окно "Свойства публикации" | Документация Майкрософт'
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql13.rep.newpubwizard.pubproperties.agentsecurity.f1
- sql13.rep.newpubwizard.pubproperties.agentsecurity.f1
- sql13.rep.newpubwizard.pubproperties.filterrows.f1
- sql13.rep.newpubwizard.pubproperties.internetsynchronization.f1
- sql13.rep.newpubwizard.pubproperties.general.f1
- sql13.rep.newpubwizard.pubproperties.publicationaccesslist.f1
- sql13.rep.newpubwizard.pubproperties.snapshotformat.f1
helpviewer_keywords:
- Publication Properties dialog box
ms.assetid: 66e845e9-1308-4288-9110-ad2f22f1fc58
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.openlocfilehash: da86b20dba26536626010d14c1f81a1bbd852156
ms.sourcegitcommit: 553ecea0427e4d2118ea1ee810f4a73275b40741
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/14/2019
ms.locfileid: "65620367"
---
# <a name="sql-server-replication-publication-properties--dialog-box"></a>Репликация SQL Server: диалоговое окно "Свойства публикации"
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]

В этой статье описываются страницы, доступные в диалоговом окне "Свойства публикации". 

## <a name="general"></a>Общие
 Страница **Общие** диалогового окна **Свойства публикации** содержит основные сведения о публикации, включая ее имя, описание и порядок истечения срока ее действия.  
  
### <a name="options"></a>Параметры  
 **Название**  
 Имя публикации (только для чтения).  
  
 **База данных**  
 Имя базы данных публикации (только для чтения).  
  
 **Описание**  
 Описание публикации.  
  
 **Тип**  
 Тип публикации (только для чтения).  
  
 **Окончание действия подписки**  
 Выберите один из параметров срока действия публикации: **Бессрочные подписки** или **Подписки со сроком действия** с четко обозначенным периодом времени (**Интервал**).  
  
 Для публикаций моментальных снимков и публикаций транзакций [!INCLUDE[msCoName](../../includes/msconame-md.md)] рекомендует использовать в качестве значения по умолчанию **Бессрочные подписки**.  
  
 Для репликации слиянием [!INCLUDE[msCoName](../../includes/msconame-md.md)] рекомендует использовать в качестве значения по умолчанию **Подписки со сроком действия** и установить наиболее низкое значение из всех возможных для параметра **Интервал**. При увеличении срока действия подписки увеличивается и объем сохраняемых метаданных, что может негативно влиять на производительность системы. Найдите баланс между вероятностью возможных проблем с производительностью системы при обработке больших объемов метаданных и необходимостью для подписчиков не поддерживать соединение или хотя бы не осуществлять синхронизацию в течение продолжительного периода времени.  
  
 Дополнительные сведения см. в разделе [Subscription Expiration and Deactivation](../../relational-databases/replication/subscription-expiration-and-deactivation.md).  
  
 **Уровень совместимости**  
 Только для[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более поздних версий и только для публикаций слиянием. Выберите минимально допустимую версию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , необходимую подписчикам для синхронизации с этой публикацией. Существует ряд правил, связанных с определением уровня совместимости.  

## <a name="filter-rows"></a>Фильтрация строк
  Страница **Фильтрация строк** диалогового окна **Свойства публикации** дает возможность добавлять, изменять и удалять следующее:  
  
-   Применить статические фильтры строк к статьям таблиц в моментальном снимке, в публикациях транзакций и в публикациях слиянием.   
-   Применить параметризованные фильтры строк к статьям таблиц в публикациях слиянием.    
-   Использовать фильтры соединения для расширения фильтрации статей объединенных таблиц на относящиеся к ним статьи таблиц. Дополнительные сведения о вариантах фильтрации см. в статье [Фильтрация опубликованных данных](../../relational-databases/replication/publish/filter-published-data.md).  
  
> [!NOTE]  
>  Добавление, изменение или удаление фильтра требует нового моментального снимка публикации, а также повторной инициализации всех подписок.  
  
Для максимальной производительности приложения и снижения объема внешнего хранилища, а также для ограничения доступа к некоторым данным для отдельных подписчиков следует публиковать только необходимые данные. Публикация может содержать как отфильтрованные, так и нефильтрованные таблицы. Например, можно включить полную (нефильтрованную) таблицу со сведениями о продукции компании и использовать фильтры строк для получения отфильтрованной таблицы заказчиков из определенного региона. С помощью фильтрации опубликованных данных можно достичь следующих целей:  
  
-   Минимизировать объем данных, передаваемых по сети.    
-   Снизить необходимый подписчику объем для хранения.    
-   Настраивать публикации и приложения на основе индивидуальных требований подписчиков.    
-   Избежать конфликтов или уменьшить их количество, если подписчики обновляют данные, так как различным подписчикам можно отправить различные секции данных (то есть два подписчика не будут обновлять одни и те же значения данных).    
-   Избежать передачи конфиденциальных данных. Фильтры строк и фильтры столбцов могут быть использованы для ограничения доступа подписчика к данным. При репликации слиянием может возникать проблема безопасности, если используется параметризованный фильтр, содержащий HOST_NAME(). Дополнительные сведения см. в подразделе «Фильтрация с использованием HOST_NAME()» раздела [Parameterized Row Filters](../../relational-databases/replication/merge/parameterized-filters-parameterized-row-filters.md).  
  
### <a name="options"></a>Параметры  
 **Отфильтрованные таблицы**  
 Панель заполняется фильтрами по мере того, как они добавляются к статьям таблиц в публикации. Таблицы с фильтрами строк показаны в этой панели как узлы высшего уровня. Для публикаций слиянием таблицы, фильтрация которых была расширена с помощью фильтра соединения, показаны на панели как дочерние узлы.  
  
 **Добавить**  
 Нажмите **Добавить** , чтобы открыть диалоговое окно фильтрации статей таблицы. Нажмите **Добавить** для вызова диалогового окна моментального снимка или публикации транзакций. Нажмите **Добавить** для публикации слиянием, чтобы вывести три варианта выбора: **Добавить фильтр**; **Добавить соединение для расширения выбранного фильтра**; **Автоматически создать фильтры**.  
  
-   Выбрать **Добавить фильтр** для запуска диалогового окна **Добавить фильтр** . Это диалоговое окно позволяет применять фильтры строк к статье таблицы. В диалоговом окне **Добавить фильтр** можно, например, указать, что таблица с данными о клиентах должна содержать данные только о французских клиентах при репликации подписчикам.  
  
-   Выберите пункт **Добавить соединение для расширения выбранного фильтра** для перехода в диалоговое окно **Добавление соединения** . Диалоговое окно **Добавление соединения** позволяет расширить фильтр строк таким образом, чтобы он фильтровал данные в таблицах, связанных с таблицей с фильтром строк. Например, если фильтр таблицы заказчиков установлен таким образом, что таблица содержит данные только о французских заказчиках, а также есть связанная с ней таблица клиентских заказов, то можно задать соединение между этими двумя таблицами, чтобы таблица заказов содержала только заказы от французских заказчиков.  
  
    > [!NOTE]  
    >  Этот параметр доступен, только если сначала выбрать базовую таблицу соединения на панели фильтров.  
  
-   Выберите **Автоматически создать фильтры** для запуска диалогового окна **Создать фильтры** . Это диалоговое окно позволяет указать в публикации слиянием фильтр строк для одной таблицы, который репликация автоматически распространяет на другие таблицы, связанные через внешние ключи. Например, публикация может содержать три таблицы: таблицу клиентов, таблицу заказов (с внешним ключом к таблице клиентов), таблицу сведений о заказах (с внешним ключом к таблице заказов). Определите фильтр строк для таблицы о клиентах, и репликация распространит его на остальные таблицы.  
  
    > [!NOTE]  
    >  Когда фильтры создаются автоматически репликацией, все существующие фильтры публикации удаляются. Для включения автоматически созданных фильтров и фильтров, созданных вручную, сначала создайте фильтры. Для каждой публикации можно указать только один набор автоматически созданных фильтров.  
  
 **Правка**  
 Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Изменить** для запуска диалогового окна **Изменение фильтра** или **Изменение соединения** .  
  
 **Удаление**  
 Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Удалить** для его удаления.  
  
 **Найти таблицу**  
 Только для публикаций слиянием. Нажмите **Найти таблицу** для поиска таблицы в сложном дереве фильтров. В базе данных со сложными связями таблица может быть соединена с несколькими таблицами, поэтому она может отображаться несколько раз в дереве фильтров.  
  
 Реальная таблица показана только в одном месте дерева, в других местах она представлена ярлыком. Ярлык таблицы является только ссылкой на нее, и дочерние узлы таблицы не отображаются. Узел ярлыка помечен стрелкой, а при развертывании этого узла будет отображен текст **Чтобы вывести таблицу для \<имя_таблицы>, нажмите кнопку "Поиск таблицы"**.  
  
 Выберите узел ярлыка на панели и нажмите **Найти таблицу** . Панель разворачивается с выделенной таблицей. Если нажать кнопку **Найти таблицу** без указания ссылки на узел, открывается диалоговое окно **Найти таблицу** .  
  
 **Filter**  
 Содержит определение на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] для фильтра, выбранного на панели фильтров.  

## <a name="publication-access-list"></a>Список доступа к публикации
  Страница **Список доступа публикации** в диалоговом окне **Свойства публикации** , позволяет добавлять имена входа, учетные записи и группы в список доступа к публикации и удалять их из него. Список доступа к публикации представляет собой первичный механизм защиты издателя. При создании публикации репликация создает список доступа для этой публикации. Список доступа к публикации, функционирующий также, как и список управления доступом в [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows, содержит список имен входа, учетных записей и групп, которым предоставлен доступ к публикации.  
  
 Когда подписчик подключается к издателю или распространителю и запрашивает доступ к публикации, имя входа подписчика сопоставляется со сведениями проверки подлинности в списке доступа к публикации. Это обеспечивает дополнительную безопасность издателя, так как имена входа издателя и распространителя не могут использоваться клиентскими средствами для внесения изменений непосредственно на издателе. Дополнительные сведения см. в статье [Организация безопасности издателя](../../relational-databases/replication/security/secure-the-publisher.md).  
  
### <a name="options"></a>Параметры  
 **Добавить**  
 Добавить в список новую запись. Можно добавить только те имена входа, учетные записи или группы, которые уже определены и на издателе, и на распространителе. Они определяются на обоих серверах, если используются учетные записи домена или были созданы локальные учетные записи на обоих серверах.  
  
 **Удалить**  
 Удалить выбранную запись из списка.  
  
 **Удалить все**  
 Удалить все записи из списка.  

## <a name="ftp-snapshot-and-internet"></a>Моментальный снимок — FTP и Интернет

-   Устанавливать свойства доставки моментального снимка по протоколу FTP. Дополнительные сведения см. в статье [Доставка моментального снимка через FTP](../../relational-databases/replication/publish/deliver-a-snapshot-through-ftp.md). Для использования FTP в качестве протокола доставки моментальных снимков необходимо настроить FTP-сервер. Дополнительные сведения см. в документации по [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.  
  
    > [!NOTE]  
    >  Изменения любых настроек FTP требуют создания нового моментального снимка.  
  
-   Устанавливать свойства веб-синхронизации для репликации слиянием в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более поздних версиях, что позволяет синхронизировать подписки по протоколу HTTPS (безопасному протоколу передачи гипертекста). Для использования веб-синхронизации необходимо настроить сервер [!INCLUDE[msCoName](../../includes/msconame-md.md)] IIS. Дополнительные сведения см. в статье [Web Synchronization for Merge Replication](../../relational-databases/replication/web-synchronization-for-merge-replication.md).  
  
### <a name="options"></a>Параметры  
 **Доступ к файлам моментальных снимков при помощи FTP**  
 Выберите **Разрешить подписчикам загружать файлы моментальных снимков по протоколу FTP**и укажите **Имя сервера FTP**, **Номер порта**, **Путь из корневой папки FTP**, **Имя пользователя**и **Пароль**, чтобы разрешить подписчикам использовать протокол FTP для доставки моментальных снимков.  
  
 Этот параметр позволяет подписчикам использовать FTP для получения файлов моментальных снимков, но не требует от них это делать. Если этот параметр выбран, мастер создания подписки будет настроен по умолчанию на получение подписчиком файлов моментальных снимков по протоколу FTP. Чтобы изменить этот параметр, используйте диалоговое окно **Свойства подписки** . Если подписчикам разрешается доступ к файлам моментальных снимков по протоколу FTP, задайте FTP-папку в качестве местонахождения файлов моментальных снимков на странице **Снимок** диалогового окна **Свойства публикации** . При этом агент моментальных снимков будет обновлять файлы в FTP-папке автоматически при создании нового моментального снимка. Если в качестве местонахождения не указана FTP-папка, необходимо будет обновлять файлы вручную при создании новых моментальных снимков. Дополнительные сведения см. в статье [Доставка моментального снимка через FTP](../../relational-databases/replication/publish/deliver-a-snapshot-through-ftp.md).  
  
 **Веб-синхронизация**  
 Только репликация слиянием. Выберите **Разрешить синхронизацию подписчиков с помощью соединения с веб-сервером**задайте адрес веб-сервера, чтобы разрешить подписчикам слияний использовать веб-синхронизацию. Веб-сервер должен использовать протокол Secure Sockets Layer (SSL), а веб-адрес должен быть введен в полной форме, например `https://server.domain.com/synchronize`. Дополнительные сведения см. в разделе [Configure Web Synchronization](../../relational-databases/replication/configure-web-synchronization.md).  


## <a name="agent-security"></a>Безопасность агента
  Страница **Безопасность агентов** диалогового окна **Свойства публикации** позволяет получить доступ к параметрам учетных записей, от имени которых запускаются и соединяются с компьютерами в топологии репликации следующие агенты.  
  
-   Агент моментальных снимков для всех публикаций.  
  
-   Агент чтения журнала для всех публикаций транзакций. У каждой базы данных, опубликованной для репликации транзакций, может быть только один агент чтения журнала. Изменение настроек агента чтения журнала затрагивает все публикации транзакций в базе данных.  
  
-   Агент чтения очереди для публикаций транзакций, допускающих подписки, обновляемые посредством очередей. Для каждой базы распространителя существует только один агент чтения очереди. Изменение агента чтения очереди затрагивает все публикации транзакций с обновляемыми посредством очередей подписками, использующими одну и ту же базу данных распространителя. Дополнительные сведения о настройках безопасности для агента чтения очереди см. в статье [Просмотр и изменение параметров безопасности репликации](../../relational-databases/replication/security/view-and-modify-replication-security-settings.md).  
  
 Дополнительные сведения о настройках безопасности и разрешениях, необходимых для каждого агента, см. в разделе [Replication Agent Security Model](../../relational-databases/replication/security/replication-agent-security-model.md).  
  
### <a name="options"></a>Параметры  
 **Настройки безопасности** или **Создать агент**  
 Если задание агента уже было создано, щелкните **Настройки безопасности** , чтобы открыть диалоговое окно для изменения настроек безопасности агента. Если задание агента не было создано, щелкните **Создать агент** , чтобы создать его и задать настройки безопасности.  

## <a name="data-partitions"></a>Секции данных
Секции данных  
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]  
  Страница **Секции данных** диалогового окна **Свойства публикации** позволяет определить секции данных для публикаций слиянием, использующих параметризованную фильтрацию. После определения секций для них можно создать моментальные снимки, предоставляя первоначальные наборы данных для различных подписчиков на основе свойств соединений (имени входа или имени компьютера) подписчиков. Также можно разрешить подписчикам запрашивать доставку и создание моментальных снимков, если для их секции недоступен моментальный снимок в момент их первой синхронизации. Дополнительные сведения см. в статье [Создание моментального снимка для публикации слиянием с параметризованными фильтрами](../../relational-databases/replication/create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).  
  
### <a name="options"></a>Параметры  
 **Добавить**  
 Нажмите кнопку **Добавить** для определения секции. В диалоговом окне **Добавление секции данных** задайте значения для **HOST_NAME()** или **SUSER_SNAME()** и определите расписание обновления моментальных снимков.  
  
 **Изменить**  
 Выберите в сетке существующую секцию и нажмите кнопку **Изменить** для редактирования секции.  
  
 **Удаление**  
 Выберите в сетке существующую секцию и нажмите кнопку **Удалить** для удаления секции.  
  
 **Создать выбранные моментальные снимки**  
 Выберите одну или несколько секций в сетке и выберите параметр **Создать выбранные моментальные снимки** для создания моментальных снимков для этих секций.  
  
 **Очистить существующие моментальные снимки**  
 Выберите одну или несколько секций в сетке и выберите параметр **Очистить существующие моментальные снимки** для очистки моментальных снимков для этих секций.  
  
 **Автоматически определять секцию и, при необходимости, создавать моментальный снимок при попытке синхронизации от нового подписчика**  
 Выберите этот параметр, если нужно разрешить подписчикам запрашивать создание и применение моментальных снимков. Подписчикам может понадобиться этот параметр, если в момент их первой синхронизации для их секции отсутствует моментальный снимок.  

## <a name="snapshot"></a>Моментальный снимок
Моментальный снимок  
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]  
  Страница **Моментальный снимок** диалогового окна **Свойства публикации** позволяет настраивать формат моментальных снимков, указывать месторасположение папки моментальных снимков и скрипты, исполняемые до и после выполнения приложения моментальных снимков. Папка моментальных снимков должна быть в общем доступе и иметь достаточные разрешения для чтения и записи в нее файлов агентами. Дополнительные сведения о надлежащей защите папок см. в статье [Организация безопасности папки моментальных снимков](../../relational-databases/replication/security/secure-the-snapshot-folder.md).  
  
> [!NOTE]  
>  Изменения требуют новый моментальный снимок для публикации. Дополнительные сведения см. в статье [Изменение свойств публикации и статьи](../../relational-databases/replication/publish/change-publication-and-article-properties.md).  
  
### <a name="options"></a>Параметры  
 **Формат моментального снимка**  
 Выберите для формата моментальных снимков собственный или символьный режим.  
  
-   Выберите **Собственный SQL Server — все подписчики должны быть серверами SQL Server** , если все подписчики являются экземплярами [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , не относящимися к [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssEW](../../includes/ssew-md.md)]. Собственный формат моментальных снимков обеспечивает максимальную производительность.    
-   Выберите **Символьный — необходим в том случае, если на стороне издателя или подписчике не используется SQL Server** , если любой из подписчиков использует [!INCLUDE[ssEW](../../includes/ssew-md.md)] или является подписчиком, отличным от[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .    
 **Местоположение файлов моментальных снимков**  
 Выберите местоположение для хранения файлов моментальных снимков. Их можно сохранять в расположении по умолчанию; а также в другом месте, как наряду с местом хранения по умолчанию, так и вместо него. Файлы, хранимые в альтернативном месте хранения, можно сжимать.  
  
-   Выберите **Поместить файлы в папку по умолчанию** , чтобы использовать папку по умолчанию для моментальных снимков издателя. В этом диалоговом окне расположение папки моментальных снимков доступно только для чтения, потому что его можно изменить только для издателя в диалоговом окне **Свойства распространителя** . Дополнительные сведения см. в статье [Изменение свойств моментального снимка](../../relational-databases/replication/snapshot-options.md).    
-   Выберите **Поместить файлы в следующую папку** , чтобы указать другое местоположение файла вместе с его расположением по умолчанию или вместо него. Введите путь в текстовое поле или нажмите **Обзор** для выбора местоположения. Выберите **Выполнять сжатие файлов моментальных снимков в этой папке** , чтобы сжимать файлы в альтернативном местоположении. Альтернативное местоположение может находиться на другом сервере, на сетевом диске, на съемном носителе (например на компакт-диске или съемном диске). Дополнительные сведения см. в статье [Изменение свойств моментального снимка](../../relational-databases/replication/snapshot-options.md).  
  
 **Выполнить дополнительные скрипты**  
 Укажите скрипты, которые необходимо выполнить до и после применения моментального снимка на сервере подписчика. Нельзя указывать скрипты, если **Формат моментального снимка** **Символьный**.  
  
 Скрипты являются необязательными, они позволяют легко выполнять команды и применять административные изменения на серверах подписчиков. Дополнительные сведения о выполнении скриптов см. в статье [Выполнение скриптов до и после применения моментального снимка](../../relational-databases/replication/snapshot-options.md#execute-scripts-before-and-after-snapshot-is-applied).  
  
-   Введите путь в текстовое поле **Перед применением моментального снимка выполните этот скрипт** или нажмите кнопку **Обзор** для указания пути к скрипту.    
-   Введите путь в текстовое поле **После применения моментального снимка выполнить этот скрипт:** или нажмите кнопку **Обзор** для указания пути к скрипту. 
  
## <a name="see-also"></a>См. также:  
 [Create a Publication](../../relational-databases/replication/publish/create-a-publication.md)   
 [Просмотр и изменение свойств публикации](../../relational-databases/replication/publish/view-and-modify-publication-properties.md)   
 [Публикация данных и объектов базы данных](../../relational-databases/replication/publish/publish-data-and-database-objects.md)   

  
  
