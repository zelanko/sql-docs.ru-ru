---
description: Безопасность агента слияния
title: Защита агента слияния | Документация Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql13.rep.security.MA.f1
helpviewer_keywords:
- Merge Agent Security dialog box
ms.assetid: 9b86171a-4381-4b39-869a-cdc161e7cd15
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6d571e5b41937947e0c6d03e5d1a84fe0dc88e8b
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88465276"
---
# <a name="merge-agent-security"></a>Безопасность агента слияния
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
   С помощью диалогового окна **Безопасность агента слияния** можно указать учетную запись Windows [!INCLUDE[msCoName](../../includes/msconame-md.md)], под которой необходимо запускать агент слияния. Агент слияния запускается на распространителе для принудительных подписок и на подписчике для подписок по запросу. На учетную запись Windows можно также ссылаться как на *учетную запись процесса*, потому что процесс агента работает под этой учетной записью. Дополнительные параметры в этом диалоговом окне зависят от метода доступа к нему.  
  
-   Если это диалоговое окно вызывается из мастера создания подписки, можно указать контекст, при котором агент слияния устанавливает соединение с сервером подписчика (для принудительных подписок) или с серверами издателя и распространителя (для подписок по запросу). Соединение можно установить с помощью учетной записи Windows или в контексте указанной учетной записи [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
-   Если это диалоговое окно вызывается из диалогового окна **Свойства подписки** , нажмите кнопку свойств (**...**) в строке **Соединение с подписчиком** или **Соединение с издателем** этого диалогового окна, чтобы определить контекст, при котором агент слияния будет устанавливать соединение. Дополнительные сведения о доступе к диалоговому окну **Свойства подписки** см. в статьях [Просмотр и изменение свойств принудительной подписки](../../relational-databases/replication/view-and-modify-push-subscription-properties.md) и [Просмотр и изменение свойств подписки по запросу](../../relational-databases/replication/view-and-modify-pull-subscription-properties.md).  
  
 Все учетные записи должны быть допустимыми, а для каждой учетной записи должен быть указан правильный пароль. Учетные записи и пароли могут быть проверены только после запуска агента.  
  
## <a name="options"></a>Параметры  
 **Process Account**  
 Введите учетную запись Windows, под которой будет запускаться агент слияния.  
  
-   Для принудительных подписок учетная запись должна удовлетворять следующим условиям:  
  
    -   Она должна быть как минимум членом предопределенной роли базы данных **db_owner** в базе данных распространителя.  
  
    -   Она должна входить в список доступа к публикации.  
  
    -   Она должна иметь имя входа, связанное с пользователем в базе данных публикации.  
  
    -   Она должна иметь разрешение на чтение хранилища моментальных снимков.  
  
-   Для принудительных подписок эта учетная запись должна как минимум быть членом предопределенной роли базы данных **db_owner** в базе данных подписки.  
  
 Если при установке соединений производится олицетворение учетной записи процесса, требуются дополнительные разрешения. См. разделы **Соединиться с распространителем и издателем** и **Соединиться с подписчиком** , приведенные ниже.  
  
 Невозможно указать**Учетную запись процесса** для подписок по запросу на [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], потому что агент слияния не работает на экземплярах [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].  
  
 **Пароль** и **Подтверждение пароля**  
 Введите пароль для учетной записи Windows.  
  
 **Соединиться с распространителем и издателем**  
 Для принудительных подписок соединения с издателем и распространителем всегда выполняются с помощью олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** .  
  
 Для подписок по запросу укажите, должен ли агент слияния устанавливать соединения с издателем и распространителем при помощи олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** , или при помощи учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если выбрано использование учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , введите имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и пароль.  
  
> [!NOTE]  
>  [!INCLUDE[msCoName](../../includes/msconame-md.md)] рекомендует выбирать олицетворение учетной записи Windows, а не учетную запись [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 Учетная запись Windows или учетная запись [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые используются для соединения, должны удовлетворять следующим условиям.  
  
-   Она должна входить в список доступа к публикации.  
  
-   Она должна иметь имя входа, связанное с пользователем в базе данных публикации.  
  
-   быть именем входа, связанным с пользователем в базе данных распространителя (этот пользователь может быть гостем);  
  
-   Она должна иметь разрешение на чтение хранилища моментальных снимков.  
  
 **Соединение с подписчиком**  
 Для подписок по запросу соединения с подписчиком всегда устанавливаются с помощью олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** .  
  
 Для принудительных подписок укажите, должен ли агент слияния устанавливать соединения с издателем и распространителем путем олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** , или при помощи учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если выбрано использование учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , введите имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и пароль.  
  
> [!NOTE]  
>  Рекомендуется использовать олицетворение учетной записи Windows вместо учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 Учетная запись Windows или учетная запись [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые используются для соединения с подписчиком, должны по меньшей мере быть членами предопределенной роли базы данных **db_owner** в базе данных подписки.  
  
## <a name="see-also"></a>См. также  
 [Управление именами для входа и паролями при репликации](../../relational-databases/replication/security/identity-and-access-control-replication.md)   
 [Replication Agent Security Model](../../relational-databases/replication/security/replication-agent-security-model.md)  (Модель безопасности агента репликации)  
 [Обзор агентов репликации](../../relational-databases/replication/agents/replication-agents-overview.md)   
 [Replication Security Best Practices](../../relational-databases/replication/security/replication-security-best-practices.md)   
 [Подписка на публикации](../../relational-databases/replication/subscribe-to-publications.md)  
  
  
