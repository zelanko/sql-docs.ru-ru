---
title: "Мониторинг использования ЦП | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "database-engine"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "мониторинг производительности [SQL Server], загрузка ЦП"
  - "настройка баз данных [SQL Server], загрузка ЦП"
  - "процессоры [SQL Server], мониторинг использования"
  - "производительность базы данных [SQL Server], загрузка ЦП"
  - "наблюдение за уровнем загрузки ЦП [SQL Server]"
  - "производительность сервера [SQL Server], загрузка ЦП"
  - "мониторинг базы данных [SQL Server], загрузка ЦП"
  - "мониторинг [SQL Server], загрузка ЦП"
  - "процессоры [SQL Server]"
  - "ЦП [SQL Server], мониторинг"
  - "мониторинг производительности сервера [SQL Server], загрузка ЦП"
ms.assetid: 2a02a3b6-07b2-4ad0-8a24-670414d19812
caps.latest.revision: 20
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 20
---
# Мониторинг использования ЦП
  Периодически контролируйте экземпляр Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , чтобы определить, находятся ли уровни загрузки ЦП в стандартных диапазонах. Постоянный высокий уровень использования ЦП может указывать на необходимость обновления ЦП или на необходимость добавления нескольких процессоров. Кроме того, высокий уровень использования ЦП может указывать на плохо настроенное или плохо разработанное приложение. Оптимизация работы приложения может снизить уровень загрузки ЦП.  
  
 Эффективным способом определения уровня загрузки ЦП является использование счетчика **Процессор: % загруженности процессора** в служебной программе «Системный монитор». Этот счетчик отслеживает время, которое ЦП тратит на выполнение потока во время работы. Постоянный уровень загрузки ЦП в диапазоне от 80 до 90 % может указывать на необходимость обновления ЦП или на необходимость добавления нескольких процессоров. При работе с многопроцессорными системами следите за отдельным экземпляром упомянутого счетчика для каждого процессора. Это значение представляет суммарное процессорное время указанного процессора. Чтобы определить среднее для всех процессоров, воспользуйтесь вместо этого счетчиком **Система: % общего процессорного времени** .  
  
 Дополнительно можно контролировать следующие счетчики:  
  
-   **Процессор: % работы в привилегированном режиме**  
  
     Соответствует проценту процессорного времени, затраченного на выполнение команд ядра операционной системы Microsoft Windows, таких как обработка запросов ввода-вывода [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Если значение этого счетчика постоянно высокое, в то время как счетчики для объекта **Физический диск** также имеют высокие значения, то необходимо рассмотреть вопрос об установке более быстрой и более эффективной дисковой подсистемы.  
  
    > [!NOTE]  
    >  На обработку запросов от различных контроллеров дисков и самих дисковых накопителей ядром операционной системы тратится различное количество времени. Эффективные контроллеры и дисковые накопители используют меньше привилегированного времени, оставляя больше времени для обработки запросов пользовательских приложений, увеличивая общую пропускную способность.   
  
-   **Процессор: % работы в пользовательском режиме**  
  
     Соответствует проценту времени работы процессора, которое он затрачивает на выполнение пользовательских приложений, например [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
-   **Система: длина очереди процессора**  
  
     Соответствует количеству потоков, ожидающих обработки процессором. Если потокам некоторого процесса требуется больше циклов процессора, чем это возможно, значит, узким местом системы является процессор. Если количество процессов, требующих обработки процессором, велико, необходимо установить более быстрый процессор. Или, в многопроцессорной системе, необходимо добавить еще один процессор.   
  
 При оценке использования процессора необходимо принять во внимание тип работы, выполняемой экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Если [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет много вычислений, таких как запросы на обработку статистических выражений или запросы к рабочей области, не требующие дисковых операций ввода-вывода, то может быть использовано 100 % процессорного времени. Если это приводит к снижению производительности других приложений, попробуйте изменить рабочую нагрузку. Например, выделите компьютер целиком для работы только экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Уровни загрузки ЦП около 100 % при обработке многочисленных запросов клиентов могут указывать на то, что процессы стоят в очереди, ожидая обработки процессором, который является узким местом системы. Данная проблема может быть решена установкой более быстрых процессоров.  
  
  