---
title: Виртуализация внешних данных в SQL Server 2019 CTP 2.0 | Документация Майкрософт
description: Эта страница описывает шаги по использованию мастера создания внешней таблицы для реляционных источников данных
author: Abiola
ms.author: aboke
manager: craigg
ms.date: 12/11/2018
ms.topic: conceptual
ms.prod: sql
ms.technology: polybase
monikerRange: '>= sql-server-ver15 || = sqlallproducts-allversions'
ms.openlocfilehash: a8f5f55dfa0a569ec88542f819e30d21889997e3
ms.sourcegitcommit: 33712a0587c1cdc90de6dada88d727f8623efd11
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/19/2018
ms.locfileid: "53596675"
---
# <a name="use-the-external-table-wizard-with-relational-data-sources"></a>Используйте мастер создания внешней таблицы с реляционными источниками данных

Один из основных сценариев для SQL Server 2019 CTP 2.0 — это возможность выполнять виртуализацию данных. Такой процесс позволяет сохранить данные в исходном расположении. Вы можете *виртуализировать* данные в экземпляре SQL Server и запрашивать их так же, как любую другую таблицу в SQL Server. Это уменьшает необходимость в процессах извлечения, преобразования и загрузки. Реализовать это можно с помощью соединителей PolyBase. Дополнительные сведения о виртуализации данных: [Начало работы с PolyBase](polybase-guide.md).

## <a name="start-the-external-table-wizard"></a>Запуск мастера внешних таблиц

Подключитесь к главному экземпляру, используя IP-адрес/номер порта (31433), полученные по окончании скрипта развертывания. Разверните узел **Базы данных** в обозревателе объектов. Затем выберите одну из баз данных, где необходимо виртуализировать данные из существующего экземпляра SQL Server. Щелкните правой кнопкой мыши базу данных и выберите **Создать внешнюю таблицу**, чтобы запустить мастер виртуализации данных. Вы можете также запустить его в палитре команд. Нажмите клавиши CTRL+SHIFT+P в Windows или CMD+SHIFT+P на Mac.

![Мастер виртуализации данных](media/data-virtualization/virtualize-data-wizard.png)
## <a name="select-a-data-source"></a>Выбор источника данных

Если мастер запущен в одной из баз данных, раскрывающийся список назначения заполняется автоматически. На этой странице также можно ввести или изменить базу данных назначения. Мастер поддерживает внешние источники данных SQL Server и Oracle.

> [!NOTE]
>SQL Server выделен по умолчанию.


![Выбор источника данных](media/data-virtualization/select-data-source.png)

Чтобы продолжить, выберите **Далее**.

## <a name="create-a-database-master-key"></a>Создание главного ключа базы данных

На этом шаге вам нужно создать главный ключ базы данных. Это обязательное условие. Главный ключ позволяет защитить учетные данные, используемые внешним источником. Введите надежный пароль для главного ключа. Также создайте резервную копию главного ключа с помощью команды **BACKUP MASTER KEY**. Сохраните резервную копию в надежном месте вне системы.

![Создание главного ключа базы данных](media/data-virtualization/virtualize-data-master-key.png)

> [!IMPORTANT]
> Если у вас уже есть главный ключ базы данных, поля ввода будут заблокированы и вы сможете пропустить этот шаг. Чтобы продолжить, выберите **Далее**.

> [!NOTE]
> Если вы не указали надежный пароль, это сделает мастер на последнем шаге. Это известная проблема

## <a name="enter-external-data-source-credentials"></a>Указание учетных данных внешнего источника

На этом шаге введите внешний источник и его учетные данные, чтобы создать объект внешнего источника данных. Учетные данные необходимы для подключения объекта базы данных к источнику. Введите имя внешнего источника данных. Например, Test. Укажите сведения о подключении к внешнему источнику данных SQL Server. Введите **Имя сервера** и **Имя базы данных**, в которой нужно создать внешний источник.

Следующий шаг — настройка учетных данных. Введите имя пользователя. Это имя будет использоваться в качестве учетных данных в области базы. Оно позволяет надежно хранить данные для входа в созданный вами внешний источник. Пример: TestCred. Введите имя пользователя и пароль для подключения к источнику данных.

![Учетные данные внешнего источника данных](media/data-virtualization/data-source-credentials.png)

## <a name="external-data-table-mapping"></a>Сопоставление внешних таблиц данных

На следующей странице выберите таблицы, для которых нужно создать внешние представления. При выборе родительских баз данных также включаются дочерние таблицы. После выбора таблиц справа появится таблица сопоставления. Здесь можно вносить изменения в типы. Вы также можете изменить имя выбранной внешней таблицы.

![Учетные данные внешнего источника данных](media/data-virtualization/data-table-mapping.png)

> [!NOTE]
>Чтобы изменить представление сопоставления, дважды щелкните другую выбранную таблицу.

> [!IMPORTANT]
>Инструмент внешних таблиц не поддерживает тип фотографии. Если вы создадите внешнее представление, содержащее тип фотографии, после создания таблицы отобразится ошибка. Однако таблица все равно создается.

## <a name="summary"></a>Сводка

На этом шаге отображается сводка выбранных значений. Она содержит имя учетных данных в области базы и объекты внешнего источника данных, созданные в целевой базе. Выберите **Создать скрипт**, чтобы сгенерировать на T-SQL синтаксис для создания внешнего источника данных. Выберите **Создать**, чтобы сформировать объект внешнего источника данных.

![Экран сводки](media/data-virtualization/virtualize-data-summary.png)

Если вы щелкните **Создать**, в базе данных назначения будет создан объект внешнего источника данных.

![Внешние источники данных](media/data-virtualization/external-data-sources.png)

Если вы выберете **Создать скрипт**, будет сформирован запрос T-SQL для создания объекта внешнего источника данных.

![Сформировать скрипт](media/data-virtualization/generated-script.png)

> [!NOTE]
> Кнопка **Создать скрипт** должна отображаться только на последней странице мастера. Сейчас она отображается на всех страницах.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о кластерах больших данных SQL Server и связанных сценариях: [Что такое кластеры больших данных SQL Server?](../../big-data-cluster/big-data-cluster-overview.md)
