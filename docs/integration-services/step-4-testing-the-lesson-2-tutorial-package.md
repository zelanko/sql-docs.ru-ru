---
title: "Шаг 4. Проверка учебного пакета, созданного на занятии 2 | Microsoft Docs"
ms.custom: ""
ms.date: "02/27/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "integration-services"
ms.tgt_pltfrm: ""
ms.topic: "get-started-article"
applies_to: 
  - "SQL Server 2016"
ms.assetid: 0e8c0a25-8f79-41df-8ed2-f82a74b129cd
caps.latest.revision: 31
author: "douglaslMS"
ms.author: "douglasl"
manager: "jhubbard"
---
# Шаг 4. Проверка учебного пакета, созданного на занятии 2
Используя настроенный контейнер «цикл по каждому элементу» и диспетчер соединений с неструктурированными файлами, можно в пакете, созданном на занятии 2, поочередно обрабатывать коллекцию из 14 неструктурированных файлов в папке образцов данных. Каждый раз при обнаружении имени файла, отвечающего указанным критериям имен файлов, в контейнере «цикл по каждому элементу» это имя подставляется в определенную пользователем переменную. В переменной, в свою очередь, обновляется свойство ConnectionString диспетчера соединений с неструктурированными файлами, после чего выполняется соединение с новым неструктурированным файлом. Затем в контейнере «цикл по каждому элементу» выполняется задача неизмененного потока данных по данным нового неструктурированного файла, после чего устанавливается соединение со следующим файлом в папке.  
  
Для проверки новой функциональности циклов, которая была добавлена в пакет, используйте следующую процедуру.  
  
> [!NOTE]  
> Если вы запускали пакет из занятия 1, то перед запуском пакета из этого занятия необходимо удалить записи из dbo.FactCurrency в AdventureWorksDW2012. В противном случае запуск пакета завершится ошибкой, указывающей на нарушение ограничения первичного ключа. Те же ошибки возникнут в случае, если вы запустите пакет путем выбора из меню пунктов «Отладка или начать отладку» (или нажатия клавиши F5), так как будут запущены и занятие 1, и занятие 2. Инструкция из занятия 2 попытается вставить записи, которые уже были вставлены в занятии 1.  
  
## Проверка макета пакета  
Прежде чем тестировать пакет, следует убедиться, что поток управления и поток данных пакета, созданного на занятии 2, содержит объекты, показанные на следующих диаграммах. Поток данных должен быть идентичен потоку данных в занятии 1.  
  
**Поток управления**  
  
![Control flow in package](../integration-services/media/task4lesson2control.gif "Control flow in package")  
  
**Поток данных**  
  
![Data flow in package](../integration-services/media/task9lesson1data.gif "Data flow in package")  
  
### Тестирование пакета учебника занятия 2  
  
1.  В **обозревателе решений** щелкните правой кнопкой мыши элемент **Lesson 2.dtsx** и выберите команду **Выполнить пакет**.  
  
    Будет начато выполнение пакета. Состояние каждого из циклов можно проверить в окне вывода или на вкладке **Выполнение** . Например можно увидеть, что в целевую таблицу было добавлено 1097 строк из файла Currency_VEB.txt.  
  
2.  После окончания работы пакета выберите в меню **Отладка** пункт **Остановить отладку**.  
  
## Следующее занятие  
[Занятие 5. Добавление конфигураций пакетов SSIS в модель развертывания пакетов](../integration-services/lesson-5-add-ssis-package-configurations-for-the-package-deployment-model.md)  
  
## См. также:  
[Запуск проектов и пакетов](../Topic/Execution%20of%20Projects%20and%20Packages.md)  
  
  
  
