---
title: Руководство. Использование источника OData | Документация Майкрософт
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 2c64cf8b-5edb-48df-8ffe-697096258f71
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 95dceade62e487db05a66df6b7986f23723b1303
ms.sourcegitcommit: b2e81cb349eecacee91cd3766410ffb3677ad7e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "71297770"
---
# <a name="tutorial-using-the-odata-source"></a>Руководство. Использование источника OData

[!INCLUDE[ssis-appliesto](../../includes/ssis-appliesto-ssvrpluslinux-asdb-asdw-xxx.md)]


  Этот учебник содержит процедуру извлечения коллекции **Employees** из образца **Northwind** службы OData (https://services.odata.org/V3/Northwind/Northwind.svc/) ) и последующей ее загрузки в неструктурированный файл.  
  
## <a name="1-create-an-integration-services-project"></a>1. Создание проекта служб Integration Services  
  
1.  Запустите **SQL Server Data Tools** или [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
2.  В меню **Файл**выберите **Создать**, а затем **Проект**.  
  
3.  В диалоговом окне **Создание проекта** разверните пункты **Установлено**, **Шаблоны**, **Бизнес-аналитика**и выберите **Службы Integration Services**.  
  
4.  Выберите **Проект служб Integration Services** в качестве типа проекта.  
  
5.  Введите **имя** и выберите **расположение** для проекта и нажмите кнопку **ОК**.  
  
## <a name="2-add-and-configure-an-odata-source"></a>2. Добавление и настройка источника OData 
  
1.  Перетащите **задачу потока данных** из **панели элементов служб SSIS** в область конструктора потока управления для пакетов служб SSIS.  
  
2.  Перейдите на вкладку **Поток данных** или дважды щелкните элемент **Задача потока данных**, чтобы открыть область конструктора потока данных.  
  
3.  Перетащите **Источник OData** из группы **Общие** на **панель элементов служб SSIS**.
  
4.  Дважды щелкните компонент **Источник OData**, чтобы открыть диалоговое окно **Редактор источника OData**.  
  
5.  Щелкните **Создать…** , чтобы добавить новый диспетчера соединений OData.  
  
6.  Введите URL-адрес службы OData в поле **Расположение сервисного документа**. Это может быть URL-адрес сервисного документа либо определенный веб-канал или сущность. В целях этого учебника введите URL-адрес сервисного документа: [https://services.odata.org/V3/Northwind/Northwind.svc/](https://services.odata.org/V3/Northwind/Northwind.svc/).  
  
7.  Убедитесь, что выбрано **Проверка подлинности Windows** для **проверки подлинности** для использования для доступа к службе OData. **Проверка подлинности Windows** выбрана по умолчанию.  
  
8.  Щелкните **Проверка соединения**, чтобы проверить соединение, и нажмите кнопку **ОК**, чтобы создать экземпляр диспетчера подключений OData.  
  
9. В диалоговом окне **Редактор источника OData** убедитесь, что выбрано значение **Коллекция** для параметра **Использовать коллекцию на пути ресурса** .  
  
10. В раскрывающемся списке **Коллекция** выберите **Employees**.  
  
11. Введите любые дополнительные параметры запроса OData или фильтры для **Параметры запроса**. Например, `$orderby=CompanyName&$top=100`. Для целей этого учебного примера введите `$top=5`.  
  
12. Щелкните **Предварительный просмотр** , чтобы просмотреть данные.  
  
13. Щелкните **Столбцы** на левой панели навигации, чтобы перейти на страницу **Столбцы** .  
  
14. Выберите **EmployeeID**, **FirstName**и **LastName** в **Доступные внешние столбцы** , установив соответствующие флажки.  
  
15. Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Редактор источника OData** .  
  
## <a name="3-add-and-configure-a-flat-file-destination"></a>3. Добавление и настройка назначения "Неструктурированный файл"
  
1.  Теперь перетащите **Назначение "Неструктурированный файл"** из **панели элементов служб SSIS** в область конструктора потока данных, расположенную ниже компонента **Источник OData** .  
  
2.  Подключите компонент **Источник OData** к компоненту **Назначение «Неструктурированный файл»** с помощью синей стрелки.  
  
3.  Дважды щелкните **Назначение "Неструктурированный файл"** . Отобразится диалоговое окно **Редактор назначения «Неструктурированный файл»** .  
  
4.  В диалоговом окне **Редактор назначения «Неструктурированный файл»** щелкните **Создать** , чтобы создать новый диспетчер соединений с неструктурированными файлами.  
  
5.  В диалоговом окне **Формат неструктурированного файла** выберите **С разделителями**. Откроется диалоговое окно **Редактор диспетчера соединений с неструктурированными файлами**.  
  
6.  В диалоговом окне **Редактор диспетчера соединений с неструктурированными файлами** в поле **Имя файла** введите `c:\Employees.txt`.  
  
7.  В левой области панели навигации щелкните **Столбцы**. На этой странице для просмотра данных можно воспользоваться функцией предварительного просмотра.  
  
8.  Нажмите кнопку «ОК», чтобы закрыть диалоговое окно редактора **Диспетчер соединений с неструктурированными файлами** .  
  
9. В диалоговом окне **Редактор назначения «Неструктурированный файл»** щелкните **Сопоставления** на панели навигации слева. Просмотрите сопоставления.  
  
10. Нажмите кнопку «ОК», чтобы закрыть диалоговое окно **Редактор назначения «Неструктурированный файл»** .  

## <a name="4-run-the-package"></a>4. Запуск пакета
Запустите пакет служб SSIS. Убедитесь в том, что выходной файл создается с параметрами "Идентификатор", "Имя" и "Фамилия" для 5 сотрудников из канала OData.
  
  
