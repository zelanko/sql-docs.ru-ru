---
title: Назначение ODBC | Документы Майкрософт
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.ssis.designer.odbcdest.f1
- sql13.ssis.designer.odbcdest.connection.f1
- sql13.ssis.designer.odbcdest.columns.f1
- sql13.ssis.designer.odbcdest.errorhandling.f1
ms.assetid: bffa63e0-c737-4b54-b4ea-495a400ffcf8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 153cbd447fa84087b50501005d0ea457f47d1eda
ms.sourcegitcommit: 58158eda0aa0d7f87f9d958ae349a14c0ba8a209
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2020
ms.locfileid: "71298216"
---
# <a name="odbc-destination"></a>Назначение ODBC

[!INCLUDE[ssis-appliesto](../../includes/ssis-appliesto-ssvrpluslinux-asdb-asdw-xxx.md)]


  Назначение ODBC выполняет массовую загрузку данных в таблицы базы данных с поддержкой ODBC. Назначение ODBC использует диспетчер соединений ODBC для подключения к источнику данных.  
  
 Назначение ODBC включает сопоставления между входными столбцами и столбцами в источнике данных назначения. Нет необходимости сопоставлять входные столбцы всем целевым столбцам, но в зависимости от свойств целевых столбцов могут возникать ошибки, если не задано сопоставление входных столбцов с целевыми столбцами. Например, если целевой столбец не допускает значений NULL, входной столбец должен быть ему сопоставлен. Кроме того, сопоставлены могут быть столбцы различных типов, однако если входные данные несовместимы по типу с данными в целевом столбце, то во время выполнения возникает ошибка. В зависимости от параметра поведения в случае ошибки, ошибка может быть пропущена, может быть вызван сбой, или строка может быть отправлена в вывод ошибок.  
  
 Назначение ODBC имеет один обычный вывод и один вывод ошибок.  
  
##  <a name="load-options"></a><a name="BKMK_odbcdestination_loadoptions"></a> Параметры загрузки  
 Назначение ODBC может использовать один из двух модулей загрузки доступа. Режим задается в [редакторе источника "ODBC" (страница "Диспетчер соединений")](../../integration-services/data-flow/odbc-source-editor-connection-manager-page.md). Доступны два режима.  
  
-   **Batch**. В этом режиме назначение ODBC предпринимает попытки использовать наиболее эффективный метод вставки на основе предполагаемых возможностей поставщика ODBC. Для большинства современных поставщиков ODBC это означает подготовку инструкции INSERT с параметрами, а затем использование построчной привязки параметров массива (где размером массива управляет свойство **BatchSize** ). Если выбран режим **Batch** , а поставщик не поддерживает этот способ выборки, назначение ODBC автоматически переключается на режим **Row-by-row** .  
  
-   **Row-by-row**. В этом режиме назначение ODBC подготавливает инструкцию INSERT с параметрами и использует задачу **Выполнение SQL** для вставки строк друг за другом.  
  
## <a name="error-handling"></a>Обработка ошибок  
 Назначение ODBC имеет вывод ошибок. Вывод ошибок компонента включает следующие выходные столбцы.  
  
-   **Код ошибки**. Номер, который соответствует текущей ошибке. Список ошибок см. в документации по конкретной базе данных-источнику. Список кодов ошибок служб SSIS см. в «Справочнике по кодам ошибок и сообщениям служб SIS».  
  
-   **Столбец с ошибкой**. Входной столбец, вызывающий ошибку (это относится к ошибкам преобразования).  
  
-   Стандартные устройства вывода столбцов данных.  
  
 В зависимости от параметра поведения в случае ошибки, назначение ODBC поддерживает возврат ошибок (преобразование данных, усечение), которые обнаруживаются в процессе извлечения в выводе ошибок. Дополнительные сведения см. в разделе [Редактор источника "ODBC" (страница "Вывод ошибок")](../../integration-services/data-flow/odbc-source-editor-error-output-page.md).  
  
## <a name="parallelism"></a>Parallelism  
 Какие-либо ограничения на количество компонентов назначения ODBC, которые могут запускаться параллельно по отношению к одной и той же таблице или к разным таблицам, на одном и том же компьютере или на разных компьютерах (кроме обычных глобальных предельных параметров сеанса), отсутствуют.  
  
 Однако количество параллельных соединений через поставщика может быть ограничено в используемом поставщике ODBC. Эти ограничения задают количество параллельных экземпляров, которые могут поддерживаться для назначения ODBC. Разработчик служб SSIS должен знать ограничения всех используемых поставщиков ODBC и учитывать их при построении пакетов служб SSIS.  
  
 Необходимо также учитывать, что одновременная загрузка в одну и ту же таблицу может привести к уменьшению производительности из-за стандартной блокировки записей. Это зависит от загружаемых данных и от организации таблицы.  
  
## <a name="troubleshooting-the-odbc-destination"></a>Устранение нарушений в работе назначения ODBC  
 Предусмотрена возможность вести журнал вызовов к внешним поставщикам данных, выполняемых источником ODBC. Эту возможность ведения журнала можно использовать для устранения нарушений, связанных с сохранением данных во внешних источниках данных, выполняемым назначением ODBC. Для ведения журнала вызовов к внешним поставщикам данных, выполняемых назначением ODBC, включите трассировку диспетчера драйвера ODBC. Дополнительные сведения см. в документации Майкрософт по теме *Как формировать трассировку ODBC с помощью администратора источника данных ODBC*.  
  
## <a name="configuring-the-odbc-destination"></a>Настройка назначения ODBC  
 Назначение ODBC можно настраивать программным путем или с помощью конструктора служб SSIS  
  
 Дополнительные сведения см. в одном из следующих разделов:  
  
-   [Редактор назначения ODBC (страница "Диспетчер соединений")](../../integration-services/data-flow/odbc-destination-editor-connection-manager-page.md)  
  
-   [Редактор назначения ODBC (страница "Сопоставления")](../../integration-services/data-flow/odbc-destination-editor-mappings-page.md)  
  
-   [Редактор назначения ODBC (страница "Вывод ошибок")](../../integration-services/data-flow/odbc-destination-editor-error-output-page.md)  
  
 Диалоговое окно **Расширенный редактор** содержит свойства, которые могут быть заданы программным путем.  
  
 Открытие диалогового окна **Расширенный редактор** .  
  
-   На экране **Поток данных** конкретного проекта [!INCLUDE[ssISCurrent](../../includes/ssiscurrent-md.md)] щелкните правой кнопкой мыши назначение ODBC и выберите пункт **Показать расширенный редактор**.  
  
 Дополнительные сведения о свойствах, которые вы можете задать в диалоговом окне «Расширенный редактор», см. в разделе [ODBC Destination Custom Properties](../../integration-services/data-flow/odbc-destination-custom-properties.md).  
  
## <a name="in-this-section"></a>в этом разделе  
  
-   [Загрузка данных с помощью назначения «ODBС»](../../integration-services/data-flow/load-data-by-using-the-odbc-destination.md)  
  
-   [Пользовательские свойства назначения «ODBC»](../../integration-services/data-flow/odbc-destination-custom-properties.md)  
  
## <a name="odbc-destination-editor-connection-manager-page"></a>Редактор назначения «ODBC» (страница «Диспетчер соединений»)
  Страница **Диспетчер соединений** диалогового окна **Редактор назначения ODBC** используется для выбора диспетчера соединений ODBC для назначения. На этой странице также можно выбрать таблицу или представление базы данных  
  
 **Открытие страницы диспетчера соединений в редакторе назначения ODBC**  
  
### <a name="task-list"></a>Список задач  
  
-   В среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]откройте пакет служб [!INCLUDE[ssISCurrent](../../includes/ssiscurrent-md.md)] , содержащий назначение ODBC.  
  
-   На вкладке **Поток данных** дважды щелкните назначение ODBC.  
  
-   В окне **Редактор назначения ODBC**нажмите кнопку **Диспетчер соединений**.  
  
### <a name="options"></a>Параметры  
  
#### <a name="connection-manager"></a>Диспетчер соединений  
 Выберите из списка существующий диспетчер соединений ODBC или нажмите кнопку «Создать», чтобы создать новое соединение. Соединение может устанавливаться с любой базой данных, поддерживающей ODBC.  
  
#### <a name="new"></a>Создать  
 Нажмите кнопку **Создать**. Откроется диалоговое окно **Настройка редактора диспетчера соединений ODBC** , где можно создать новый диспетчер соединений.  
  
#### <a name="data-access-mode"></a>Режим доступа к данным  
 Выберите метод загрузки данных в назначение. Доступные параметры показаны в следующей таблице.  
  
|Параметр|Description|  
|------------|-----------------|  
|Имя таблицы — пакетом|Выберите этот параметр, чтобы настроить назначение ODBC для работы в пакетном режиме. Если выбран этот параметр, становятся доступны следующие параметры.|  
||**Имя таблицы или представления**: выберите доступную таблицу или представление из списка.<br /><br /> Этот список содержит только первые 1000 таблиц. Если база данных содержит больше 1000 таблиц, можно ввести начальную часть имени таблицы или воспользоваться подстановочным знаком (\*), чтобы ввести любую часть имени для вывода нужных таблиц.<br /><br /> **Размер пакета**: введите размер пакета для массовой загрузки. Это количество строк, загружаемых в виде одного пакета.|  
|Имя таблицы — построчно|Выберите этот параметр, чтобы настроить назначение ODBC для вставки каждой строки в целевую таблицу по отдельности. Если выбран этот параметр, становится доступен следующий параметр.|  
||**Имя таблицы или представления**: выберите доступную таблицу или представление базы данных из списка.<br /><br /> Этот список содержит только первые 1000 таблиц. Если база данных содержит больше 1000 таблиц, можно ввести начальную часть имени таблицы или воспользоваться символом-шаблоном (*), чтобы ввести любую часть имени для вывода нужных таблиц.|  
  
#### <a name="preview"></a>Preview (Предварительный просмотр)  
 Нажмите кнопку **Просмотр** , чтобы просмотреть первые строки (до 200) данных для выбранной таблицы.  
  
## <a name="odbc-destination-editor-mappings-page"></a>Редактор назначения ODBC (страница «Сопоставления»)
  Страница **Сопоставления** диалогового окна **Редактор назначения ODBC** используется для сопоставления входных столбцов с целевыми столбцами.  
  
### <a name="options"></a>Параметры  
  
#### <a name="available-input-columns"></a>Доступные входные столбцы  
 Список доступных входных столбцов. Перетащите входной столбец в доступный целевой столбец, чтобы сопоставить эти столбцы.  
  
#### <a name="available-destination-columns"></a>Доступные целевые столбцы  
 Список доступных целевых столбцов. Перетащите целевой столбец в доступный входной столбец, чтобы сопоставить эти столбцы.  
  
#### <a name="input-column"></a>Входной столбец  
 Позволяет просматривать выбранные входные столбцы. Сопоставления можно удалить, выбрав вариант **\<игнорировать>** , чтобы исключить столбцы из выходных данных.  
  
#### <a name="destination-column"></a>Целевой столбец  
 Просмотрите все доступные целевые столбцы, сопоставленные и несопоставленные.  
  
## <a name="odbc-destination-editor-error-output-page"></a>Редактор назначения «ODBC» (страница «Вывод ошибок»)
  Страница **Вывод ошибок** диалогового окна **Редактор назначения ODBC** используется для выбора параметров обработки ошибок.  
  
 **Открытие страницы «Вывод ошибок» редактора назначения ODBC**  
  
### <a name="task-list"></a>Список задач  
  
-   В среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]откройте пакет служб [!INCLUDE[ssISCurrent](../../includes/ssiscurrent-md.md)] , содержащий назначение ODBC.  
  
-   На вкладке **Поток данных** дважды щелкните назначение ODBC.  
  
-   В окне **Редактор назначения ODBC**нажмите кнопку **Вывод ошибок**.  
  
### <a name="options"></a>Параметры  
  
#### <a name="inputoutput"></a>Ввод-вывод  
 Просмотр имени источника данных.  
  
#### <a name="column"></a>Столбец  
 Не используется.  
  
#### <a name="error"></a>Ошибка  
 Выберите порядок обработки ошибок в потоке назначением ODBC: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
#### <a name="truncation"></a>Усечение  
 Выберите порядок обработки усечений в потоке назначением ODBC: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
#### <a name="description"></a>Description  
 Просмотрите описание ошибки.  
  
#### <a name="set-this-value-to-selected-cells"></a>Присвоить указанное значение выбранным ячейкам  
 Выберите, как назначение ODBC обрабатывает все выбранные ячейки при возникновении ошибки или усечения: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
#### <a name="apply"></a>Применить  
 Примените параметры обработки ошибок к выбранным ячейкам.  
  
### <a name="error-handling-options"></a>Параметры обработки ошибок  
 Следующие параметры позволяют настроить обработку ошибок и усечений назначением ODBC.  
  
#### <a name="fail-component"></a>Компонент, завершившийся сбоем  
 Задача потока данных заканчивается сбоем, если возникли ошибка или усечение. Это поведение по умолчанию.  
  
#### <a name="ignore-failure"></a>Пропуск неудачи  
 Ошибка или усечение пропускается.  
  
#### <a name="redirect-flow"></a>Перенаправление потока  
 Строка, вызывающая ошибку или усечение, направляется на вывод ошибок назначения ODBC. Дополнительные сведения см. в разделе, посвященном назначению ODBC.  
  
