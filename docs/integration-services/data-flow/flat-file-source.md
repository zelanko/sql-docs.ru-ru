---
description: источник «Неструктурированный файл»
title: Источник "Неструктурированный файл" | Документы Майкрософт
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.dts.designer.flatfilesource.f1
- sql13.dts.designer.flatfilesourceadapter.connection.f1
- sql13.dts.designer.flatfilesourceadapter.columns.f1
- sql13.dts.designer.flatfilesourceadapter.errorhandling.f1
helpviewer_keywords:
- sources [Integration Services], Flat File
- text file reading [Integration Services]
- flat files
- Flat File source
ms.assetid: 4a64f7f3-f25d-4db0-93b3-a29496030e58
author: chugugrace
ms.author: chugu
ms.openlocfilehash: c52bae62d70212ea735ec9d0d7eb25cf8af76551
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88477862"
---
# <a name="flat-file-source"></a>источник «Неструктурированный файл»

[!INCLUDE[sqlserver-ssis](../../includes/applies-to-version/sqlserver-ssis.md)]


  Источник «Неструктурированный файл» считывает данные из текстового файла. Текстовый файл может иметь разделители, фиксированную ширину полей или смешанный формат.  
  
-   В формате с разделителями для выделения столбцов и строк используются разделители столбцов и строк.  
  
-   В формате с фиксированной шириной для определения столбцов и строк используются параметры ширины. Этот формат также включает символ для заполнения поля до его максимальной ширины.  
  
-   В формате без выравнивания справа для выделения всех столбцов, кроме последнего, используются параметры ширины; для последнего столбца используется разделитель строк.  
  
 Источник «Неструктурированный файл» можно настроить следующими способами.  
  
-   Добавьте к выходу преобразования столбец, содержащий имя текстового файла, из которого источник «Неструктурированный файл» извлекает данные.  
  
-   Укажите, распознает ли источник «Неструктурированный файл» строки с нулевой длиной в столбцах как значения NULL.  
  
    > [!NOTE]  
    >  Диспетчер соединений с неструктурированными файлами, используемый источником «Неструктурированный файл», должен быть настроен для использования формата с разделителями, чтобы распознавать строки с нулевой длиной как NULL. Если диспетчер соединений использует форматы фиксированной ширины или форматы без выравнивания справа, то данные, состоящие из пробелов, не могут быть представлены как значения NULL.  
  
 Выходные столбцы на выходе источника "Неструктурированный файл" содержат свойство Flat File. Значение свойства Flat File показывает, использует ли столбец более быстрые, но не зависящие от локали процедуры ускоренного синтаксического анализа, предоставляемые службами [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , или стандартные процедуры, зависящие от локали. Дополнительные сведения см. в разделах [Fast Parse](https://msdn.microsoft.com/library/6688707d-3c5b-404e-aa2f-e13092ac8d95) и [Standard Parse](https://msdn.microsoft.com/library/dfe835b1-ea52-4e18-a23a-5188c5b6f013).  
  
 Выходные столбцы также содержат свойство UseBinaryFormat. Используйте это свойство для реализации поддержки двоичных данных, таких как данные с упакованным десятичным форматом, в файлах. По умолчанию свойство UseBinaryFormat имеет значение **false**. Если необходимо использовать двоичный формат, присвойте свойству UseBinaryFormat значение **true** и тип данных **DT_BYTES**в выходном столбце. После этого источник «Неструктурированный файл» будет пропускать преобразование данных и выводить данные в выходные столбцы в первоначальном виде. Затем можно использовать такое преобразование, как "Производный столбец" или "Конвертация данных", чтобы привести данные типа **DT_BYTES** к другим типам данных, или можно создать пользовательский скрипт в преобразовании "Скрипт" для интерпретации данных. Также для интерпретации данных можно создать пользовательский компонент потока данных. Дополнительные сведения о том, какие типы данных можно привести к типу **DT_BYTES**, см. в разделе [Приведение (выражение служб SSIS)](../../integration-services/expressions/cast-ssis-expression.md).  
  
 Этот источник использует диспетчер соединений с неструктурированными файлами, чтобы получить доступ к текстовому файлу. Установка свойств для диспетчера соединений с неструктурированными файлами позволяет предоставить сведения о файле и о каждом из его столбцов, а также обозначить то, как источник «Неструктурированный файл» должен обрабатывать данные текстового файла. Например, можно определить символы-разделители для столбцов и строк в файле, тип данных и длину каждого столбца. Дополнительные сведения см. в статье [Flat File Connection Manager](../../integration-services/connection-manager/flat-file-connection-manager.md).  
  
 Данный источник содержит один выход и один выход ошибок.  
  
## <a name="configuration-of-the-flat-file-source"></a>Настройка источника «Неструктурированный файл»  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Диалоговое окно **Расширенный редактор** содержит свойства, которые можно установить с помощью программных средств. Дополнительные сведения о свойствах, которые вы можете задать в диалоговом окне **Расширенный редактор** или программными средствами, см. в следующих разделах.  
  
-   [Общие свойства](https://msdn.microsoft.com/library/51973502-5cc6-4125-9fce-e60fa1b7b796)  
  
-   [Пользовательские свойства неструктурированного файла](../../integration-services/data-flow/flat-file-custom-properties.md)  
  
## <a name="related-tasks"></a>Связанные задачи  
 Дополнительные сведения о настройке свойств для компонента потока данных см. в разделе [Установление свойств компонента потока данных](../../integration-services/data-flow/set-the-properties-of-a-data-flow-component.md).  
  
## <a name="flat-file-source-editor-connection-manager-page"></a>Редактор источника «Неструктурированный файл» (страница «Диспетчер соединений»)
  Для выбора диспетчера соединений, который будет использоваться источником «Неструктурированный файл», используется страница **Диспетчер соединений** диалогового окна **Редактор источника «Неструктурированный файл»** . Источник «Неструктурированный файл» считывает данные из текстового файла, который может содержать разделители, поля фиксированной ширины или иметь смешанный формат.  
  
 Источник «Неструктурированный файл» может использовать один из следующих типов диспетчера соединений.  
  
-   Диспетчер соединений с неструктурированными файлами, если источник является отдельным неструктурированным файлом. Дополнительные сведения см. в статье [Flat File Connection Manager](../../integration-services/connection-manager/flat-file-connection-manager.md).  
  
-   Диспетчер соединения с несколькими неструктурированными файлами, если источник представлен несколькими неструктурированными файлами и задачей потока данных внутри контейнера цикла (например, контейнера «цикл по элементам»). В каждом цикле контейнера источник неструктированных файлов загружает данные из следующего имени файла, которое предоставляет диспетчер соединения с несколькими неструктурированными файлами. Дополнительные сведения см. в разделе [Multiple Flat Files Connection Manager](../../integration-services/connection-manager/multiple-flat-files-connection-manager.md).  
  
### <a name="options"></a>Параметры  
 **Flat file connection manager**  
 Выберите существующий диспетчер соединений из списка или создайте новый диспетчер соединений, нажав кнопку **Создать**.  
  
 **Создать**  
 Создайте новый диспетчер соединений с помощью диалогового окна **Редактор диспетчера соединений с неструктурированными файлами** .  
  
 **Оставлять значения NULL из источника в потоке данных**  
 Укажите, нужно ли сохранять значения NULL при извлечении данных. Значение по умолчанию этого свойства равно **false**. Когда значение равно f**alse**, источник неструктурированных файлов заменяет значения NULL из данных источника соответствующими значениями по умолчанию для каждого столбца, например пустыми строками для строковых столбцов и нулями для числовых столбцов.  
  
 **Предварительный просмотр**  
 Осуществляйте предварительный просмотр результатов в диалоговом окне **Просмотр данных** . В окне «Предварительный просмотр» может отображаться до 200 строк.  
  
## <a name="flat-file-source-editor-columns-page"></a>Редактор источника «Неструктурированный файл» (страница «Столбцы»)
  С помощью узла **Столбцы** диалогового окна **Редактор источника "Неструктурированный файл"** можно сопоставлять выходной столбец с каждым внешним (исходным) столбцом.  
  
> [!NOTE]  
>  Свойство **FileNameColumnName** источника «Неструктурированный файл» и свойство **FastParse** его выходных столбцов недоступны в **Редакторе источника «Неструктурированный файл»**, однако их можно задать с помощью **Расширенного редактора**. Дополнительные сведения об этих свойствах см. в подразделе «Источник "Неструктурированный файл"» раздела [Flat File Custom Properties](../../integration-services/data-flow/flat-file-custom-properties.md).  
  
### <a name="options"></a>Параметры  
 **Доступные внешние столбцы**  
 Просмотр списка доступных внешних столбцов источника данных. В этой таблице нельзя добавлять или удалять столбцы.  
  
 **Внешний столбец**  
 Просмотр внешних (исходных) столбцов в том порядке, в котором их будет считывать задача. Этот порядок можно изменить, вначале очистив выделенные столбцы в таблице, а затем выбрав в списке внешние столбцы в другом порядке.  
  
 **Выходной столбец**  
 Введите уникальное имя для каждого выходного столбца. По умолчанию используется имя выбранного внешнего (исходного) столбца, однако можно выбрать любое уникальное описательное имя. Выбранное имя будет отображаться в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] .  
  
## <a name="flat-file-source-editor-error-output-page"></a>Редактор источника «Неструктурированный файл» (страница «Вывод ошибок»)
  На странице **Вывод ошибок** диалогового окна **Редактор источника "Неструктурированный файл"** можно задать параметры обработки ошибок и определить свойства столбцов для вывода ошибок.  
  
### <a name="options"></a>Параметры  
 **Ввод-вывод**  
 Просмотр имени источника данных.  
  
 **Столбец**  
 Просмотрите внешние (исходные) столбцы, выбранные на странице **Диспетчер соединений** диалогового окна **Редактор источника "Неструктурированный файл"**.  
  
 **Error**  
 Задайте действие, которое необходимо выполнить при возникновении ошибки: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
 **См. также:** [Обработка ошибок в данных](../../integration-services/data-flow/error-handling-in-data.md)  
  
 **Усечение**  
 Укажите, что нужно сделать при усечении: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
 **Описание**  
 Просмотреть описание ошибки.  
  
 **Присвоить указанное значение выбранным ячейкам**  
 Укажите действие, которое необходимо применить ко всем выбранным ячейкам при возникновении ошибки или усечения: пропустить ошибку, перенаправить строку или вызвать сбой компонента.  
  
 **Применить**  
 Применить параметр обработки ошибок к выбранным ячейкам.  
  
## <a name="see-also"></a>См. также:  
 [Назначение «Неструктурированный файл»](../../integration-services/data-flow/flat-file-destination.md)   
 [Поток данных](../../integration-services/data-flow/data-flow.md)  
  
  
