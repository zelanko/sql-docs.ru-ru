---
title: Преобразование "Выборка строк" | Документы Майкрософт
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.dts.designer.rowsamplingtrans.f1
- sql13.DTS.DESIGNER.ROWSAMPLINGTRANSFORMATION.COLUMNS.F1
- sql13.dts.designer.rowsamplingtransformation.f1
helpviewer_keywords:
- sampling seeds [Integration Services]
- random seeds
- random sampling
- sample data sets [Integration Services]
- Row Sampling transformation
- packages [Integration Services], samples
- datasets [Integration Services], sample
ms.assetid: b6caafd3-30b2-4368-82af-a44611d4cd39
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.openlocfilehash: 60c2615cf141f145f2353df5309105b0ed535fc1
ms.sourcegitcommit: 0638b228980998de9056b177c83ed14494b9ad74
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/14/2018
ms.locfileid: "51641271"
---
# <a name="row-sampling-transformation"></a>преобразование «Выборка строк»
  Преобразование «Выборка строк» используется для получения случайно выбранного подмножества входного набора данных. Можно указать точный размер получаемого образца и задать начальное значение для генератора случайных чисел.  
  
 Случайная выборка может применяться в различных ситуациях. Например, если в какой-то компании требуется случайным образом выбрать 50 сотрудников для получения призов в лотерее, можно воспользоваться преобразованием «Выборка строк» в базе данных сотрудников, чтобы сформировать точное число победителей.  
  
 Преобразование «Выборка строк» используется также во время разработки пакета, чтобы создать небольшой, но репрезентативный набор данных. С помощью репрезентативного набора данных выполнение пакета и преобразование данных можно протестировать гораздо быстрее за счет использования случайной выборки вместо полного набора данных. Поскольку выбранный набор данных, используемый в тестовом пакете, всегда одного и того же размера, с помощью выбранного подмножества легче распознать проблемы производительности в пакете.  
  
 Это преобразование имеет сходство с преобразованием «Процентная выборка», которое создает набор данных с помощью выбора количества строк, заданного в процентах. См. раздел [Percentage Sampling Transformation](../../../integration-services/data-flow/transformations/percentage-sampling-transformation.md).  
  
## <a name="configuring-the-row-sampling-transformation"></a>Настройка преобразования «Выборка строк»  
 Преобразование «Выборка строк» создает набор данных с помощью извлечения заданного количества строк со входа преобразования. Поскольку выбор строк со входа преобразования происходит случайным образом, результирующая выборка содержит репрезентативный набор входных данных. Можно задать начальное значение генератора случайных чисел, чтобы изменить выбор строк преобразованием.  
  
 Использование одного и того же начального значения на одном и том же входе преобразования всегда приводит к созданию одной и той же выходной выборки. Если начальное значение для создания случайного номера не указано, преобразование использует счетчик тактов операционной системы. Поэтому для проверки результатов преобразования во время разработки и тестирования пакета нужно использовать одно и то же начальное значение, которое изменяется на случайное, когда пакет выпускается в производственную среду.  
  
 Преобразование «Выборка строк» включает в себя пользовательское свойство **SamplingValue** . Это свойство может быть обновлено выражением свойства при загрузке пакета. Дополнительные сведения см. в разделах [Выражения служб Integration Services (SSIS)](../../../integration-services/expressions/integration-services-ssis-expressions.md), [Использование выражений свойств в пакетах](../../../integration-services/expressions/use-property-expressions-in-packages.md) и [Пользовательские свойства преобразований](../../../integration-services/data-flow/transformations/transformation-custom-properties.md).  
  
 Преобразование имеет один вход и два выхода. Оно не имеет выхода ошибок.  
  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../../includes/ssis-md.md)] или программными средствами.  
  
 Диалоговое окно **Расширенный редактор** содержит свойства, которые можно установить с помощью программных средств. Дополнительные сведения о свойствах, которые вы можете задать в диалоговом окне **Расширенный редактор** или программными средствами, см. в следующих разделах.  
  
-   [Общие свойства](https://msdn.microsoft.com/library/51973502-5cc6-4125-9fce-e60fa1b7b796)  
  
-   [Пользовательские свойства преобразований](../../../integration-services/data-flow/transformations/transformation-custom-properties.md)  
  
 Дополнительные сведения об установке свойств см. в разделе:  
  
## <a name="row-sampling-transformation-editor-sampling-page"></a>Редактор преобразования «Выборка строк» (страница выборки)
  Диалоговое окно **Редактор преобразования «Выборка строк»** используется для деления на части входных данных в выборке, используя указанное количество строк. Это преобразование разделяет входные данные на два отдельных вывода.  
  
### <a name="options"></a>Параметры  
 **Число строк**  
 Задайте количество строк из входных данных для использования в качестве выборки.  
  
 Значение этого свойства можно задать с помощью выражения свойства.  
  
 **Имя выхода выборки**  
 Задайте уникальное имя выхода, содержащего строки выборки. Указанное имя будет отображаться в конструкторе служб SSIS.  
  
 **Имя вывода невыбранных элементов**  
 Задает уникальное имя выхода, который содержит строки, исключенные из выборки. Указанное имя будет отображаться в конструкторе служб SSIS.  
  
 **Использовать следующее начальное значение**  
 Задайте начальное значение выборки для генератора случайных чисел, который преобразование использует для создания выборки. Рекомендуется только для разработки и тестирования. Если начальное значение выборки не задано, преобразование использует счетчик сигналов времени Microsoft Windows.  
  
## <a name="related-tasks"></a>Связанные задачи  
 [Установление свойств компонента потока данных](../../../integration-services/data-flow/set-the-properties-of-a-data-flow-component.md)  
  
  
