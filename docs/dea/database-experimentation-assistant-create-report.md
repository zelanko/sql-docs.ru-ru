---
title: Создание аналитических отчетов
description: Создание аналитических отчетов в Database Experimentation Assistant
ms.date: 01/24/2020
ms.prod: sql
ms.prod_service: dea
ms.suite: sql
ms.technology: dea
ms.tgt_pltfrm: ''
ms.topic: conceptual
author: HJToland3
ms.author: jtoland
ms.reviewer: mathoma
ms.custom: seo-lt-2019
ms.openlocfilehash: f82aba87632abea4ac5fbc8b54daa6dfd0eb5b4a
ms.sourcegitcommit: 4baa8d3c13dd290068885aea914845ede58aa840
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79289842"
---
# <a name="create-analysis-reports-in-database-experimentation-assistant-sql-server"></a>Создание аналитических отчетов в Database Experimentation Assistant (SQL Server)

После воспроизведения исходной трассировки на обоих целевых серверах можно создать аналитический отчет в Database Experimentation Assistant (ДЕА). Аналитические отчеты помогают получить представление о влиянии предлагаемых изменений на производительность.

## <a name="create-an-analysis-report"></a>Создание аналитического отчета

1. В ДЕА щелкните значок списка, укажите имя сервера и тип проверки подлинности, установите или снимите флажки **Шифровать соединение** и **доверять сертификату сервера** в соответствии с ситуацией, а затем нажмите кнопку **подключить**.

   ![Подключение к серверу с помощью файлов трассировки](./media/database-experimentation-assistant-create-report/dea-connect-to-server-with-trace-files.png)

2. На экране **аналитические отчеты** выберите **новый аналитический отчет**.

   ![Создать новый отчет об анализе](./media/database-experimentation-assistant-create-report/dea-create-an-analysis-report.png)

3. На экране **Новый отчет об анализе** укажите имя отчета, место хранения и путь к файлам трассировки целевого объекта 1 и целевой версии 2, а затем нажмите кнопку **запустить**.

   ![Укажите новый отчет об анализе](./media/database-experimentation-assistant-create-report/dea-new-analysis-report-details.png)

   Если введенная информация действительна, то создается отчет об анализе.

   ![Вновь созданный отчет об анализе](./media/database-experimentation-assistant-create-report/dea-newly-created-analysis-report.png)

      > [!NOTE]
      > Если какая-либо из введенных сведений недействительна, текстовые поля, содержащие неверные данные, выделяются красным цветом. Внесите необходимые исправления и нажмите кнопку **запустить** еще раз.

## <a name="frequently-asked-questions-about-analysis-reports"></a>Часто задаваемые вопросы об аналитических отчетах

**Вопрос. что делает мой отчет анализа?**

ДЕА использует статистические тесты для анализа рабочей нагрузки и определения того, как каждый запрос выполнялся с целевого 1 до целевого. 2. Он предоставляет подробные сведения о производительности для каждого запроса. Дополнительные сведения о ДЕА см. в статье [Приступая к работе](database-experimentation-assistant-get-started.md).

**Вопрос. можно ли создать новый отчет об анализе во время создания другого отчета?**

Нет.  В настоящее время для предотвращения конфликтов можно создать только один отчет за раз. Однако можно одновременно запустить несколько записей и воспроизвести их.

**Вопрос. можно ли создать аналитический отчет с помощью командной строки?**

Да. Отчет анализа можно создать в командной строке. Затем можно просмотреть отчет в пользовательском интерфейсе. Дополнительные сведения см. [в разделе Запуск в командной строке](database-experimentation-assistant-run-command-prompt.md).

## <a name="troubleshoot-analysis-reports"></a>Устранение неполадок аналитических отчетов

**Вопрос. какие разрешения безопасности требуются для создания и просмотра отчета об анализе на моем сервере?**

Пользователь, вошедший в Деа, должен иметь права системного администратора на сервере анализа данных. Если пользователь входит в группу, убедитесь, что у группы есть права системного администратора.

|Возможные ошибки|Решение|  
|---|---|  
|Не удалось подключиться к базе данных. Убедитесь, что у вас есть права sysadmin для анализа и просмотра отчетов.|Возможно, у вас нет прав доступа или роли sysadmin для сервера или базы данных. Подтвердите права входа и повторите попытку.|  
|Не удалось создать **имя отчета** для **имени сервера**сервера. Дополнительные сведения см. в отчете **имя отчета** .|Возможно, у вас нет прав sysadmin, необходимых для создания нового отчета. Чтобы просмотреть подробные ошибки, выберите отчет с ошибками и проверьте журналы в папке% temp%\\ДЕА.|  
|У текущего пользователя нет необходимых разрешений для выполнения операции. Убедитесь, что у вас есть права sysadmin для выполнения трассировки и анализа отчетов.|У вас нет прав sysadmin, необходимых для создания нового отчета.|  

**Вопрос. не удается подключиться к компьютеру, на котором работает SQL Server**

- Убедитесь, что имя компьютера, на котором работает SQL Server, является допустимым. Для подтверждения попробуйте подключиться к серверу с помощью SQL Server Management Studio (SSMS).
- Убедитесь, что конфигурация брандмауэра не блокирует подключения к компьютеру, на котором работает SQL Server.
- Убедитесь, что у пользователя есть необходимые права пользователя.

Дополнительные сведения можно просмотреть в журналах в папке% temp%\\ДЕА. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.

**Вопрос. при создании отчета по анализу отображается сообщение об ошибке**

Доступ к Интернету необходим при первом создании отчета об анализе после установки ДЕА. Для загрузки пакетов, необходимых для статистического анализа, необходим доступ к Интернету.

При возникновении ошибки во время создания отчета на странице Выполнение отображается конкретный шаг, на котором произошел сбой при создании анализа. Дополнительные сведения можно просмотреть в журналах в папке% temp%\\ДЕА. Убедитесь в наличии допустимого соединения с сервером с необходимыми правами пользователя и повторите попытку. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.

|Возможные ошибки|Решение|  
|---|---|  
|Ринтероп ошибка при запуске. Проверьте журналы Ринтероп и повторите попытку.|ДЕА требуется доступ к Интернету для загрузки зависимых пакетов R. Проверьте журналы Ринтероп в каталоге% temp\\% РИНТЕРОП и ДЕА в папке% temp\\% ДЕА. Если Ринтероп был инициализирован неправильно или если он был инициализирован без правильных пакетов R, то после шага Инитиализеринтероп в журналах ДЕА может отобразиться исключение «не удалось создать отчет об анализе».<br><br>Кроме того, в журналах Ринтероп может отображаться сообщение об ошибке "пакет жсонлите недоступен". Если у компьютера нет доступа к Интернету, необходимо вручную скачать необходимый пакет жсонлите R:<br><br><li>Перейдите в папку% UserProfile%\\деарпаккажес в файловой системе компьютера. Эта папка состоит из пакетов, используемых R для ДЕА.</li><br><li>Если в списке установленных пакетов отсутствует папка жсонлите, требуется компьютер с доступом к Интернету для загрузки окончательной версии жсонлите\_1.4. zip из. [https://cran.r-project.org/web/packages/jsonlite/index.html](https://cran.r-project.org/web/packages/jsonlite/index.html)</li><br><li>Скопируйте ZIP-файл на компьютер, на котором вы используете ДЕА.  Извлеките папку жсонлите и скопируйте ее в% UserProfile%\\деарпаккажес. Этот шаг автоматически устанавливает пакет жсонлите в R. Папка должна называться **жсонлите** , а содержимое — непосредственно внутри папки, а не на одном уровне ниже.</li><br><li>Закройте Деа, снова откройте и повторите анализ.</li><br>Можно также использовать RGUI. Последовательно выберите **пакеты** > **установить с ZIP**. Перейдите к загруженному ранее пакету и установите.<br><br>Если Ринтероп был инициализирован и настроен правильно, вы увидите раздел "Установка зависимого пакета R жсонлите" в журналах Ринтероп.|  
|Не удалось подключиться к экземпляру SQL Server. Убедитесь, что имя сервера указано правильно, и проверьте наличие необходимого доступа для пользователя, выполнившего вход.|Возможно, у вас нет доступа или прав пользователя на сервер, либо имя сервера может быть неправильным.|
|Истекло время ожидания процесса Ринтероп. Проверьте журналы ДЕА и Ринтероп, закройте процесс Ринтероп в диспетчере задач и повторите попытку.<br><br>или диспетчер конфигурации служб<br><br>Ринтероп находится в состоянии сбоя. В диспетчере задач закройте процесс Ринтероп и повторите попытку.|Проверьте журналы в% Temp%\\ринтероп, чтобы подтвердить ошибку. Прежде чем повторить попытку, удалите процесс Ринтероп из диспетчера задач. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.|

**Вопрос. отчет создается, но данные, по-видимому, отсутствуют**

Проверьте базу данных на компьютере анализа, на котором работает SQL Server, чтобы убедиться, что данные существуют. Убедитесь, что база данных анализа существует и проверьте ее таблицы. Например, проверьте следующие таблицы: Тблбатчеса, Тблбатчесб и Тблсуммаристатс.

Если данные не существуют, возможно, данные скопированы неправильно или база данных повреждена. Если отсутствуют только некоторые данные, файлы трассировки, созданные в записи или воспроизведении, могут не захватывать рабочую нагрузку точно. Если данные существуют, проверьте файлы журнала в папке% temp%\\Деа, чтобы узнать, были ли зарегистрированы ошибки. Затем повторите попытку, чтобы создать аналитический отчет.

Больше вопросов или отзывов? Отправьте отзыв с помощью инструмента Деа, щелкнув значок смайлика в левом нижнем углу.

## <a name="see-also"></a>См. также раздел

- Сведения о просмотре отчета об анализе см. в разделе [Просмотр отчетов](database-experimentation-assistant-view-report.md).
