---
title: Запуск отладчика Transact-SQL
ms.prod: sql
ms.technology: scripting
ms.topic: conceptual
helpviewer_keywords:
- Transact-SQL debugger, sysadmin requirement
- Transact-SQL debugger, supported versions
- Query Editor [Database Engine], right-click menu
- debugging [SQL Server], T-SQL debugger
- Transact-SQL debugger, Query Editor shortcut menu
- Transact-SQL debugger, stopping
- Transact-SQL debugger, Debug menu
- debugging [SQL Server]
- Transact-SQL debugger, Debug toolbar
- Transact-SQL debugger, keyboard shortcuts
- Transact-SQL debugger, starting
ms.assetid: 386f6d09-dbec-4dc7-9e8a-cd9a4a50168c
author: markingmyname
ms.author: maghan
ms.reviewer: ''
ms.custom: seo-lt-2019
ms.date: 03/14/2017
monikerRange: '>=aps-pdw-2016||=azuresqldb-current||=azure-sqldw-latest||>=sql-server-2016||=sqlallproducts-allversions||>=sql-server-linux-2017||=azuresqldb-mi-current'
ms.openlocfilehash: 471a69f76a9cb663267e6d1b8c5e8c10614912bf
ms.sourcegitcommit: b78f7ab9281f570b87f96991ebd9a095812cc546
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2020
ms.locfileid: "75253792"
---
# <a name="run-the-transact-sql-debugger"></a>Запуск отладчика Transact-SQL

[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]

Запустить отладчик [!INCLUDE[tsql](../../includes/tsql-md.md)] можно после открытия окна редактора запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] . После этого можно начать выполнение кода [!INCLUDE[tsql](../../includes/tsql-md.md)] в режиме отладки до остановки отладчика. Можно задать параметры и настроить работу отладчика.

[!INCLUDE[ssms-old-versions](../../includes/ssms-old-versions.md)]

## <a name="starting-and-stopping-the-debugger"></a>Запуск и остановка отладчика

Для запуска отладчика [!INCLUDE[tsql](../../includes/tsql-md.md)] необходимо соблюдение следующих требований.

- Если редактор запросов [!INCLUDE[ssDE](../../includes/ssde-md.md)] подключен к экземпляру компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] на другом компьютере, следует настроить отладчик для удаленной отладки. Дополнительные сведения см. в разделе [Настройка правил брандмауэра перед запуском отладчика TSQL](../../relational-databases/scripting/configure-firewall-rules-before-running-the-tsql-debugger.md).
  
- [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] должна работать под учетной записью Windows, которая является членом предопределенной роли сервера sysadmin.

- Окно редактора запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] должно быть подключено с помощью имени входа для проверки подлинности Windows или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которое является членом предопределенной роли сервера sysadmin.
  
- Окно редактора запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] должно быть подключено к экземпляру компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] из [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 2 (SP2) или более поздней версии. Когда окно редактора запросов подключено к экземпляру, работающему в однопользовательском режиме, отладчик запустить невозможно.  
  
 Исходя из следующих соображений, рекомендуется отлаживать код [!INCLUDE[tsql](../../includes/tsql-md.md)] на тестовом, а не на рабочем сервере.
  
- Отладка — это операция с высокими привилегиями. Поэтому проводить отладку в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]разрешается только членам предопределенной роли сервера sysadmin.
  
- Зачастую сеансы отладки продолжаются длительное время, когда исследуется действие нескольких инструкций [!INCLUDE[tsql](../../includes/tsql-md.md)] . Блокировки, например блокировки обновлений, полученные сеансом, могут сохраняться продолжительное время до окончания сеанса либо до фиксации или отката транзакции.  
  
 При запуске отладчика [!INCLUDE[tsql](../../includes/tsql-md.md)] окно редактора запросов переходит в режим отладки. Когда окно редактора запросов переходит в режим отладки, отладчик останавливается на первой строке кода. После этого можно пошагово выполнять код, приостанавливать выполнение на определенных инструкциях [!INCLUDE[tsql](../../includes/tsql-md.md)] , а также просматривать текущее состояние выполнения при помощи окон отладчика. Запустить отладчик можно либо нажав кнопку **Отладка** на панели инструментов **Запрос** , либо выбрав команду **Начать отладку** в меню **Отладка** .  
  
 Окно редактора запросов остается в режиме отладки до завершения выполнения последней инструкции в окне редактора запросов либо до выхода из режима отладки. Остановить выполнение инструкций и выйти из режима отладки можно одним из следующих способов.  
  
- В меню **Отладка** выберите команду **Остановить отладку**.  
  
- На панели инструментов **Отладка** нажмите кнопку **Остановить отладку** .  
  
- В меню **Запрос** выберите команду **Отменить выполнение запроса**.  
  
- На панели инструментов **Запрос** нажмите кнопку **Отменить выполнение запроса** .  
  
 Кроме того, можно выйти из режима отладки и завершить выполнение оставшихся инструкций [!INCLUDE[tsql](../../includes/tsql-md.md)] , выбрав команду **Отсоединить все** в меню **Отладка** .  
  
## <a name="controlling-the-debugger"></a>Управление отладчиком

 Управлять работой отладчика [!INCLUDE[tsql](../../includes/tsql-md.md)] можно при помощи следующих команд меню, панелей инструментов и сочетаний клавиш.  
  
- Меню **Отладка** и панель инструментов **Отладка** . И меню **Отладка** и панель инструментов **Отладка** остаются неактивными, пока фокус не будет переведен на открытое окно редактора запросов. Они остаются активными до закрытия текущего проекта.  
  
- Сочетания клавиш отладчика.  
  
- Контекстное меню редактора запросов Контекстное меню открывается при щелчке правой клавишей мыши строки в окне редактора запросов. Когда окно редактора запросов находится в режиме отладки, в контекстном меню отображаются команды отладчика, которые применяются к выделенной строке.  
  
- Пункты меню и контекстные команды в окнах, которые открываются отладчиком, например окно **Просмотр значения** или **Точки останова** .  
  
 В следующей таблице приведены команды меню отладчика, кнопки панелей инструментов и сочетания клавиш.  
  
|Команда меню «Отладка»|Команда контекстного меню редактора|Кнопка на панели инструментов|Сочетания клавиш|Действие|  
|------------------------|-----------------------------|--------------------|-----------------------|------------|  
|**Окна/Точки останова**|Недоступно|**Точки останова**|CTRL + ALT + B|Отображает окно **Точки останова** , в котором можно просматривать и управлять точками останова.|  
|**Окна/Просмотр значений/Просмотр значений1**|Недоступно|**Точки останова/Просмотр значений/Просмотр значений1**|CTRL+ALT+W, 1|Отображает окно **Просмотр значений1** .|  
|**Окна/Просмотр значений/Просмотр значений2**|Недоступно|**Точки останова/Просмотр значений/Просмотр значений2**|CTRL+ALT+W, 2|Отображает окно **Просмотр значений2** .|  
|**Окна/Просмотр значений/Просмотр значений3**|Недоступно|**Точки останова/Просмотр значений/Просмотр значений3**|CTRL+ALT+W, 3|Отображает окно **Просмотр значений3** .|  
|**Окна/Просмотр значений/Просмотр значений4**|Недоступно|**Точки останова/Просмотр значений/Просмотр значений4**|CTRL + ALT + W, 4|Отображает окно **Просмотр значений4** .|  
|**Окна/Локальные значения**|Недоступно|**Точки останова/Локальные значения**|CTRL + ALT + V, L|Отображает окно **Локальные значения** .|  
|**Окна/Стек вызовов**|Недоступно|**Точки останова/Стек вызовов**|CTRL + ALT + C|Отображает окно **Стек вызовов** .|  
|**Окна/Потоки**|Недоступно|**Точки останова/Потоки**|CTRL + ALT + H|Отображает окно **Потоки** .|  
|**Продолжить**|Недоступно|**Продолжить**|ALT + F5|Выполнить код до следующей точки останова. Кнопка**Продолжить** не активна, пока фокус не будет переведен на окно редактора запросов, которое находится в режиме отладки.|  
|**Начать отладку**|Недоступно|**Начать отладку**|ALT + F5|Перевод окна редактора запросов в режим отладки и выполнение кода до первой точки останова. Если окно редактора запросов, находящегося в режиме отладки, в фокусе, кнопка **Начать отладку** заменяется на кнопку **Продолжить**.|  
|**Приостановить все**|Недоступно|**Приостановить все**|CTRL + ALT + BREAK|Эта функция не используется отладчиком [!INCLUDE[tsql](../../includes/tsql-md.md)] .|  
|**Остановить отладку**|Недоступно|**Остановить отладку**|SHIFT + F5|Выводит окно редактора запросов из режима отладки и возвращает его в обычный режим.|  
|**Отсоединить все**|Недоступно|Недоступно|Недоступно|Выход из режима отладки, но продолжение выполнения оставшихся инструкций в окне редактора запросов.|  
|**Шаг с заходом**|Недоступно|**Шаг с заходом**|F11|Выполнение следующей инструкции, а также открытие нового окна редактора запросов в режиме отладки, если следующая инструкция запускает хранимую процедуру, триггер или функцию.|  
|**Шаг с обходом**|Недоступно|**Шаг с обходом**|F10|То же, что и **Шаг с заходом**, только при использовании этой команды функции, хранимые процедуры или триггеры не отлаживаются.|  
|**Шаг с выходом**|Недоступно|**Шаг с выходом**|SHIFT+F11|Выполнение остающегося в триггере, функции или хранимой процедуре кода без паузы в точках останова. Переход в обычный режим отладки осуществляется, когда контроль возвращается коду, вызвавшему этот модуль.|  
|Недоступно|**Выполнить до курсора**|Недоступно|CTRL + F10|Выполнение всего кода от последнего места остановки до текущего места расположения курсора без остановки в точках останова.|  
|**быстрая проверка**|**быстрая проверка**|Недоступно|CTRL + ALT + Q|Отображает окно **Быстрая проверка** .|  
|**Переключить точку останова**|**Точка останова/Вставить точку останова**|Недоступно|F9|Размещает точку останова на текущей или выделенной инструкции [!INCLUDE[tsql](../../includes/tsql-md.md)] .|  
|Недоступно|**Точка останова/Удалить точку останова**|Недоступно|Недоступно|Удаляет точку останова из выделенной строки.|  
|Недоступно|**Точка останова/Отключить точку останова**|Недоступно|Недоступно|Отключает точку останова в выделенной строке. Точка останова остается в строке кода, но до ее повторного включения она не будет останавливать выполнение кода.|  
|Недоступно|**Точка останова/Включить точку останова**|Недоступно|Недоступно|Включает точку останова в выделенной строке.|  
|**Удалить все точки останова**|Недоступно|Недоступно|CTRL+SHIFT+F9|Удаляет все точки останова.|  
|**Отключить все точки останова**|Недоступно|Недоступно|Недоступно|Отключает все точки останова.|  
|Недоступно|**Добавить контрольное значение**|Недоступно|Недоступно|Добавление выделенного выражения в окно **Контрольные значения** .|  
  
## <a name="see-also"></a>См. также:

- [Отладчик Transact-SQL](../../relational-databases/scripting/transact-sql-debugger.md)
- [Пошаговая отладка кода Transact-SQL](../../relational-databases/scripting/step-through-transact-sql-code.md)
- [Сведения отладчика Transact-SQL](../../relational-databases/scripting/transact-sql-debugger-information.md)
- [Редактор запросов компонента Database Engine (среда SQL Server Management Studio)](../../relational-databases/scripting/database-engine-query-editor-sql-server-management-studio.md)
- [Динамическая статистика запросов](../../relational-databases/performance/live-query-statistics.md)