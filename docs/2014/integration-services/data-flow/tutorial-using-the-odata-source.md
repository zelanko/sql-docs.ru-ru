---
title: Учебник. Использование источника OData [SSIS] | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 2c64cf8b-5edb-48df-8ffe-697096258f71
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6affa33374df4bd8e05e6158a23a46016ef1c644
ms.sourcegitcommit: 34278310b3e005d008cd2106a7b86fc6e736f661
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "85429891"
---
# <a name="tutorial-using-the-odata-source-ssis"></a>Учебник. Использование источника OData [SSIS]
  Этот учебник содержит процедуру извлечения коллекции **Employees** из образца **Northwind** службы OData (http://services.odata.org/V3/Northwind/Northwind.svc/) ) и последующей ее загрузки в неструктурированный файл.  
  
## <a name="1-create-an-integration-services-project"></a>1. Создание проекта служб Integration Services  
  
1.  Запустите **SQL Server Data Tools** или [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
2.  В меню **Файл**выберите **Создать**, а затем **Проект**.  
  
3.  В диалоговом окне **Создание проекта** разверните пункты **Установлено**, **Шаблоны**, **Бизнес-аналитика**и выберите **Службы Integration Services**.  
  
4.  Выберите **Проект служб Integration Services** в качестве типа проекта.  
  
5.  Введите **имя** и выберите **расположение** для проекта и нажмите кнопку **ОК**.  
  
## <a name="2-add-and-configure-odata-source-to-the-ssis-package"></a>2. Добавление и настройка источника OData для пакетов служб SSIS  
  
1.  Перетащите **задачу потока данных** из **панели элементов служб SSIS** в область конструктора потока управления для пакетов служб SSIS.  
  
2.  Перейдите на вкладку **Поток данных** и дважды щелкните добавленный элемент **Задача потока данных** , чтобы запустить **Область конструктора потока данных**.  
  
3.  Перетащите **Источник OData** из группы **Общие** на **панель элементов служб SSIS**. Если **Источник OData** устанавливается в первый раз, то он отобразится в группе **Общие** на **панели элементов служб SSIS**.  
  
4.  Дважды щелкните компонент **Источник OData** , чтобы открыть диалоговое окно **Редактор источника OData** .  
  
5.  Щелкните **Создать…**, чтобы добавить новый диспетчера соединений OData.  
  
6.  Введите URL-адрес службы OData в поле **Расположение сервисного документа**. Это может быть URL-адрес сервисного документа либо определенный канал или сущность. Для целей данного учебника введите [http://services.odata.org/V3/Northwind/Northwind.svc/](http://services.odata.org/V3/Northwind/Northwind.svc/) .  
  
7.  Убедитесь, что выбрано **Проверка подлинности Windows** для **проверки подлинности** для использования для доступа к службе OData. **Проверка подлинности Windows** выбрана по умолчанию. Чтобы использовалась обычная проверка подлинности, выберите **Использовать указанные имя пользователя и пароль**.  
  
8.  Щелкните **Проверка соединения** и нажмите кнопку **ОК** , чтобы создать экземпляр диспетчера соединений с OData.  
  
9. В диалоговом окне **Редактор источника OData** убедитесь, что выбрано значение **Коллекция** для параметра **Использовать коллекцию на пути ресурса** .  
  
10. В раскрывающемся списке **Коллекция** выберите **Employees**.  
  
11. Введите любые дополнительные параметры запроса OData или фильтры для **Параметры запроса**. Например: $orderby=CompanyName&$top=100. Для целей данного учебного примера введите **$top=5**.  
  
12. Щелкните **Предварительный просмотр** , чтобы просмотреть данные.  
  
13. Щелкните **Столбцы** на левой панели навигации, чтобы перейти на страницу **Столбцы** .  
  
14. Выберите **EmployeeID**, **FirstName**и **LastName** в **Доступные внешние столбцы** , установив соответствующие флажки.  
  
15. Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Редактор источника OData** .  
  
## <a name="3-add-flat-file-destination-and-test-the-solution"></a>3. Добавление назначения неструктурированных файлов и тестирование решения  
  
1.  Теперь перетащите **Назначение "Неструктурированный файл"** из **панели элементов служб SSIS** в область конструктора потока данных, расположенную ниже компонента **Источник OData** .  
  
2.  Подключите компонент **Источник OData** к компоненту **Назначение «Неструктурированный файл»** с помощью синей стрелки.  
  
3.  Дважды щелкните **Назначение "Неструктурированный файл"**. Отобразится диалоговое окно **Редактор назначения «Неструктурированный файл»** .  
  
4.  В диалоговом окне **Редактор назначения «Неструктурированный файл»** щелкните **Создать** , чтобы создать новый диспетчер соединений с неструктурированными файлами.  
  
5.  В диалоговом окне **Формат неструктурированного файла** выберите **С разделителями**. Отобразится диалоговое окно **Редактор диспетчера соединений с неструктурированными файлами** .  
  
6.  В диалоговом окне **Редактор диспетчера соединений с неструктурированными файлами** в поле **Имя файла**введите путь **c:\Employees.txt**.  
  
7.  В левой области панели навигации щелкните **Столбцы**. На этой странице для просмотра данных можно воспользоваться функцией предварительного просмотра.  
  
8.  Нажмите кнопку «ОК», чтобы закрыть диалоговое окно редактора **Диспетчер соединений с неструктурированными файлами** .  
  
9. В диалоговом окне **Редактор назначения «Неструктурированный файл»** щелкните **Сопоставления** на панели навигации слева. Просмотрите сопоставления.  
  
10. Нажмите кнопку «ОК», чтобы закрыть диалоговое окно **Редактор назначения «Неструктурированный файл»** .  
  
11. Скомпилируйте и выполните пакет служб SSIS. Убедитесь, что выходной файл создается с параметрами «Идентификатор», «Имя» и «Фамилия» для 5 сотрудников из канала OData.  
  
  
