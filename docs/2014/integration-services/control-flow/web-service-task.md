---
title: Задача "Веб-служба" | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.webservicetask.f1
helpviewer_keywords:
- Web Service task [Integration Services]
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
author: janinezhang
ms.author: janinez
manager: craigg
ms.openlocfilehash: f21a5f938b2dcd7b90fa71ab946d2986b0633987
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "62829405"
---
# <a name="web-service-task"></a>Задача «Веб-служба»
  Задача «Веб-служба» выполняет метод веб-службы. Возможно использование задачи «Веб-служба» в следующих целях:  
  
-   Запись в переменную значений, возвращаемых методом веб-службы. Например, можно получить самую высокую температуру дня из метода веб-службы с последующим использованием ее значения для обновления переменной, которая используется в выражении, задающем значение столбца.  
  
-   Запись в файл значений, возвращаемых методом веб-службы. Например, список потенциальных покупателей может быть записан в файл, который затем используется в качестве источника данных в пакете, очищающем данные перед их занесением в базу данных.  
  
## <a name="wsdl-file"></a>WSDL-файл  
 Для подключения к веб-службе задача «Веб-служба» использует диспетчер HTTP-соединений. Редактор диспетчера HTTP-соединений сконфигурирован отдельно от задачи «Веб-служба», ссылка на него содержится в задаче. Диспетчер HTTP-соединений указывает настройки прокси-сервера, такие как URL-адрес сервера, учетные записи для доступа к веб-службе и длительность времени ожидания. Дополнительные сведения см. в статье [Диспетчер HTTP-соединений](../connection-manager/http-connection-manager.md).  
  
> [!IMPORTANT]  
>  Диспетчер HTTP-соединений поддерживает только анонимную проверку подлинности и обычную проверку подлинности. Проверка подлинности Windows не поддерживается.  
  
 Диспетчер HTTP-соединений может указывать на веб-сайт или на файл языка описания веб-служб (язык WSDL). URL-адрес диспетчера HTTP-подключений, указывающий на WSDL-файл, содержит параметр `?WSDL` , например `http://MyServer/MyWebService/MyPage.asmx?WSDL`.  
  
 Чтобы настроить задачу «Веб-служба», используя диалоговое окно **Редактор задачи «Веб-служба»** , которое предоставляет конструктор [!INCLUDE[ssIS](../../includes/ssis-md.md)] , WSDL-файл должен быть доступен локально.  
  
-   Если диспетчер HTTP-соединений указывает на веб-сайт, то WSDL-файл должен быть скопирован на локальный компьютер вручную.  
  
-   Если диспетчер HTTP-соединений указывает на WSDL-файл, то файл можно сделать локальным, загрузив его с веб-сайта при помощи задачи «Веб-служба».  
  
 WSDL-файл перечисляет методы, предлагаемые веб-службой; входные параметры, запрашиваемые методами; ответы, возвращаемые методами; а также метод обмена данными с веб-службой.  
  
 Если метод использует входные параметры, то задача «Веб-служба» запрашивает значения параметров. Например, метод веб-службы рекомендует длину приобретаемых лыж, основываясь на росте покупателя, поэтому требует, чтобы рост был записан во входном параметре. Значения параметра можно задать строками, определенными в задаче, или переменными, определенными в области видимости задачи или родительского контейнера. Преимущество использования переменных в том, что они позволяют динамически обновлять значения параметров с помощью конфигураций пакетов или скриптов. Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](../integration-services-ssis-variables.md) и [Конфигурации пакета](../package-configurations.md).  
  
 Многие методы веб-службы не используют входные параметры. Например, метод веб-службы, выдающий имена сотрудников, рожденных в текущем месяце, не запрашивает входного параметра, потому что веб-служба может определить текущий месяц локально.  
  
 Результаты метода веб-службы могут быть записаны в переменную или в файл. Используйте диспетчер подключений файла для указания файла или для указания имени переменной, в которую записывается результат. Дополнительные сведения см. в разделах [Диспетчер соединения файлов](../connection-manager/file-connection-manager.md) и [Переменные в службах Integration Services (SSIS)](../integration-services-ssis-variables.md).  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a>Пользовательские сообщения для ведения журнала, доступные в задаче «Веб-служба»  
 В следующей таблице перечислены пользовательские записи в журнале для задачи «Веб-служба». Дополнительные сведения см. в разделах [Ведение журналов в службах Integration Services (SSIS)](../performance/integration-services-ssis-logging.md) и [Пользовательские сообщения для ведения журнала](../custom-messages-for-logging.md).  
  
|Запись журнала|Описание|  
|---------------|-----------------|  
|`WSTaskBegin`|Задача получила доступ к веб-службе.|  
|`WSTaskEnd`|Задача завершила метод веб-службы.|  
|`WSTaskInfo`|Описательные сведения об этой задаче.|  
  
## <a name="configuration-of-the-web-service-task"></a>Настройка задачи «Веб-служба»  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах:  
  
-   [Редактор задачи "Веб-служба" (страница "Общие")](../general-page-of-integration-services-designers-options.md)  
  
-   [Редактор задачи "Веб-служба" (страница "Ввод")](../web-service-task-editor-input-page.md)  
  
-   [Редактор задачи "Веб-служба" (страница "Вывод")](../web-service-task-editor-output-page.md)  
  
-   [Страница "Выражения"](../expressions/expressions-page.md)  
  
 Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:  
  
-   [Задание свойств задач или контейнеров](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a>Программная настройка задачи «Веб-служба»  
 Дополнительные сведения о программной настройке этих свойств см. в следующих разделах:  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a>См. также  
 Видео с руководством по [ вызвать веб-службу с помощью задачи "Веб-служба" (видеоматериал по SQL Server)](https://go.microsoft.com/fwlink/?LinkId=259642) на портале technet.microsoft.com.  
  
 [Как использовать веб-службу через пакет служб SSIS](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).  
  
  
