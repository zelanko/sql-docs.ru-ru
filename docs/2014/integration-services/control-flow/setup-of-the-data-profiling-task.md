---
title: Установка задачи "Профилирование данных" | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Data Profiling task [Integration Services], configuring
ms.assetid: fe050ca4-fe45-43d7-afa9-99478041f9a8
author: janinezhang
ms.author: janinez
manager: craigg
ms.openlocfilehash: 1d2378426a3cd55b6df183cac7782d63578e2ed0
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "62830227"
---
# <a name="setup-of-the-data-profiling-task"></a>Установка задачи «Профилирование данных»
  Перед просмотром профиля исходных данных необходимо сначала настроить и выполнить задачу «Профилирование данных». Эта задача создается в пакете служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Задача «Профилирование данных» настраивается с помощью редактора задачи «Профилирование данных». Этот редактор позволяет выбрать расположение, в которое будут выводиться профили, в том числе профили, требуемые для вычисления. После настройки задачи запускается пакет, вычисляющий профили данных.  
  
## <a name="requirements-and-limitations"></a>Требования и ограничения  
 Задача «Профилирование данных» работает только с данными, хранящимися в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Она не работает с источниками данных сторонних разработчиков и с файловыми источниками данных.  
  
 Кроме того, для запуска пакета, содержащего задачу «Профилирование данных», необходимо использовать учетную запись с разрешениями на чтение и запись базы данных tempdb, включая разрешение CREATE TABLE.  
  
## <a name="data-profiling-task-in-a-package"></a>Задача «Профилирование данных» в пакете  
 Задача «Профилирование данных» только настраивает профили и создает выходной файл, который содержит вычисляемые профили. Для просмотра этого файла используется средство просмотра профиля данных (изолированная программа просмотра). Поскольку выходные данные следует просматривать раздельно, задачу «Профилирование данных» можно использовать в пакете, не содержащем других задач.  
  
 Однако не обязательно использовать задачу «Профилирование данных» в качестве единственной задачи в пакете. Если необходимо выполнить профилирование данных в рабочем процессе или потоке данных более сложного пакета, можно использовать один из следующих режимов:  
  
-   Чтобы реализовать условную логику, основанную на выходном файле задачи, поместите в потоке управления пакета задачу «Скрипт» после задачи «Профилирование данных». После этого можно использовать данную задачу «Скрипт» для выполнения запросов к выходному файлу.  
  
-   Для профилирования данных в потоке данных после их загрузки и преобразования необходимо временно сохранить измененные данные в таблице [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . После этого можно выполнить профилирование сохраненных данных.  
  
 Дополнительные сведения см. в разделе [Включение задачи "Профилирование данных" в рабочий процесс пакета](incorporate-a-data-profiling-task-in-package-workflow.md).  
  
## <a name="setup-of-the-task-output"></a>Настройка выходных данных задачи  
 После добавления в пакет задачи «Профилирование данных» необходимо настроить файл выходных данных для профилей, которые будет вычислять эта задача. Для настройки выходного формата профилей используется страница **Общие** редактора задачи "Профилирование данных". Помимо указания целевого объекта для выходных данных, на странице **Общие** предусмотрена возможность выбора быстрого профиля данных. При выборе функции **Быстрый профиль** задача "Профилирование данных" профилирует таблицу или представление с использованием некоторых или всех профилей и их параметров по умолчанию.  
  
 Дополнительные сведения см. в разделе [Редактор задачи "Профилирование данных" (страница "Общие")](../general-page-of-integration-services-designers-options.md) и [Форма быстрого профиля одной таблицы (задача "Профилирование данных")](data-profiling-task.md).  
  
> [!IMPORTANT]  
>  В выходном файле могут содержаться конфиденциальные данные о базе данных и о содержащихся в ней данных. Рекомендации по повышению защищенности этого файла см. в разделе [Доступ к файлам, используемым пакетами](../access-to-files-used-by-packages.md).  
  
## <a name="selection-and-configuration-of-the-profiles-to-be-computed"></a>Выбор и настройка профилей для вычисления  
 После настройки файла выходных данных необходимо выбрать профили данных для вычисления. Задача «Профилирование данных» может вычислять восемь различных профилей данных. Пять из них анализируют отдельные столбцы, а остальные три анализируют несколько столбцов или связи между столбцами и таблицами. В рамках одной задачи «Профилирование данных» можно вычислить несколько профилей для нескольких столбцов или сочетаний столбцов из нескольких таблиц или представлений.  
  
 В приведенной ниже таблице описаны отчеты, вычисляемые каждым из этих профилей, а также типы данных, для которых профиль является допустимым.  
  
|Для вычисления|Это позволяет определить|Используемый профиль|  
|----------------|-------------------------|----------------------|  
|Все различающиеся размеры строковых значений в выбранном столбце, а также процентную долю строк в таблице, которые представляют каждый размер.|**Недопустимые строковые значения**— например, профиль столбца, который должен использовать два символа для кодов состояния в США, но обнаруживает значения длиннее двух символов.|**Распределение длины столбцов —** Допустимо для столбца с одним из следующих типов данных:<br /><br /> Символьные типы данных `char`: `nchar`, `varchar`, и`nvarchar`|  
|Набор регулярных выражений, охватывающий указанную процентную долю значений строкового столбца.<br /><br /> Кроме того, для поиска регулярных выражений, которые могут быть использованы в будущем для проверки новых значений.|**Строковые значения, которые не являются допустимыми или имеют неправильный формат** . Например,{5}профиль шаблона столбца ZIP Code/почтовый индекс может создавать регулярные выражения: \d-\d{4}, \d{5}и \d.{9} Если выходные данные содержат другие регулярные выражения, то данные, содержащие значения, либо недопустимы, либо имеют неверный формат.|**Профиль шаблона столбца —** Допустимо для столбца с одним из следующих типов данных:<br /><br /> Символьные типы данных `char`: `nchar`, `varchar`, и`nvarchar`|  
|Процент значений NULL в выбранном столбце.|**Неожиданно высокое соотношение значений NULL в столбце** Например, можно профилировать столбец, который должен содержать США почтовых индексов, но обнаружить неприемлемый высокий процент отсутствующих ZIP-кодов.|**Соотношение значений NULL в столбцах** Допустимо для столбца со следующими типами данных:<br /><br /> Любой тип данных. Сюда относятся типы `image`, `text`, `xml`, определяемые пользователем типы и типы данных variant|  
|Статистика. Например: минимальное, максимальное, среднее и стандартное отклонение для числовых столбцов, а также минимальное и максимальное значение для столбцов `datetime`.|**Недопустимые числовые значения и даты**. Например, вы просмотрит столбец с предысторией дат, но обнаружите максимальную дату в будущем.|**Профиль статистики столбцов-** Допустимо для столбца с одним из следующих типов данных:<br /><br /> Числовые типы данных: целочисленные типы `bit`(кроме `money`) `smallmoney`, `decimal`, `float`, `real`,, и`numeric`<br /><br /> Типы данных даты и времени: `datetime`, `smalldatetime`, `timestamp`, `date`, `time`, `datetime2`и`datetimeoffset`<br />Примечание. Для столбца с типом данных date и time профиль вычисляет только минимальные и максимальные значения.|  
|Все различающиеся значения в выбранном столбце, а также процентную долю строк в таблице, которые представляет каждое значение. Кроме того, все значения, представляющие больший процент, чем указано в таблице.|**Неверное число различающихся значений в столбце**. Например, можно профилировать столбец, содержащий состояния в США, но найти более 50 различных значений.|**Распределение значений столбцов —** Допустимо для столбца с одним из следующих типов данных:<br /><br /> Числовые типы данных: целочисленные типы `bit`(кроме `money`) `smallmoney`, `decimal`, `float`, `real`,, и`numeric`<br /><br /> Символьные типы данных `char`: `nchar`, `varchar`, и`nvarchar`<br /><br /> Типы данных даты и времени: `datetime`, `smalldatetime`, `timestamp`, `date`, `time`, `datetime2`и`datetimeoffset`|  
|Является ли столбец или набор столбцов ключом или приблизительным ключом для выбранной таблицы.|**Дублирование значений в потенциальном ключевом столбце —** Например, можно пропрофилировать столбцы name и Address в таблице Customers и обнаружить повторяющиеся значения, где сочетания имен и адресов должны быть уникальными.|**Потенциальный ключ —** Профиль с несколькими столбцами, который сообщает, подходит ли столбец или набор столбцов в качестве ключа для выбранной таблицы. Допустимо для столбцов с данными одного из следующих типов:<br /><br /> Целочисленные типы данных `bit`: `tinyint`, `smallint`, `int`, и`bigint`<br /><br /> Символьные типы данных `char`: `nchar`, `varchar`, и`nvarchar`<br /><br /> Типы данных даты и времени: `datetime`, `smalldatetime`, `timestamp`, `date`, `time`, `datetime2`и`datetimeoffset`|  
|Экстент, в котором значения одного столбца (зависимого) зависят от другого столбца или набора столбцов (определяющего столбца).|**Недопустимые значения в зависимых столбцах —** Например, можно профилировать зависимость между столбцом, содержащим США почтовых индексов, и столбцом, содержащим состояния в США. Каждому штату соответствует только один почтовый индекс. Однако профиль обнаружил нарушение зависимости.|**Функциональная зависимость —** Допустимо для столбцов с одним из следующих типов данных:<br /><br /> Целочисленные типы данных `bit`: `tinyint`, `smallint`, `int`, и`bigint`<br /><br /> Символьные типы данных `char`: `nchar`, `varchar`, и`nvarchar`<br /><br /> Типы данных даты и времени: `datetime`, `smalldatetime`, `timestamp`, `date`, `time`, `datetime2`и`datetimeoffset`|  
|Способность столбца или набора столбцов служить в качестве внешнего ключа для выбранных таблиц.<br /><br /> То есть этот профиль сообщает о перекрытии значений между двумя столбцами или наборами столбцов.|**Недопустимые значения —** Например, можно профилировать столбец ProductID таблицы Sales. Профиль определяет, что в столбце содержатся значения, отсутствующие в столбце ProductID таблицы Products.|**Включение значений —** Допустимо для столбцов с одним из следующих типов данных:<br /><br /> Целочисленные типы данных `bit`: `tinyint`, `smallint`, `int`, и`bigint`<br /><br /> Символьный тип данных `char`: `nchar`, `varchar`, и`nvarchar`<br /><br /> Типы данных даты и времени: `datetime`, `smalldatetime`, `timestamp`, `date`, `time`, `datetime2`и`datetimeoffset`|  
  
 Профили для вычисления выбираются на странице **Запросы профиля** в редакторе задачи "Профилирование данных". Дополнительные сведения см. в разделе [Редактор задачи "Профилирование данных" (страница "Запросы профиля")](data-profiling-task-editor-profile-requests-page.md).  
  
 Кроме того, на странице **Запрос профиля** можно задать источник данных и настроить профили данных. При настройке задачи необходимо учитывать следующие сведения:  
  
-   Чтобы упростить настройку и упростить обнаружение характеристик незнакомых данных, можно использовать подстановочный знак **(\*)** вместо имени отдельного столбца. При использовании этого шаблона задача будет профилировать все столбцы, содержащие данные соответствующего типа, что может снизить скорость обработки.  
  
-   Если выбранная таблица или представление пусты, задача «Профилирование данных» не вычисляет никакие профили.  
  
-   Когда все значения в выбранном столбце являются значениями NULL, то задача «Профилирование данных» вычисляет только профиль соотношения значений NULL в столбцах. Она не вычисляет профиль распределения длины столбцов, профиль шаблона столбцов, профиль статистики столбцов и профиль распределения значений столбцов для пустого столбца.  
  
 Для каждого из доступных профилей данных предусмотрены свои параметры конфигурации. Дополнительные сведения об этих параметрах см. в следующих разделах:  
  
-   [Параметры запроса профиля потенциальных ключей &#40;задачи «Профилирование данных»&#41;](candidate-key-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля распределения длины столбцов &#40;задачи «Профилирование данных»&#41;](column-length-distribution-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля соотношения значений NULL в столбцах &#40;задача "Профилирование данных"&#41;](column-null-ratio-profile-request-options-data-profiling-task.md)  
  
-   [Профиль шаблона столбца параметры запроса &#40;задачи «Профилирование данных»&#41;](column-pattern-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля статистики столбцов &#40;задачи «Профилирование данных»&#41;](column-statistics-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля распределения значений столбцов &#40;задачи «Профилирование данных»&#41;](column-value-distribution-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля функциональной зависимости &#40;задачи «Профилирование данных»&#41;](functional-dependency-profile-request-options-data-profiling-task.md)  
  
-   [Параметры запроса профиля включения значений &#40;задачи «Профилирование данных»&#41;](value-inclusion-profile-request-options-data-profiling-task.md)  
  
## <a name="execution-of-the-package-that-contains-the-data-profiling-task"></a>Выполнение пакета, содержащего задачу «Профилирование данных»  
 Задачу «Профилирование данных» можно запускать после соответствующей настройки. После запуска задача вычисляет профили данных и выводит полученные сведения в формате XML в файл или переменную пакета. Структура этого XML соответствует схеме DataProfile.xsd. Можно открыть схему в [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] или другом редакторе схем, в редакторе XML или в текстовом редакторе, например в блокноте. Использование этой схемы сведений о качестве данных может быть полезно в следующих случаях.  
  
-   Обмен сведениями о качестве данных внутри организации и между различными организациями.  
  
-   Построение собственных средств, работающих со сведениями о качестве данных.  
  
 Целевое пространство имен определяется в схеме как [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/).  
  
## <a name="next-step"></a>Дальнейшее действие  
 [Средство просмотра профиля данных](data-profile-viewer.md).  
  
  
