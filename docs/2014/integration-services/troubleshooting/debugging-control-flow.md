---
title: Отладка потока управления | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- integration-services
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- progress reporting [Integration Services]
- breakpoints [Integration Services]
- debugging [Integration Services], control flow
- control flow [Integration Services], debugging
- color-coded progress reporting [Integration Services]
- Set Breakpoints dialog box
ms.assetid: 54a458cc-9f4f-4b48-8cf2-db2e0fa7756c
caps.latest.revision: 54
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.openlocfilehash: 8b8de78b135245c36d11f4dfb96a993fd0bbc4dd
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2018
ms.locfileid: "36098678"
---
# <a name="debugging-control-flow"></a>Отладка потока управления
  [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] и [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] содержат функции и средства, которые можно использовать для устранения неполадок в потоке управления [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] пакета.  
  
-   [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] поддерживает точки останова в контейнерах и задачах.  
  
-   Конструктор служб [!INCLUDE[ssIS](../../../includes/ssis-md.md)] во время выполнения предоставляет отчет о ходе выполнения.  
  
-   [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] предоставляет окна отладки.  
  
## <a name="breakpoints"></a>Точки останова  
 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Конструктор предоставляет **задание точек останова** диалоговое окно, в котором можно установить точки останова, условия и количество проходов точку останова до выполнения пакета приостановления. Точки останова могут быть установлены на уровне пакета или на уровне компонента. Если условие останова установлено на уровне задачи или контейнера, то значок точки останова отображается рядом с задачей или контейнером в области конструктора на вкладке **Поток управления** . Если условие останова установлено на уровне пакета, то значок точки останова отображается в метке вкладки **Поток управления** .  
  
 При остановке выполнения в заданной точке значок точки останова изменяется, чтобы помочь определить причину останова. Во время выполнения пакета можно изменить условие останова, добавить или удалить точку останова.  
  
 Службы [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] предлагают десять условий останова, которые можно установить для всех задач и контейнеров. В диалоговом окне **Задание точек останова** можно установить точки останова по следующим условиям.  
  
|Условие останова|Описание|  
|---------------------|-----------------|  
|Когда задача или контейнер получает `OnPreExecute` событий.|Вызывается в момент запуска задачи. Это событие возникает непосредственно перед тем, как задача или контейнер начнет свое выполнение.|  
|Когда задача или контейнер получает `OnPostExecute` событий.|Вызывается сразу после того, как задача завершит свою работу. Это событие возникает сразу после того, как задача или контейнер завершит свое выполнение.|  
|Когда задача или контейнер получает `OnError` событий.|Вызывается задачей или контейнером при возникновении ошибки.|  
|Когда задача или контейнер получает `OnWarning` событий.|Вызывается, когда задача находится в состоянии, еще не подтверждающем ошибку, но уже требующем передачи предупреждения.|  
|Когда задача или контейнер получает `OnInformation` событий.|Вызывается, когда от задачи требуется передача сведений.|  
|Когда задача или контейнер получает `OnTaskFailed` событий.|Вызывается сервером задач при возникновении ошибки.|  
|Когда задача или контейнер получает `OnProgress` событий.|Вызывается для обновления информации о ходе выполнения задачи.|  
|Когда задача или контейнер получает `OnQueryCancel` событий.|Вызывается в любой момент обработки задачи, когда необходимо отменить ее выполнение.|  
|Когда задача или контейнер получает `OnVariableValueChanged` событий.|Вызывается средой во время выполнения служб [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] , когда изменяется значение переменной. RaiseChangeEvent переменной должно быть присвоено `true` для порождения этого события.<br /><br /> **\*\* Предупреждение. \*\*** Переменная, связанная с этой точкой останова, должна быть определена в области **контейнера** . Если переменная определена в области пакета, точка останова не достигается.|  
|Когда задача или контейнер получает `OnCustomEvent` событий.|Вызывается задачей для вызова пользовательского события, определенного для данной задачи.|  
  
 В дополнение к условиям останова, доступным для всех задач и контейнеров, некоторые задачи и контейнеры имеют дополнительные условия останова для установки точек останова. Например, можно активировать условия останова в контейнере «цикл по элементам», который задает точку останова, приостанавливающую выполнение в начале каждой итерации цикла.  
  
 Для повышения гибкости и функциональности можно изменить поведение точки останова с помощью настройки следующих параметров.  
  
-   Число попаданий или максимальное количество попаданий в заданную точку останова, после достижения которого выполнение приостанавливается.  
  
-   Тип счетчика попаданий или правило, определяющее, когда условие останова запускает точку останова.  
  
 Типы счетчика попаданий, кроме типа Always, уточняются числом попаданий. Например, если тип — «Число попаданий» и число попаданий — 5, то выполнение будет остановлено на 6-м событии условия останова.  
  
 В следующей таблице описываются типы счетчика попаданий.  
  
|Тип счетчика попаданий|Описание|  
|--------------------|-----------------|  
|Всегда|Выполнение приостанавливается при каждом попадании в точку останова.|  
|Число попаданий|Выполнение приостанавливается, если число попаданий в точку останова равно значению счетчика попаданий.|  
|Число попаданий больше или равно|Выполнение приостанавливается, если число попаданий в точку останова становится равным или больше значения, заданного счетчиком попаданий.|  
|Число попаданий кратно|Выполнение приостанавливается, если число попаданий в точку останова кратно установленному. Например, если значение этого параметра равно 5, выполнение приостанавливается на каждой пятой точке прерывания.|  
  
#### <a name="to-set-breakpoints"></a>Задание точки останова  
  
-   [Выполнение отладки пакета путем установки точек останова для задачи или контейнера](../debug-a-package-by-setting-breakpoints-on-a-task-or-a-container.md)  
  
## <a name="progress-reporting"></a>Отчет о состоянии  
 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Конструктор содержит два типа отчетов о состоянии: выделение цветом в области конструктора на **поток управления** вкладка и сообщения о состоянии на **выполняется** вкладки.  
  
 Когда пакет выполняется, конструктор служб [!INCLUDE[ssIS](../../../includes/ssis-md.md)] отображает ход выполнения каждой задачи или контейнера при помощи цвета, определяющего состояние выполнения. По этому цвету можно определить, ожидает ли элемент выполнения или выполняется в данный момент, завершилось ли его выполнение успешно или с ошибкой. После того, как выполнение пакета останавливается, выделение цветом исчезает.  
  
 Следующая таблица описывает цвета, используемые для отображения состояния.  
  
|Color|Состояние выполнения|  
|-----------|----------------------|  
|Серый|Ожидание выполнения|  
|Желтый|Запущен|  
|Зеленый|Успешное завершение|  
|выделенный текст|Завершение с ошибками|  
  
 Вкладка **Выполнение** содержит список задач и контейнеров в порядке их выполнения, а также время запуска и завершения выполнения, предупреждения и сообщения об ошибках. После того как выполнение пакета остановлено, данные о ходе выполнения могут быть получены на вкладке **Результаты выполнения** .  
  
> [!NOTE]  
>  Чтобы включить или отключить отображение сообщений на вкладке **Выполнение** , установите или снимите флажок **Отчет о ходе отладки** в меню **Службы SSIS** .  
  
 Вкладка **Выполнение** показана на следующей диаграмме.  
  
 ![Вкладка "Ход выполнения" конструктора служб SSIS](../media/mw-dtsflow04.gif "Вкладка \"Ход выполнения\" конструктора служб SSIS")  
  
## <a name="debug-windows"></a>Окна отладки  
 Среда [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] содержит много окон, которые можно использовать для работы с точками останова и для отладки пакетов, содержащих точки останова. Чтобы получить больше информации по каждому из окон, откройте окно и нажмите клавишу F1 для получения справки.  
  
 Для открытия этих окон в [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)], выберите меню **Отладка** , выберите пункт **Окна**и выберите пункт **Точки останова**, **Вывод**или **Немедленно**.  
  
 В следующей таблице приводятся описания этих окон.  
  
|Окно|Описание|  
|------------|-----------------|  
|Точки останова|Содержит список точек останова пакета и позволяет устанавливать и удалять точки останова.|  
|Вывод|Отображает сообщения о состоянии объектов [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)].|  
|Немедленно|Используется для отладки и вычисления выражений и вывода значений переменных.|  
  
## <a name="see-also"></a>См. также  
 [Инструменты устранения неполадок при разработке пакета](troubleshooting-tools-for-package-development.md)  
  
  