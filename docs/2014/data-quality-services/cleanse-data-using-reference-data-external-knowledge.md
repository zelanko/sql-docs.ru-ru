---
title: Очистка данных с использованием набора знаний об эталонных данных (внешних) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 158009e9-8069-4741-8085-c14a5518d3fc
author: lrtoyou1223
ms.author: lle
manager: craigg
ms.openlocfilehash: dff5f6464a14b520a35493b96b47b4a1c5a82481
ms.sourcegitcommit: e042272a38fb646df05152c676e5cbeae3f9cd13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2020
ms.locfileid: "78175513"
---
# <a name="cleanse-data-using-reference-data-external-knowledge"></a>Очистка данных с использованием знаний о справочных данных (внешних знаний)
  В этом разделе описывается очистка данных с использованием набора знаний из поставщиков ссылочных данных. Все этапы очистки данных с использованием набора знаний из поставщиков эталонных данных точно такие же, как описано в разделе [Очистка данных с использованием набора знаний служб DQS &#40;внутренних&#41;](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md), а в этом разделе приведены сведения по очистке данных с использованием службы эталонных данных в [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).

 При очистке данных с использованием функции службы ссылочных данных в DQS процесс очистки служб DQS отправляет сопоставленные значения домена поставщику служб ссылочных данных в виде пакетного запроса. Служба ссылочных данных в ответ отправляет следующие сведения:

-   Предлагаемые исправления

-   Достоверность

-   Дополнительные сведения о сопоставленном домене. Ссылочные данные позволяют также стандартизировать, выполнять анализ или обогащать источник дополнительными данными. Эти сведения предоставляются в дополнительных полях в ответе.

 После получения ответа от службы ссылочных данных в ходе действия по очистке в DQS происходит следующее.

-   На основе значений **Пороговое значение автоматического исправления** и **Минимальная достоверность** , заданных при сопоставлении доменов со службой ссылочных данных, происходит автоматическое исправление или предоставление предлагаемых вариантов, в зависимости от уровня достоверности.

    > [!NOTE]
    >  Пороговые значения, указанные во время сопоставления домена со службой ссылочных данных, применяются при очистке данных с использованием набора знаний в службе ссылочных данных, а не данных, указанных на вкладке **Общие параметры** в разделе **Настройка** . Сведения об указании пороговых значений для очистки ссылочных данных см. в разделе Шаг 9 в разделе [Подключение домена или составного домена к ссылочным данным](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).

-   Значения доменов категоризируются следующим образом: **Предложено**, **Новый**, **Недопустимый**, **Исправлено**и **Правильно**.

-   Дополнительные данные присоединены к источнику, а сведения доступны вместе с очищенными данными для экспорта.

## <a name="before-you-begin"></a>Перед началом

###  <a name="prerequisites"></a><a name="Prerequisites"></a> Предварительные требования
 Следует предварительно сопоставить требуемые домены в базе знаний DQS с соответствующей службой ссылочных данных. Кроме того, база знаний должна содержать набор знаний о типе данных, которые требуется очистить. Например, если требуется очистить исходные данные, содержащие адреса в США, необходимо сопоставить домены с поставщиком службы ссылочных данных, предоставляющим высококачественные данные по адресам в США. Дополнительные сведения см. [в разделе Подключение домена или составного домена к ссылочным данным](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).

###  <a name="security"></a><a name="Security"></a> безопасность

####  <a name="permissions"></a><a name="Permissions"></a> Permissions
 Для выполнения очистки данных необходимо иметь роль dqs_kb_editor или dqs_kb_operator в базе данных DQS_MAIN.

##  <a name="cleanse-your-data-using-reference-data-knowledge"></a><a name="Cleanse"></a> Очистка данных с использованием набора знаний о ссылочных данных
 Мы будем использовать тот же пример использования доменов, сопоставленных в предыдущем разделе, [присоединить домен или составной домен к ссылочным данным](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md)с помощью службы данных Melissa в Azure Marketplace. Теперь мы будем использовать те же домены для очистки образцов адресов в США. Шаги по очистке данных описаны в разделе [Очистка данных с использованием набора знаний служб DQS &#40;внутренних&#41;](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md). Однако мы будем привлекать ваше внимание к важным деталям в ходе этого процесса.

1.  Создайте проект служб DQS и выберите действие **Очистка** . См. раздел [Create a Data Quality Project](../../2014/data-quality-services/create-a-data-quality-project.md).

2.  На странице **Сопоставление** сопоставьте следующие 4 домена с соответствующими столбцами в исходных данных: **Строка адреса**, **Город**, **Штат**и **Почтовый индекс**. Щелкните **Далее**.

    > [!NOTE]
    >  После того как все 4 домена будут сопоставлены внутри составного домена **Проверка адресов** , очистку данных можно будет выполнять на уровне составного домена, а не отдельных доменов.

3.  На странице **Очистка** запустите автоматизированный процесс очистки. Для этого нажмите кнопку **Пуск**. После завершения процесса очистки нажмите кнопку **Далее**.

    > [!NOTE]
    >  На странице **Очистка** службы DQS отображают сведения о доменах, присоединенных к службе ссылочных данных, двумя способами.
    > 
    >  -   После кнопки " **Пуск** " отображается сообщение: "Domains \<Domain1>, \<Домен2>,... \<> доменn очищается с помощью поставщика службы ссылочных данных ". В этом примере отображается следующее сообщение: "Выполняется очистка домена "Проверка адресов" с использованием поставщика службы ссылочных данных".
    > -   Значок, ![присоединенный к RDS](../../2014/data-quality-services/media/dqs-rdsindicator.JPG "Домен прикреплен к RDS"), отображается в области **профилировщика** в соответствии с доменами, присоединенными к поставщику службы ссылочных данных. В этом примере значок будет отображаться напротив составного домена **Проверка адресов** .

4.  На странице **Управление результатами и просмотр результатов** просмотрите значения домена. Служба ссылочных данных может отображать, если доступно, несколько предлагаемых значений, количество которых зависит от максимума, заданного в поле **Предлагаемые варианты** во время сопоставления домена со службой ссылочных данных. Например, для следующего адреса в США отображаются два предлагаемых варианта.

     **Исходное значение:**

    |Строка адреса|Город|Состояние|Почтовый индекс|
    |------------------|----------|-----------|---------|
    |1 msft way|Redmond||98052|

     **Предлагаемые значения:**

    |Строка адреса|Город|Состояние|Почтовый индекс|
    |------------------|----------|-----------|---------|
    |1 Microsoft Way|Redmond|WA|98052|
    |PO Box 1|Redmond|WA|98073|

     ![Очистка с помощью службы ссылочных данных](../../2014/data-quality-services/media/dqs-rdscleansing.JPG "Очистка с помощью службы ссылочных данных")

    > [!NOTE]
    >  Что касается составных доменов, то службы DQS выделяют также другим цветом отдельные домены, где в процессе автоматизированной очистки вносились исправления. Например, в данном случае исправлениям подвергались домены **Строка адреса** и **Штат** , поэтому они выделены голубым.

5.  После окончания просмотра всех значений домена нажмите кнопку **Далее** , чтобы экспортировать данные.

6.  Обратите внимание, что на странице **Экспорт** , помимо обычных сведений о действии очистки для каждого домена («Источник», «Причина», «Достоверность» и «Состояние»), будут находиться дополнительные сведения, предоставленные службой ссылочных данных Melissa Data по данным адресов: широта и долгота места, страна, тип адреса (высотный дом, улица и т. д) и т. п.

7.  Экспортируйте данные в нужное назначение (SQL Server, CSV или Excel) и нажмите кнопку **Готово** , чтобы закрыть проект.

    > [!IMPORTANT]
    >  Если используется 64-разрядная версия Excel, то нельзя экспортировать очищенные данные в файл Excel. Можно экспортировать данные только в базу данных SQL Server или в CSV-файл.


