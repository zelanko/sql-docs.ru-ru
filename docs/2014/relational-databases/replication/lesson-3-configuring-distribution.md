---
title: Занятие 3. Настройка распространения | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- replication
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- replication [SQL Server], tutorials
ms.assetid: f248984a-0b59-4c2f-a56d-31f8dafe72b5
caps.latest.revision: 19
author: craigg-msft
ms.author: craigg
manager: craigg
ms.openlocfilehash: 633e71fd1755746a37c258500d4f98c93db28b4a
ms.sourcegitcommit: c18fadce27f330e1d4f36549414e5c84ba2f46c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2018
ms.locfileid: "37322224"
---
# <a name="lesson-3-configuring-distribution"></a>Урок 3. Настройка распространения
  На этом занятии предстоит настроить распространение на издателе и установить необходимые разрешения на базу данных публикации и распространителя. Если распространитель уже настроен, необходимо отключить публикацию и распространение перед тем, как приступить к занятию. Не следует этого выполнять в случае, если необходимо сохранить существующую топологию репликации.  
  
 Настройка издателя с удаленным распространителем не рассматривается в этом учебнике.  
  
### <a name="configuring-distribution-at-the-publisher"></a>Настройка распространителя на издателе  
  
1.  Подключитесь к издателю в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], а затем раскройте узел сервера.  
  
2.  Щелкните правой кнопкой мыши папку **Репликация** и выберите пункт **Настройка распространения**.  
  
    > [!NOTE]  
    >  Если подключение к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установлено с помощью **localhost** , а не фактического имени сервера, на экране появится предупреждение о том, что [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не может подключиться к серверу **'localhost'**. В диалоговом окне предупреждения нажмите кнопку **ОК** . В диалоговом окне **Соединение с сервером** измените значение в поле **Имя сервера** с **localhost** на имя своего сервера. Нажмите кнопку **Соединить**.  
  
     Будет запущен мастер настройки распространителя.  
  
3.  На **распространителя** выберите **"***\<ServerName >***" будет выступать в качестве своего собственного распространителя; SQL Server создаст базу данных распространителя и журнал**, а затем нажмите кнопку **Далее**.  
  
4.  Если служба [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не запущена, на странице [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]**Запуск агента** выберите **Да**и настройте автоматический запуск службы агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Нажмите кнопку **Далее**.  
  
5.  Введите **\\\\**\<*имя_компьютера>***\repldata** в текстовое поле **Папка моментальных снимков**, где \<*имя_компьютера>* является именем издателя, а затем нажмите кнопку **Далее**.  
  
6.  Примите значения по умолчанию на оставшихся страницах мастера.  
  
7.  Чтобы включить распространение, нажмите кнопку **Готово** .  
  
### <a name="setting-database-permissions-at-the-publisher"></a>Установка разрешений базы данных на издателе  
  
1.  В среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]разверните узел **Безопасность**, щелкните правой кнопкой мыши **Имена входа**, а затем выберите пункт **Создать имя входа**.  
  
2.  На странице **Общее** щелкните **Поиск** и в поле **Введите имя объекта** введите \<*Имя_компьютера>***\repl_snapshot**, где \<*имя_компьютера>* является именем локального сервера издателя, затем щелкните **Проверить имена** и нажмите кнопку **ОК**.  
  
3.  На странице **Сопоставление пользователя** в списке **Пользователи, сопоставленные с этим именем входа** выберите **distribution** и базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .  
  
     В **членство в роли базы данных** выберите `db_owner` роли для имени входа для обеих баз данных.  
  
4.  Нажмите кнопку **ОК** , чтобы создать имя входа.  
  
5.  Для создания имени входа для локальной учетной записи repl_logreader повторите шаги 1-4. Это имя входа также должно быть сопоставлено пользователям, которые являются членами `db_owner` предопределенной роли базы данных в **распространения** и **AdventureWorks** баз данных.  
  
6.  Для создания имени входа для локальной учетной записи repl_distribution повторите шаги 1-4. Это имя входа должен быть сопоставлен пользователь, являющийся членом `db_owner` предопределенной роли базы данных в **распространения** базы данных.  
  
7.  Для создания имени входа для локальной учетной записи repl_merge повторите шаги 1-4. С этим именем входа должны быть сопоставлены пользователи в базах данных **distribution** и **AdventureWorks** .  
  
## <a name="see-also"></a>См. также  
 [Настройка распространения](configure-distribution.md)   
 [Модель безопасности агента репликации](security/replication-agent-security-model.md)  
  
  
