---
title: Добавление и удаление статей в имеющихся публикациях | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- articles [SQL Server replication], dropping
- deleting articles
- removing articles
- dropping articles
- adding articles
- administering replication, articles
- publications [SQL Server replication], adding and dropping articles
- articles [SQL Server replication], adding
ms.assetid: b148e907-e1f2-483b-bdb2-59ea596efceb
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.openlocfilehash: 523891f2f0005c7f6e6752e5d16d3680f680fdfa
ms.sourcegitcommit: 619917a0f91c8f1d9112ae6ad9cdd7a46a74f717
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2019
ms.locfileid: "73882339"
---
# <a name="add-articles-to-and-drop-articles-from-existing-publications"></a>Добавление и удаление статей в существующих публикациях
  Возможно добавлять и удалять статьи после создания публикации. Можно добавить статьи в любое время, но действия, необходимые для удаления статей, зависят от типа репликации и времени удаления статьи.  
  
## <a name="adding-articles"></a>добавление статей  
 Добавление статьи включает следующие операции: добавление статьи в публикацию, создание нового моментального снимка публикации, синхронизация подписки для применения схемы и данных для новой статьи.  
  
> [!NOTE]
>  Если при добавлении статьи в публикацию слиянием, существующая статья зависит от новой статьи, необходимо задать порядок обработки для обеих статей с помощью параметра **\@processing_order** процедур [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) и [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql). Рассмотрим следующий сценарий: необходимо опубликовать таблицу без публикации функции, на которую ссылается эта таблица. Если функция не будет опубликована, то таблица не сможет быть создана на подписчике. При добавлении функции к публикации: задайте значение **1** для параметра **\@processing_order** процедуры **sp_addmergearticle** и значение **2** для параметра **\@processing_order** процедуры **sp_changemergearticle**, указав имя таблицы в параметре **\@article**. Этот порядок обработки гарантирует создание функции на подписчике до создания таблицы, которая зависит от нее. Можно использовать различные числа для каждой статьи при условии, что число для функции меньше числа для таблицы.  
  
1.  Добавьте одну или несколько статей с помощью следующих методов:  
  
    -   [Добавление и удаление статей в существующих публикациях](add-articles-to-and-drop-articles-from-a-publication.md)  
  
    -   [Определение статьи](define-an-article.md)  
  
2.  После добавления статьи в публикацию необходимо создать новый моментальный снимок для публикации (и все секции, если это публикация слиянием с параметризованными фильтрами). Затем агент распространителя или агент слияния копирует схему и данные для новой статьи на подписчик (он не инициализирует заново всю публикацию).  
  
    -   Сведения о создании моментального снимка см. в разделе [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).  
  
    -   Чтобы создать моментальный снимок публикации с параметризованными фильтрами, ознакомьтесь с [этой статьей](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).  
  
3.  После создания моментального снимка синхронизируйте подписку, чтобы скопировать схему и данные для новой статьи.  
  
    -   Сведения о синхронизации принудительной подписки см. в разделе [Synchronize a Push Subscription](../synchronize-a-push-subscription.md).  
  
    -   Сведения о синхронизации подписки по запросу см. в разделе [Synchronize a Pull Subscription](../synchronize-a-pull-subscription.md).  
  
## <a name="dropping-articles"></a>удаление статей  
 Статьи могут быть удалены из публикации в любое время, но следует принять во внимание следующие аспекты:  
  
-   Удаление статьи из публикации не удаляет объект из базы данных публикации или соответствующий объект из базы данных подписки. Используйте DROP \<объект> для удаления этих объектов при необходимости. При удалении статьи, связанной с другими опубликованными статьями с помощью ограничений внешних ключей, мы рекомендуем удалить таблицу на подписчике вручную или выполнить скрипт по требованию: укажите скрипт, который содержит соответствующие инструкции DROP \<объект>. Дополнительные сведения см. в статье [Выполнение скриптов во время синхронизации (программирование репликации на языке Transact-SQL)](../execute-scripts-during-synchronization-replication-transact-sql-programming.md).  
  
-   Для публикации слиянием с уровнем совместимости 90RTM и выше возможно удаление статей в любое время, но требуется новый моментальный снимок. Дополнительно:  
  
    -   Если статья является родительской статьей в фильтре соединения или в отношении логической записи, сначала нужно удалить отношения, и это требует повторной инициализации.  
  
    -   Если статья содержит последний параметризованный фильтр в публикации, подписки должны быть повторно инициализированы.  
  
-   Для публикаций слиянием с уровнем совместимости ниже 90RTM статьи можно удалить без особых размышлений до первоначальной синхронизации подписок. Если статья удалена после синхронизации одной подписки или более, подписки должны быть удалены, заново созданы и синхронизированы.  
  
-   Для публикации моментальных снимков или публикации транзакций статьи можно удалить без особых размышлений до создания подписок. Если статья удалена после создания одной или более подписок, подписки должны быть удалены, заново созданы и синхронизированы. Дополнительные сведения об удалении подписок см. в статьях [Подписка на публикации](../subscribe-to-publications.md) и [sp_dropsubscription (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-dropsubscription-transact-sql). **sp_dropsubscription** позволяет удалить одну статью из подписки, а не всю подписку.  
  
1.  Удаление статьи из публикации включает удаление статьи и создание нового моментального снимка для публикации. Удаление статьи сделает текущий моментальный снимок недействительным; поэтому должен быть создан новый моментальный снимок.  
  
    -   Дополнительные сведения об удалении статьи из публикации см. в статьях [Add Articles to and Drop Articles from a Publication](add-articles-to-and-drop-articles-from-a-publication.md) (Добавление и удаление статей в публикации) или [Delete an Article](delete-an-article.md) (Удаление статьи).  
  
2.  После удаления статьи из публикации необходимо создать новый моментальный снимок для публикации (и все секции, если это публикация слиянием с параметризованными фильтрами).  
  
    -   Сведения о создании моментального снимка см. в разделе [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).  
  
    -   Чтобы создать моментальный снимок публикации с параметризованными фильтрами, ознакомьтесь с [этой статьей](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).  
  
 Как указано выше, в некоторых случаях удаление статьи требует, чтобы подписки были удалены, заново созданы и синхронизированы. Дополнительные сведения см. в статьях [Подписка на публикации](../subscribe-to-publications.md) и [Синхронизация данных](../synchronize-data.md).  
  
## <a name="see-also"></a>См. также статью  
 [Публикация данных и объектов базы данных](publish-data-and-database-objects.md)   
 [Повторная инициализация подписок](../reinitialize-subscriptions.md)   
 [Внесение изменений в схемы баз данных публикации](make-schema-changes-on-publication-databases.md)  
  
  
