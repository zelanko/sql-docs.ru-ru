---
title: Выполняющаяся в памяти OLTP (оптимизация в памяти) | Документация Майкрософт
ms.custom: ''
ms.date: 07/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
helpviewer_keywords:
- In-Memory OLTP
- memory-optimized tables
ms.assetid: e1d03d74-2572-4a55-afd6-7edf0bc28bdb
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: bc65a8a9c17c7e6a7c37e6f08675f89d1b113c8d
ms.sourcegitcommit: 9348f79efbff8a6e88209bb5720bd016b2806346
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2019
ms.locfileid: "69028654"
---
# <a name="in-memory-oltp-in-memory-optimization"></a>In-Memory OLTP (оптимизация в памяти)

  Новое в [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] может значительно улучшить производительность приложения базы данных OLTP. [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] является оптимизированным для памяти ядром СУБД, встроенным в ядро [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], оптимизированное для OLTP.  
  
|||  
|-|-|  
|![Виртуальная машина Azure](../../master-data-services/media/azure-virtual-machine.png "Виртуальная машина Azure")|Хотите попробовать SQL Server 2016? Зарегистрируйтесь в Microsoft Azure, а затем перейдите на **[эту страницу](https://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2016rtmenterprisewindowsserver2012r2/?wt.mc_id=sqL16_vm)** , чтобы запустить виртуальную машину с уже установленным SQL Server 2016. После завершения вы можете удалить виртуальную машину.|  
  
 Для использования [!INCLUDE[hek_2](../../../includes/hek-2-md.md)], вы определяете труднодоступную таблицу как оптимизированную для памяти. оптимизированные для памяти таблицы являются полностью транзакционными, устойчивыми доступ к которым обеспечивается с помощью [!INCLUDE[tsql](../../../includes/tsql-md.md)] таким же способом, как и к таблицам, находящимся на диске. Запрос может ссылаться и на таблицы, оптимизированные для памяти, и на таблицы, находящиеся на диске. Транзакция может обновлять данные в таблицах, оптимизированных для памяти и в таблицах, находящихся на диске. Хранимые процедуры, которые ссылаются только на таблиц, оптимизированные для памяти, могут быть скомпилированы в машинный код для последующего улучшения производительности. Ядро [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] разработано для очень высокого параллелизма сеанса для типов транзакций OLTP, полученных из горизонтально масштабируемого среднего уровня. Для этих целей оно использует структуры данных без защелок и оптимистичное управление многовариантным параллелизмом. Результат является предсказуемым, малая задержка до миллисекунды и высокая пропускная способность с линейной шкалой для транзакций базы данных. Фактический рост производительности зависит от многих факторов, но улучшение производительности в 5–20 раз является обычным явлением.  
  
 Следующая таблица резюмирует типы рабочих нагрузок, которые больше всего могут получить выгоду от использования [!INCLUDE[hek_2](../../../includes/hek-2-md.md)]:  
  
|Сценарий Реализации|Сценарий Реализации|Преимущества [!INCLUDE[hek_2](../../../includes/hek-2-md.md)]|  
|-----------------------------|-----------------------------|-------------------------------------|  
|Высокая интенсивность данных от многих конкурентных подключений.|Первоначально хранение только путем присоединения.<br /><br /> Невозможность быть на одном уровне с добавленной рабочей нагрузкой.|Устранение конкуренции.<br /><br /> Сокращение журнала.|  
|Чтение производительности и масштабирование с периодичным добавлением пакетов и обновлений.|Высокопроизводительные операции чтения, особенно когда каждый запрос сервера должен выполнить многие операции чтения.<br /><br /> Неспособность соответствовать требованиям вертикального масштабирования.|Устранение конкуренции при получении новых данных.<br /><br /> Малая задержка при извлечении данных.<br /><br /> Уменьшение времени на выполнение кода.|  
|Интенсивная обработка бизнес-логики на сервере базы данных.|Добавление, обновление и удаление рабочей нагрузки.<br /><br /> Интенсивные вычисления внутри хранимых процедур.<br /><br /> Конкуренция чтения и записи.|Устранение конкуренции.<br /><br /> Уменьшение времени на выполнение кода для сокращенной задержки и улучшенной пропускной способности.|  
|Низкая задержка.|Необходима бизнес-транзакции с низкой задержкой, которые обычно не могут быть достигнуты решениями базы данных.|Устранение конкуренции.<br /><br /> Уменьшение времени на выполнение кода.<br /><br /> Низкая задержка выполнения кода.<br /><br /> Эффективное извлечение данных.|  
|Управление состоянием сеанса.|Частый ввод, обновление и поиск точки.<br /><br /> Большая нагрузка от многочисленных веб-серверов.|Устранение конкуренции.<br /><br /> Эффективное извлечение данных.<br /><br /> Дополнительное снижение или удаление операций ввода-вывода при использовании не устойчивых таблиц|  
  
 Дополнительные сведения о сценариях, [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] в которых приводит к наибольшему выигрышу в производительности, см. [в статье OLTP в памяти — общие шаблоны рабочих нагрузок и рекомендации по миграции](https://msdn.microsoft.com/library/dn673538.aspx).  
  
 [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] максимально улучшит производительность в OLTP с помощью транзакций с коротким циклом выполнения.  
  
 Шаблоны программирования, которые [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] улучшит, включают в себя сценарии параллелизма, поиски точки, рабочие нагрузки, которые содержат много добавлений и обновлений, а также бизнес-логику в хранимых процедурах.  
  
 Интеграция со средствами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] означает, что в одной базе данных можно иметь как оптимизированные для памяти таблицы, так и дисковые таблицы, а также запрашивать оба типа таблиц.  
  
 В службе [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] имеются ограничения в контактной зоне службы [!INCLUDE[tsql](../../../includes/tsql-md.md)] , поддерживаемые службой [!INCLUDE[hek_2](../../../includes/hek-2-md.md)].  
  
 [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] достигает значительного роста производительности и масштабируемости при использовании:  
  
-   алгоритмов, оптимизированных для доступа к хранимым в памяти данным;  
  
-   управления оптимистичным параллелизмом, устраняющим логические блокировки;  
  
-   Блокирует свободные объекты, которые устраняют все физические блокировки и защелки Потоки, выполняющие транзакционную работу, не используют блокировки или кратковременные блокировки для управления параллелизмом.  
  
-   Хранимые процедуры, скомпилированные в собственном коде, которые обладают значительно лучшей производительностью, чем интерпретированные хранимые процедуры, во время доступа к оптимизированной для памяти таблице.  
  
> [!IMPORTANT]  
>  Некоторые изменения синтаксиса таблиц и хранимых процедур будут необходимы для использования службы [!INCLUDE[hek_2](../../../includes/hek-2-md.md)]. Дополнительные сведения см. в статье [Миграция в In-Memory OLTP](migrating-to-in-memory-oltp.md). Перед переносом дисковой таблицы в таблицу, оптимизированную для памяти, прочитайте статью [Определение, должна ли таблица или хранимая процедура быть перенесена в In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md), чтобы выяснить, какие таблицы и хранимые процедуры получат наибольшее преимущество от применения [!INCLUDE[hek_2](../../../includes/hek-2-md.md)].  
  
## <a name="in-this-section"></a>Содержание раздела  
 В разделе рассматриваются следующие понятия.  
  
|Раздел|Описание|  
|-----------|-----------------|  
|[Требования для использования таблиц, оптимизированных для памяти](memory-optimized-tables.md)|Перечисляются требования к программному обеспечению и оборудованию, а также рекомендации по использованию оптимизированных для памяти таблиц.|  
|[Использование выполняющейся в памяти OLTP в среде ВМ](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md)|Описывает использование службы [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] в виртуализированной среде.|  
|[Примеры кода In-Memory OLTP](in-memory-oltp-code-samples.md)|Содержит образцы кода, которые показывают, как создавать и использовать оптимизированные для памяти таблицы.|  
|[Таблицы, оптимизированные для памяти](memory-optimized-tables.md)|Дает вводное описание таблиц, оптимизированных для памяти.|  
|[Основные сведения о табличных переменных, оптимизированных для памяти](../../database-engine/memory-optimized-table-variables.md)|Пример кода, показывающий, как использовать переменную оптимизированной для памяти таблицы вместо традиционной табличной переменной для уменьшения использования базы данных tempdb.|  
|[Индексы для оптимизированных для памяти таблиц](../../database-engine/indexes-on-memory-optimized-tables.md)|Содержит базовое описание индексов, оптимизированных для памяти.|  
|[Скомпилированные в собственном коде хранимые процедуры](natively-compiled-stored-procedures.md)|Содержит базовое описание хранимых процедур, скомпилированных в собственном коде.|  
|[Управление памятью для компонента "Выполняющаяся в памяти OLTP"](../../database-engine/managing-memory-for-in-memory-oltp.md)|Основные сведения об управлении памятью системы.|  
|[Создание и управление хранилищем для оптимизированных для памяти объектов](creating-and-managing-storage-for-memory-optimized-objects.md)|Описывает файлы данных и разностные файлы, в которых хранятся сведения о транзакциях в оптимизированных для памяти таблицах.|  
|[Резервное копирование и восстановление оптимизированных для памяти таблиц](restore-and-recovery-of-memory-optimized-tables.md)|Описывает резервное копирование, восстановление и восстановление оптимизированных для памяти таблиц.|  
|[Поддержка Transact-SQL для выполняющейся в памяти OLTP](transact-sql-support-for-in-memory-oltp.md)|Описывает поддержку службой [!INCLUDE[tsql](../../../includes/tsql-md.md)] службы [!INCLUDE[hek_2](../../../includes/hek-2-md.md)].|  
|[Поддержка высокого уровня доступности в базах данных OLTP в памяти](high-availability-support-for-in-memory-oltp-databases.md)|Описывает группы доступности и отказоустойчивые кластеры в службе [!INCLUDE[hek_2](../../../includes/hek-2-md.md)].|  
|[Поддержка SQL Server для In-Memory OLTP](sql-server-support-for-in-memory-oltp.md)|Описание нового и обновленного синтаксиса и функций, поддерживающих оптимизированные для памяти таблицы.|  
|[Миграция в выполняющуюся в памяти OLTP](migrating-to-in-memory-oltp.md)|Рассматриваются способы миграции дисковых таблиц в оптимизированные для памяти таблицы.|  
  
 Больше информации о службе [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] доступно в:  
  
-   [Microsoft?? SQL Server?? 2014. Справочник по продуктам](https://www.microsoft.com/download/confirmation.aspx?id=39269)  
  
-   [Блог о выполняющейся в памяти OLTP](https://go.microsoft.com/fwlink/?LinkId=311696)  
  
-   [Выполняемая в памяти OLTP — общие замечания по шаблонам рабочей нагрузки и миграции](https://msdn.microsoft.com/library/dn673538.aspx)  
  
-   [Общие сведения о внутренних компонентах OLTP в памяти SQL Server](https://download.microsoft.com/download/8/3/6/8360731A-A27C-4684-BC88-FC7B5849A133/SQL_Server_2016_In_Memory_OLTP_White_Paper.pdf)  
    <!--
         (https://download.microsoft.com/download/8/3/6/8360731A-A27C-4684-BC88-FC7B5849A133/SQL_Server_2016_In_Memory_OLTP_White_Paper.pdf)
         (/sql/relational-databases/in-memory-oltp/sql-server-in-memory-oltp-internals-for-sql-server-2016?view=sql-server-2016)
    -->
  
## <a name="see-also"></a>См. также  
 [Функции базы данных](../database-features.md)  
  
  
