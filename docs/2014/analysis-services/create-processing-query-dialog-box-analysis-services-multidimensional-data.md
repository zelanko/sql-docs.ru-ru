---
title: Создание обрабатывающего запроса-диалоговое окно (службы Analysis Services — многомерные данные) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.createprocessingquerydialog.f1
ms.assetid: c133d624-f35e-486e-be9f-ceafd906f168
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: b162480fef7894a04d2488058a1e21b5bc40b602
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62679722"
---
# <a name="create-processing-query-dialog-box-analysis-services---multidimensional-data"></a>Диалоговое окно «Создание обрабатывающего запроса» (службы Analysis Services — многомерные данные)
  Для создания обрабатывающего запроса используйте диалоговое окно **Создание обрабатывающего запроса** в среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] на вкладке **Уведомления** диалогового окна **Параметры хранилища** . Обрабатывающий запрос — это запрос, возвращающий набор строк, которые содержат изменения, внесенные в ассоциированную с объектом служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] таблицу за период, прошедший со времени последнего опроса этой таблицы, с целью добавочного обновления кэша многомерного OLAP (MOLAP) для данного объекта. Для опроса ассоциированной с объектом таблицы и для выявления внесенных в таблицу изменений службы Analysis Services используют другой запрос, именуемый опрашивающим запросом. Обрабатывающие запросы обработки не требуются при полном обновлении кэша MOLAP для объекта.  
  
 Как правило, обрабатывающий запрос является параметризованным; в настоящее время поддерживаются два параметра:  
  
-   Одноэлементное значение, возвращенное опрашивающим запросом в ходе предшествующего планового опроса.  
  
-   Одноэлементное значение, возвращенное опрашивающим запросом в ходе текущего планового опроса.  
  
 Например запросы, содержащиеся в следующей таблице, могут быть использованы для добавочного обновления измерения «Заказчики» в образце проекта служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Adventure Works DW.  
  
|Тип запроса|Инструкция запроса|  
|----------------|---------------------|  
|Опрашивающий запрос|`SELECT`<br /><br /> `MAX([CustomerKey]) AS LastCustomerKey`<br /><br /> `FROM`<br /><br /> `[dbo].[DimCustomer]`|  
|Обрабатывающий запрос|`SELECT`<br /><br /> `*`<br /><br /> `FROM`<br /><br /> `[dbo].[DimCustomer]`<br /><br /> `WHERE`<br /><br /> `(CustomerKey > COALESCE (@Param1, - 1))`<br /><br /> `AND (CustomerKey <= @Param2)`|  
  
 Дополнительные сведения о добавочных обновлениях для уведомлений о плановых опросах см. в разделе [Упреждающее кэширование (секции)](multidimensional-models-olap-logical-cube-objects/partitions-proactive-caching.md).  
  
 Диалоговое окно **Создание обрабатывающего запроса** можно открыть, нажав на элемент **...** в столбце **Обрабатывающий запрос** сетки для параметра **Плановый опрос** на вкладке **Уведомления** диалогового окна **Параметры хранилища** . Дополнительные сведения о вкладке **Уведомления** диалогового окна **Параметры хранилища** см. в разделе [Уведомления (диалоговое окно "Параметры хранилища") (службы Analysis Services — многомерные данные)](notifications-storage-options-dialog-analysis-services-multidimensional-data.md).  
  
 Введенный запрос должен представлять корректную команду запроса для базового поставщика. Запрос подготовлен с помощью базового поставщика для проверки и для идентификации возвращаемых столбцов. Диалоговое окно может иметь два представления.  
  
-   Визуальный построитель запросов  
  
     Для всех пользователей представление визуального построителя запросов предлагает набор инструментов пользовательского интерфейса для визуального конструирования и тестирования SQL-запросов.  
  
-   Обычный построитель запросов  
  
     Для опытных пользователей режим обычного построителя запросов предлагает более простой и непосредственный пользовательский интерфейс конструирования и проверки SQL-запросов.  
  
## <a name="options"></a>Параметры  
 **Источник данных**  
 Указывает источник данных для запроса.  
  
 **Определение запроса**  
 Определение запроса предоставляет панель инструментов и панели для определения и тестирования запроса, в зависимости от выбранного представления.  
  
 **Панель инструментов**  
 Панель инструментов используется для управления наборами данных, выбора панелей для отображения, а также для управления различными функциями запросов.  
  
|Значение|Описание|  
|-----------|-----------------|  
|**Переключиться в обычный построитель запросов**|Выберите этот пункт, чтобы отображать только параметры, доступные для представления обычного построителя запросов. Отображаются только следующие параметры:<br /><br /> **Панель SQL**<br /><br /> **Панель результатов**<br /><br /> **Панель инструментов**, содержащая только команды **Переключиться в построитель VDT-запросов** и **Выполнить**<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Переключиться в построитель VDT-запросов**|Выберите этот пункт, чтобы отображать только параметры, доступные для представления визуального построителя запросов.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в обычный построитель запросов** выбран.|  
|**Показать/скрыть панель диаграмм**|Показывает или скрывает **Панель диаграмм**.<br /><br /> **Примечание.** Этот параметр отображается только в том случае, если выбран режим **Переключиться в визуальный построитель запросов** .|  
|**Показать/скрыть панель сетки**|Показывает или скрывает **Панель сетки**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Показать/скрыть панель SQL**|Показывает или скрывает **Панель SQL**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Показать/скрыть панель результатов**|Показывает или скрывает **Панель результатов**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Выполнить**|Выполняет запрос. Результаты отображаются на **Панели результатов**.|  
|**Проверить SQL**|Проверяет правильность инструкции SQL, содержащейся в запросе.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Сортировка по возрастанию**|Сортирует выходные строки в выбранном столбце на **Панели сетки**в порядке возрастания.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Сортировка по убыванию**|Сортирует выходные строки в выбранном столбце на **Панели сетки**в порядке убывания.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Удалить фильтр**|Удаляет критерии сортировки, если это возможно, для строк, выделенных на **Панели сетки**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Использовать Group By**|Добавляет к запросу функциональность группирования.<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
|**Добавить таблицу**|Отображает диалоговое окно **Добавить таблицу** , при помощи которого можно добавить к запросу новую таблицу или представление. Дополнительные сведения о диалоговом окне **Добавление таблицы** см. в разделе [Диалоговое окно "Добавление таблицы" (службы Analysis Services — многомерные данные)](add-table-dialog-box-analysis-services-multidimensional-data.md).<br /><br /> Примечание. Этот параметр отображается только в том случае, если **переключиться в построитель VDT-запросов** выбран.|  
  
 **Панель диаграмм**  
 Отображает объекты, на которые ссылается запрос, в виде диаграммы. Диаграмма показывает включенные в запрос таблицы, а также способы их соединения. Установите или снимите флажок рядом со столбцом в таблице, чтобы добавить или исключить его из результатов запроса.  
  
 При добавлении таблиц в запрос диалоговое окно создает соединения таблиц на основе содержащихся в таблицах ключей. Чтобы добавить соединение, перетащите поле одной таблицы на поле другой таблицы. Для управления соединением щелкните его правой кнопкой мыши.  
  
 Щелкните правой кнопкой мыши **панель диаграмм** , чтобы добавить или удалить таблицы, выбрать все таблицы и отобразить или скрыть области.  
  
> [!NOTE]  
>  Содержимое **панели диаграмм**, **панели сетки**и **панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
> [!IMPORTANT]  
>  Изменение типа запроса в данном диалоговом окне невозможно.  
  
 **Панель сетки**  
 Отображает объекты, на которые ссылается запрос, в виде сетки. Можно использовать эту панель для добавления или удаления столбцов из запроса, а также для изменения установок каждого столбца.  
  
> [!NOTE]  
>  Содержимое **панели диаграмм**, **панели сетки**и **панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
 **Панель SQL**  
 Отображает запрос в виде инструкции SQL. Введите текст, чтобы изменить инструкцию SQL для запроса.  
  
> [!NOTE]  
>  Содержимое **панели диаграмм**, **панели сетки**и **панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
 **Панель результатов**  
 Отображает результат запроса при нажатии кнопки **Выполнить** , расположенной на **панели инструментов** .  
  
## <a name="see-also"></a>См. также  
 [Конструкторы и диалоговые окна служб Analysis Services &#40;многомерных данных&#41;](analysis-services-designers-and-dialog-boxes-multidimensional-data.md)  
  
  
