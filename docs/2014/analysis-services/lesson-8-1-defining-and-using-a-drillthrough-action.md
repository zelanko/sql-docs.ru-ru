---
title: Определение и использование действия детализации | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- analysis-services
ms.topic: conceptual
ms.assetid: 3765f865-2b93-44be-b290-28e3815d5ecb
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 606fe679f4cc58a627b2d2978b52d9865da741c1
ms.sourcegitcommit: 2429fbcdb751211313bd655a4825ffb33354bda3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2018
ms.locfileid: "52545315"
---
# <a name="defining-and-using-a-drillthrough-action"></a>Определение и использование действия детализации
  Распределение данных фактов по измерениям фактов без верной фильтрации данных, возвращаемых запросом, может привести к снижению его производительности. Чтобы избежать этого, можно определить действие детализации, которое ограничит общее число возвращаемых строк. Это позволит значительно повысить производительность выполнения запросов.  
  
 В задачах этого раздела предстоит создать действие детализации, возвращающее пользователям через Интернет подробные сведения о заказе на продажу.  
  
## <a name="defining-the-drillthrough-action-properties"></a>Определение свойств действия детализации  
  
1.  Откройте куб "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] " в конструкторе кубов и перейдите на вкладку **Действия** .  
  
     Вкладка **Действия** содержит несколько панелей. В левой части вкладки находятся панели **Организатор действий** и **Средства вычисления** . Справа от них находится панель **Отображение** , содержащая подробные сведения о действии, выбранном на панели **Организатор действий** .  
  
     На рисунке ниже показана вкладка **Действия** конструктора кубов.  
  
     ![Вкладка «действия» конструктора кубов](../../2014/tutorials/media/l8-action1.gif "вкладка «действия» конструктора кубов")  
  
2.  На панели инструментов вкладки **Действия** нажмите кнопку **Создать действие детализации** .  
  
     В панели отображения появится пустой шаблон действия.  
  
     ![Пустой шаблон действия на панели отображения](../../2014/tutorials/media/l8-action2.gif "пустой шаблон действия на панели отображения")  
  
3.  В **имя** измените имя действия на `Internet Sales Details Drillthrough Action`.  
  
4.  В списке **Элементы группы мер** выберите значение **Продажи через Интернет**.  
  
5.  В поле **Столбцы детализации** выберите в списке **Измерения** значение **Подробности заказа через Интернет** .  
  
6.  В списке **Возвращаемые столбцы** установите флажки **Описание элемента** и **Номер заказа** , а затем нажмите кнопку **ОК**. На следующем рисунке показано, как выглядит шаблон действия в этот момент времени данной процедуры.  
  
     ![Столбцы детализации поле](../../2014/tutorials/media/l8-action3.gif "столбцы детализации")  
  
7.  Разверните поле **Дополнительные свойства** , как показано на рисунке ниже.  
  
     !["Дополнительные свойства"](../../2014/tutorials/media/l8-action4.gif "\"Дополнительные свойства\"")  
  
8.  В **максимальное число строк** введите `10`.  
  
9. В **заголовок** введите `Drillthrough to Order Details...`.  
  
     Эти настройки ограничивают количество возвращаемых строк и указывают заголовок, отображаемый в меню клиентского приложения. На рисунке ниже показаны эти параметры в поле **Дополнительные свойства** .  
  
     !["Дополнительные свойства"](../../2014/tutorials/media/l8-action5.gif "\"Дополнительные свойства\"")  
  
## <a name="using-the-drillthrough-action"></a>Использование действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб **Tutorial, перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Добавьте меру **Продажи через Интернет — объем продаж** в область значений.  
  
5.  Добавьте определенную пользователем иерархию **География заказчика** из папки **Расположение** в измерении **Заказчик** в область **Фильтр отчета** .  
  
6.  В сводной таблице в столбце **География заказчика**добавьте фильтр, который выбирает одного заказчика. Разверните узлы **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбейн**, **4000**, установите флажок **Адам Пауэл**и нажмите кнопку **ОК**.  
  
     В области данных будет отображена итоговая сумма продаж компании [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] Адаму Пауэлу.  
  
7.  Щелкните правой кнопкой мыши объем продаж, наведите указатель на пункт **Дополнительные действия**, а затем щелкните **Детализация сведений о заказе**.  
  
     В окне **Средство просмотра выборки данных**приводятся подробные сведения о заказах, отправленных Адаму Пауэлу, как показано на рисунке ниже. Однако были бы полезны некоторые дополнительные сведения, например дата заказа, дата оплаты счета и дата отгрузки. В следующей процедуре эти дополнительные сведения будут добавлены.  
  
     ![Заказы, доставленные Адаму Пауэлу](../../2014/tutorials/media/l8-action6.gif "заказы доставленные Адаму Пауэлу")  
  
8.  Закрыть Excel/  
  
## <a name="modifying-the-drillthrough-action"></a>Изменение действия детализации  
  
1.  Откройте измерение **Подробности заказа через Интернет** в конструкторе измерений.  
  
     Обратите внимание, что для этого измерения определены только три атрибута.  
  
2.  На панели **Представление источника данных** щелкните правой кнопкой мыши свободную область и выберите команду **Показать все таблицы**.  
  
3.  В меню **Формат** наведите указатель на пункт **Автомакет** и выберите пункт **Диаграмма**.  
  
4.  Найдите таблицу **InternetSales (dbo.FactInternetSales)** , щелкнув правой кнопкой мыши свободный участок панели **Представление источника данных** . Выберите команду **Найти таблицу** , выберите **InternetSales** , а затем нажмите кнопку **ОК**.  
  
5.  Создайте новые атрибуты, основанные на следующих столбцах:  
  
    -   OrderDateKey  
  
    -   DueDateKey  
  
    -   ShipDateKey  
  
6.  Изменение **имя** свойство для **ключ даты заказа** атрибут `Order Date` , нажмите кнопку обзора для **столбец имени** свойство и в **Столбец имени** выберите **даты** как исходной таблицы и выберите SimpleDate, совпадающего с исходным столбцом. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
7.  Изменить **имя** свойство для **ключ срока заказа** атрибут `Due Date`и затем, используя один и тот же метод как **ключ даты заказа** , задайте  **Имя столбца** свойство для этого атрибута к **Date.SimpleDate (WChar)**.  
  
8.  Изменить **имя** свойство для **ключ даты отгрузки** атрибут `Ship Date`и затем измените **столбец имени** свойство для этого атрибута к  **Date.SimpleDate (WChar)**.  
  
9. Перейдите на вкладку **Действия** конструктора кубов для куба "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ".  
  
10. В поле **Столбцы детализации** установите флажки, добавив в список **Возвращаемые столбцы** перечисленные ниже столбцы, и нажмите кнопку **ОК**.  
  
    -   Дата заказа  
  
    -   Срок заказа  
  
    -   Дата отгрузки  
  
     На следующем рисунке эти столбцы выделены.  
  
     ![Столбцы детализации поле](../../2014/tutorials/media/l8-action7.gif "столбцы детализации")  
  
## <a name="reviewing-the-modified-drillthrough-action"></a>Просмотр измененного действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб "Учебник по **", перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Создайте сводную таблицу снова с помощью меры **Продажи через Интернет — объем продаж** в области значений и **География заказчика** в фильтре отчета.  
  
     Добавьте фильтр по элементам **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбен**, **4000**, **Адам Пауэл**.  
  
5.  Щелкните ячейку данных **Продажи через Интернет — объем продаж** , наведите указатель на пункт **Дополнительные действия**и щелкните **Детализация сведения о заказе**.  
  
     Подробные сведения о заказах, поставленных Адаму Пауэллу, отображаются на временном листе. Доступны для просмотра описание элемента, номер заказа, дата заказа, срок заказа и дата отгрузки, как показано на следующем рисунке.  
  
     ![Заказы, доставленные Адаму Пауэлу](../../2014/tutorials/media/l8-action8.gif "заказы доставленные Адаму Пауэлу")  
  
## <a name="next-lesson"></a>Следующее занятие  
 [Занятие 9. Определение перспектив и переводов](../analysis-services/lesson-9-defining-perspectives-and-translations.md)  
  
## <a name="see-also"></a>См. также  
 [Действия &#40;службы Analysis Services — многомерные данные&#41;](multidimensional-models/actions-analysis-services-multidimensional-data.md)   
 [Действия в многомерных моделях](multidimensional-models/actions-in-multidimensional-models.md)   
 [Связи измерений](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)   
 [Определение связи фактов](../analysis-services/lesson-5-2-defining-a-fact-relationship.md)   
 [Определение связей фактов и свойств связей фактов](multidimensional-models/define-a-fact-relationship-and-fact-relationship-properties.md)  
  
  
