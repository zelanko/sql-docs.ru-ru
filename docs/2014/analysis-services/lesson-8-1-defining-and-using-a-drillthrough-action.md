---
title: Определение и использование действия детализации | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 3765f865-2b93-44be-b290-28e3815d5ecb
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: a6cf8b025530cbeee236e519564cc5c25861824c
ms.sourcegitcommit: a1adc6906ccc0a57d187e1ce35ab7a7a951ebff8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/09/2019
ms.locfileid: "68888107"
---
# <a name="defining-and-using-a-drillthrough-action"></a>Определение и использование действия детализации
  Распределение данных фактов по измерениям фактов без верной фильтрации данных, возвращаемых запросом, может привести к снижению его производительности. Чтобы избежать этого, можно определить действие детализации, которое ограничит общее число возвращаемых строк. Это позволит значительно повысить производительность выполнения запросов.  
  
 В задачах этого раздела предстоит создать действие детализации, возвращающее пользователям через Интернет подробные сведения о заказе на продажу.  
  
## <a name="defining-the-drillthrough-action-properties"></a>Определение свойств действия детализации  
  
1.  Откройте куб "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] " в конструкторе кубов и перейдите на вкладку **Действия** .  
  
     Вкладка **Действия** содержит несколько панелей. В левой части вкладки находятся панели **Организатор действий** и **Средства вычисления** . Справа от них находится панель **Отображение** , содержащая подробные сведения о действии, выбранном на панели **Организатор действий** .  
  
     На рисунке ниже показана вкладка **Действия** конструктора кубов.  
  
     ![Вкладка "действия" конструктора кубов](../../2014/tutorials/media/l8-action1.gif "Вкладка \"действия\" конструктора кубов")  
  
2.  На панели инструментов вкладки **Действия** нажмите кнопку **Создать действие детализации** .  
  
     В панели отображения появится пустой шаблон действия.  
  
     ![Пустой шаблон действия на панели просмотра](../../2014/tutorials/media/l8-action2.gif "Пустой шаблон действия на панели просмотра")  
  
3.  В поле **имя** измените имя этого действия на `Internet Sales Details Drillthrough Action`.  
  
4.  В списке **Элементы группы мер** выберите значение **Продажи через Интернет**.  
  
5.  В поле **Столбцы детализации** выберите в списке **Измерения** значение **Подробности заказа через Интернет** .  
  
6.  В списке **Возвращаемые столбцы** установите флажки **Описание элемента** и **Номер заказа** , а затем нажмите кнопку **ОК**. На следующем рисунке показано, как выглядит шаблон действия в этот момент времени данной процедуры.  
  
     ![Поле столбцов детализации](../../2014/tutorials/media/l8-action3.gif "Поле столбцов детализации")  
  
7.  Разверните поле **Дополнительные свойства** , как показано на рисунке ниже.  
  
     ![Поле "дополнительные свойства"](../../2014/tutorials/media/l8-action4.gif "Поле \"дополнительные свойства\"")  
  
8.  В поле **Максимальное число строк** введите `10`.  
  
9. В поле **заголовок** введите `Drillthrough to Order Details...`.  
  
     Эти настройки ограничивают количество возвращаемых строк и указывают заголовок, отображаемый в меню клиентского приложения. На рисунке ниже показаны эти параметры в поле **Дополнительные свойства** .  
  
     ![Поле "дополнительные свойства"](../../2014/tutorials/media/l8-action5.gif "Поле \"дополнительные свойства\"")  
  
## <a name="using-the-drillthrough-action"></a>Использование действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб **Tutorial, перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Добавьте меру **Продажи через Интернет — объем продаж** в область значений.  
  
5.  Добавьте определенную пользователем иерархию **География заказчика** из папки **Расположение** в измерении **Заказчик** в область **Фильтр отчета** .  
  
6.  В сводной таблице в столбце **География заказчика**добавьте фильтр, который выбирает одного заказчика. Разверните узлы **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбейн**, **4000**, установите флажок **Адам Пауэл**и нажмите кнопку **ОК**.  
  
     В области данных будет отображена итоговая сумма продаж компании [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] Адаму Пауэлу.  
  
7.  Щелкните правой кнопкой мыши объем продаж, наведите указатель на пункт **Дополнительные действия**, а затем щелкните **Детализация сведений о заказе**.  
  
     В окне **Средство просмотра выборки данных**приводятся подробные сведения о заказах, отправленных Адаму Пауэлу, как показано на рисунке ниже. Однако были бы полезны некоторые дополнительные сведения, например дата заказа, дата оплаты счета и дата отгрузки. В следующей процедуре эти дополнительные сведения будут добавлены.  
  
     ![Заказы, отправленные в Адам Пауэл](../../2014/tutorials/media/l8-action6.gif "Заказы, отправленные в Адам Пауэл")  
  
8.  Закрыть Excel/  
  
## <a name="modifying-the-drillthrough-action"></a>Изменение действия детализации  
  
1.  Откройте измерение **Подробности заказа через Интернет** в конструкторе измерений.  
  
     Обратите внимание, что для этого измерения определены только три атрибута.  
  
2.  На панели **Представление источника данных** щелкните правой кнопкой мыши свободную область и выберите команду **Показать все таблицы**.  
  
3.  В меню **Формат** наведите указатель на пункт **Автомакет** и выберите пункт **Диаграмма**.  
  
4.  Найдите таблицу **InternetSales (dbo.FactInternetSales)** , щелкнув правой кнопкой мыши свободный участок панели **Представление источника данных** . Выберите команду **Найти таблицу** , выберите **InternetSales** , а затем нажмите кнопку **ОК**.  
  
5.  Создайте новые атрибуты, основанные на следующих столбцах:  
  
    -   OrderDateKey  
  
    -   DueDateKey  
  
    -   ShipDateKey  
  
6.  Измените значение **свойства имя** для атрибута " **ключ даты заказа** " `Order Date` на, нажмите кнопку "Обзор" для свойства " **имя столбца** " и в диалоговом окне " **Столбец имени** " выберите значение " **Дата** " в качестве исходной таблицы и выберите SimpleDate в качестве исходного столбца. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
7.  Измените свойство **Name** для ключевого атрибута **Дата выполнения** на `Due Date`, а затем с помощью того же метода, что и **ключевой атрибут даты заказа** , измените свойство **Column Name** для этого атрибута на **Date. SimpleDate (WChar)** .  
  
8.  Измените свойство **Name** для ключевого атрибута **Дата** отгрузки `Ship Date`на, а затем измените свойство **Column Name** для этого атрибута на **Date. SimpleDate (WChar)** .  
  
9. Перейдите на вкладку **Действия** конструктора кубов для куба "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ".  
  
10. В поле **Столбцы детализации** установите флажки, добавив в список **Возвращаемые столбцы** перечисленные ниже столбцы, и нажмите кнопку **ОК**.  
  
    -   Дата заказа  
  
    -   Срок заказа  
  
    -   Дата отгрузки  
  
     На следующем рисунке эти столбцы выделены.  
  
     ![Поле столбцов детализации](../../2014/tutorials/media/l8-action7.gif "Поле столбцов детализации")  
  
## <a name="reviewing-the-modified-drillthrough-action"></a>Просмотр измененного действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб "Учебник по **", перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Создайте сводную таблицу снова с помощью меры **Продажи через Интернет — объем продаж** в области значений и **География заказчика** в фильтре отчета.  
  
     Добавьте фильтр по элементам **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбен**, **4000**, **Адам Пауэл**.  
  
5.  Щелкните ячейку данных **Продажи через Интернет — объем продаж** , наведите указатель на пункт **Дополнительные действия**и щелкните **Детализация сведения о заказе**.  
  
     Подробные сведения о заказах, поставленных Адаму Пауэллу, отображаются на временном листе. Доступны для просмотра описание элемента, номер заказа, дата заказа, срок заказа и дата отгрузки, как показано на следующем рисунке.  
  
     ![Заказы, отправленные в Адам Пауэл](../../2014/tutorials/media/l8-action8.gif "Заказы, отправленные в Адам Пауэл")  
  
## <a name="next-lesson"></a>Следующее занятие  
 [Занятие 9. Определение перспектив и переводов](https://docs.microsoft.com/analysis-services/lesson-9-defining-perspectives-and-translations)  
  
## <a name="see-also"></a>См. также  
 [Действия &#40;Analysis Services — многомерные данные&#41;](multidimensional-models/actions-analysis-services-multidimensional-data.md)   
 [Действия в многомерных моделях](multidimensional-models/actions-in-multidimensional-models.md)   
 [Связи измерений](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)   
 [Определение связи фактов](https://docs.microsoft.com/analysis-services/lesson-5-2-defining-a-fact-relationship)   
 [Определение связей фактов и свойств связей фактов](multidimensional-models/define-a-fact-relationship-and-fact-relationship-properties.md)  
  
  
