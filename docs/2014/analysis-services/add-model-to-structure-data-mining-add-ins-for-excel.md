---
title: Добавление модели в структуру (надстройки интеллектуального анализа данных для Excel) | Документация Майкрософт
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, creating
ms.assetid: 8efd5bf4-4e6a-4ee8-971a-6efaed5f3b76
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: ce68071f27897e181063299e561dfaa7d9f8aab7
ms.sourcegitcommit: 6fd8c1914de4c7ac24900fe388ecc7883c740077
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2020
ms.locfileid: "66062875"
---
# <a name="add-model-to-structure-data-mining-add-ins-for-excel"></a>Добавление модели к структуре (надстройки интеллектуального анализа данных для Excel)
  ![Кнопка «Добавить модель к структуре»](media/dmc-addmodel.gif "Кнопка «Добавить модель к структуре»")  
  
 При нажатии кнопки **Добавить модель в структуру**запускается мастер, который помогает создать новую модель интеллектуального анализа данных для использования с существующей структурой интеллектуального анализа данных. Это удобно, поскольку можно будет сравнить модели, основанные на одних данных, либо создать пользовательские модели.  
  
 Если экземпляр Analysis Services еще не содержит нужные данные, для настройки структуры интеллектуального анализа данных используйте мастер [создания структуры интеллектуального анализа &#40;SQL Server&#41;надстроек интеллектуального анализа данных](create-mining-structure-sql-server-data-mining-add-ins.md) . Можно также запустить один из мастеров моделирования и добавить новую модель в структуру, созданную мастером.  
  
 Для создания расширенных моделей с использованием алгоритмов, которые не поддерживаются мастерами, создайте структуру интеллектуального анализа данных, а затем добавьте модель с помощью **расширенного редактора запросов интеллектуального анализа**.  
  
## <a name="add-a-new-model-to-an-existing-structure"></a>Добавление новой модели в существующую структуру  
  
1.  На ленте **интеллектуальный анализ данных** щелкните стрелку в разделе **Дополнительно**и выберите **Добавить модель к структуре**.  
  
2.  В диалоговом окне **Выбор структуры** выберите структуру, содержащую данные, которые необходимо использовать, а затем нажмите кнопку **Далее**.  
  
     **Совет**. Если вы не знаете, какая структура интеллектуального анализа данных содержит нужные данные, используйте мастер **документирования модели** для просмотра столбцов и базовой статистики по данным.  
  
     Если не удается найти структуру интеллектуального анализа данных, проверьте подключение, используемое в текущий момент. Возможно, необходимо будет установить соединение с другим сервером.  
  
3.  В диалоговом окне **Выбор алгоритма интеллектуального анализа** данных выберите алгоритм интеллектуального анализа данных, который будет использоваться в новой модели интеллектуального анализа данных.  
  
     Обратите внимание, что диалоговое окно предоставляет гораздо больше параметров, чем вы увидите в мастерах. Модель можно создать на основе любого алгоритма, поддерживаемого на сервере служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], при условии совместимости данных.  
  
4.  Рекомендуется также нажать кнопку " **Параметры** ", чтобы открыть диалоговое окно " **Параметры алгоритма** " и настроить параметры алгоритма. Этот режим представляет собой самый простой способ создания пользовательских моделей интеллектуального анализа данных.  
  
5.  Нажмите кнопку **Далее**.  
  
6.  В диалоговом окне **Выбор столбцов** проверьте список столбцов и при необходимости измените использование столбцов на одно из следующих значений:  
  
    -   **Входные данные**. Указывает, что столбец содержит переменные, которые влияют на результат и должны использоваться в качестве входных данных для модели.  
  
    -   **Входные и прогнозируемые данные**. Указывает, что данные должны использоваться в качестве входных данных, а также что именно эти значения нужно спрогнозировать.  
  
    -   **Только прогноз**. Указывает, что данные не должны использоваться в качестве входных данных для модели.  
  
    -   **Ключ**. Для каждой модели требуется по крайней мере один ключ. В зависимости от типа модели также можно использовать дополнительные специальные ключи, например **секуенцекэй** или **TimeKey**.  
  
    -   **Не используйте**. Указывает, что данные не должны использоваться в модели, даже если они присутствуют в структуре.  
  
7.  Нажмите кнопку обзора **(...)** , чтобы открыть диалоговое окно **Установка флагов столбцов модели** .  
  
     Убедитесь, что использование каждого столбца данных подходит для этой модели. Это важный шаг, который позволит предотвратить ошибки во время обработки модели.  
  
     Например, если повторно использовать структуру, созданную для моделей на основе дерева принятия решений, и применить упрощенный алгоритм Байеса, столбцы с типом данных `Numeric` и типом содержимого `Continuous` нужно будет сгруппировать или заменить на дискретные переменные.  
  
     Если столбцы в структуре неприменимы к новому алгоритму, их можно обойти, выбрав параметр **не использовать**.  
  
8.  В диалоговом окне **Установка флагов столбцов модели** проверьте или задайте флаги модели (если они есть).  
  
     Флаги моделирования позволяют управлять среди прочего обработкой значений NULL. Дополнительные сведения см. в разделе [Флаги моделирования (интеллектуальный анализ данных)](data-mining/modeling-flags-data-mining.md).  
  
     Нажмите кнопку **ОК** после завершения, чтобы закрыть диалоговое окно.  
  
9. В диалоговом окне **Завершение** введите имя и описание новой модели интеллектуального анализа данных.  
  
     В зависимости от созданного типа модели возможны следующие варианты.  
  
    -   Найдите готовую модель интеллектуального анализа данных после ее построения.  
  
    -   Воспользуйтесь детализацией углублением из модели до исходных данных.  
  
         Дополнительные сведения см. [в разделе Детализация моделей интеллектуального анализа данных](data-mining/drillthrough-on-mining-models.md).  
  
10. Нажмите кнопку **Готово**, чтобы сохранить изменения. После этого новая модель будет развернута на сервере и обработана.  
  
### <a name="related-options"></a>Связанные параметры  
  
|Параметр|Комментарии|  
|------------|--------------|  
|Диалоговое окно « **Выбор структуры или модели** »|Выберите существующую структуру интеллектуального анализа данных, которая будет использоваться в качестве основы для построения новой модели.  Выбранная структура должна находиться в текущем соединении. В противном случае измените подключения с помощью средства " [Подключение к источнику данных &#40;" клиент интеллектуального анализа данных для&#41;Excel](connect-to-source-data-data-mining-client-for-excel.md) ".|  
|Диалоговое окно « **Выбор алгоритма интеллектуального анализа данных** »|Список алгоритмов интеллектуального анализа данных зависит от подключения к серверу. В выпусках Standard и Enterprise служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] есть различные алгоритмы. Системный администратор также может добавлять пользовательские алгоритмы.<br /><br /> Если вы не видите никаких алгоритмов, убедитесь, что вы подключены к экземпляру [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].|  
|**Параметры алгоритма** Диалоговое окно|С помощью этих параметров можно настроить каждый алгоритм, задавая параметры, относящиеся к аналитическому методу. Также можно задать начальное значение, чтобы результаты моделей можно было воспроизвести в разных обучающих проходах.<br /><br /> Дополнительные сведения см. в разделе [Параметры алгоритма &#40;SQL Server надстройки интеллектуального анализа данных&#41;](algorithm-parameters-sql-server-data-mining-add-ins.md).|  
|**Установка флагов столбцов модели** Диалоговое окно|Флаги моделирования могут улучшить модель, поскольку указывают, каким образом следует обрабатывать отсутствующие данные. Дополнительные сведения см. в разделе [Флаги моделирования (интеллектуальный анализ данных)](data-mining/modeling-flags-data-mining.md).|  
  
###  <a name="setting-column-usage"></a><a name="Bkmk_mdlcolumn"></a>Задание использования столбца  
 При добавлении новой модели в существующую структуру интеллектуального анализа данных необходимо указать, как в этой модели будет использоваться каждый столбец данных из структуры интеллектуального анализа данных. Вероятно, параметры в этом мастере гораздо более детализированы, чем параметры структуры интеллектуального анализа данных. Почему?  
  
 Дело в том, что при одновременном создании модели и структуры с помощью мастера многие параметры, определяющие использование данных алгоритмом, задаются автоматически. Однако при добавлении новой модели в существующую необходимо просмотреть все параметры вручную и указать, следует ли использовать данные для анализа, верен ли тип данных и т. д.  
  
 Возможно получение сообщения об ошибке при применении новых алгоритмов к существующим данным, но эти сообщения обычно содержат подробные сведения о том, что нужно сделать, чтобы модель была обработана. Ниже рассматриваются типовые проблемы.  
  
-   Модель ожидает тип данных, отличный от того, который содержится в структуре.  
  
     Некоторые алгоритмы могут работать только с числами, другие — только с текстом. Если данные имеют неверный тип для новой модели, возможно, для обеспечения обработки модели необходимо будет изменить структуру.  
  
-   Структура интеллектуального анализа данных не содержит прогнозируемый атрибут.  
  
     Модели кластеризации можно построить без прогнозируемых значений. Однако для других моделей обычно необходимо указать один столбец для прогноза.  
  
-   Композиция данных несовместима с выбранным алгоритмом.  
  
     Для некоторых типов анализа требуются данные, структурированные в соответствии с определенными правилами. Это касается моделей прогнозирования и взаимосвязей. Можно легко добавить новые модели схожего типа, возможно с изменениями, однако данные не будут работать с другими алгоритмами.  
  
### <a name="requirements"></a>Требования  
 Чтобы создать модель интеллектуального анализа данных, необходимо установить соединение с экземпляром служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]. Дополнительные сведения о создании или изменении подключения см. в разделе [Подключение к источнику данных &#40;клиент интеллектуального анализа данных для Excel&#41;](connect-to-source-data-data-mining-client-for-excel.md).  
  
 Если необходимая структура интеллектуального анализа данных недоступна для просмотра, она могла быть сохранена в другом экземпляре или в другой базе данных служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]. Дополнительные сведения о переходе к другому соединению интеллектуального анализа данных см. в разделе [Подключение к серверу интеллектуального анализа данных](connect-to-a-data-mining-server.md).  
  
## <a name="see-also"></a>См. также  
 [Создание модели интеллектуального анализа данных](creating-a-data-mining-model.md)   
