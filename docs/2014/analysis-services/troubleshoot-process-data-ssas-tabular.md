---
title: Устранение неполадок обработки данных (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 678f523c-e181-4456-9a54-7b7bf044b8d2
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: f76d67d5e44fc700d4b889840ef2dcc07a0bfde0
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "66065770"
---
# <a name="troubleshoot-process-data-ssas-tabular"></a>Устранение неполадок в данных процесса (табличные службы SSAS)
  В этом разделе содержатся сведения об обработке (обновлении) данных модели при создании модели с помощью [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]. В этом разделе не представлены сведения об обработке данных в моделях, развернутых на экземпляре сервера служб Analysis Services. Дополнительные сведения см. в статье [Создание скриптов для административных задач в службах Analysis Services](script-administrative-tasks-in-analysis-services.md).  
  
 Разделы данной темы:  
  
-   [Обработка данных](#bkmk_how_df_works)  
  
-   [Влияние обработки данных](#bkmk_impact_of_df)  
  
-   [Определение источника данных](#bkmk_det_source)  
  
-   [Определение времени последнего обновления источника данных](#bkmk_det_last_ref)  
  
-   [Ограничения по обновляемым источникам данных](#bkmk_restrictions)  
  
-   [Ограничения на изменения для источников данных](#bkmk_rest_changes)  
  
##  <a name="bkmk_how_df_works"></a> Обработка данных  
 Во время обработки данные в конструкторе моделей заменяются новыми данными. Нельзя выполнить импорт только новых строк данных или только что измененных данных. Конструктор моделей не выполняет отслеживание строк, которые были добавлены ранее.  
  
 Обработка данных происходит так же, как транзакция. Это значит, что, как только начинается обновление данных, оно может быть выполнено в полном объеме успешно или завершиться ошибкой; ситуация, когда данные обновляются частично, невозможна.  
  
 Ручная обработка данных, запускаемая из окна [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], осуществляется находящимся в памяти локальным экземпляром служб Analysis Services. Поэтому операция обработки данных может привести к снижению производительности других задач на компьютере. Однако если запланировать автоматическую обработку данных в развернутой модели с помощью скрипта, экземпляр служб Analysis Services будет управлять процессом и планированием импорта.  
  
##  <a name="bkmk_impact_of_df"></a> Влияние обработки данных  
 Обработка данных обычно вызывает пересчет данных.  Обработка данных означает получение последних данных из внешних источников; повторное вычисление означает обновление результатов всех формул, использующих измененные данные. Операция обработки обычно также запускает повторное вычисление.  
  
 Поэтому всегда следует учитывать возможные последствия изменения источников данных или обработки данных, получаемых из источника данных, и принимать во внимание эти возможные последствия.  
  
-   В результате изменения данных модели некоторые компоненты данных могут оказаться поврежденными. Если не все столбцы могут быть получены из источника данных (например, если они были удалены или изменены), то обработка завершится ошибкой; после этого придется обновить сопоставления между источником данных и данными модели. Дополнительные сведения см. в разделе [изменение существующего соединения с источником данных &#40;табличные службы SSAS&#41;](edit-an-existing-data-source-connection-ssas-tabular.md).  
  
-   После обработки некоторые столбцы могут оказаться помеченными как содержащие ошибку. Это может произойти из-за того, что формула DAX в столбце использует данные, которые стали недоступными при обработке, изменился тип данных столбца или к внешним данным было добавлено недопустимое значение. Чтобы устранить проблему, можно изменить формулу или удалить столбец, если он основан на данных, которые перестали быть доступными.  
  
-   Потребуется повторное вычисление формул, использующих обновленные данные. Это может потребовать некоторого времени в зависимости от размера модели.  
  
-   Если модель содержит несколько источников данных, может стать необходимой обработка всей модели (команда «Обработать все»), даже в случае изменения одного внешнего источника данных. Например, если создать меры, которые зависят от вычисляемых столбцов, притом что в этих вычисляемых столбцах используются значения из других вычисляемых столбцов, то конструктор моделей сначала выполняет анализ зависимостей, а затем по порядку обрабатывает всю цепочку связанных объектов. Это может занять некоторое время в зависимости от сложности зависимостей.  
  
-   При изменении любого фильтра должна быть повторно вычислена вся модель.  
  
##  <a name="bkmk_det_source"></a> Определение источника данных  
 Если точно неизвестно, откуда в модель поступают данные, можно воспользоваться инструментами среды [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)] для получения подробных сведений, в том числе пути и имени исходного файла.  
  
#### <a name="to-find-the-source-of-existing-data"></a>Выполнение поиска источника существующих данных  
  
1.  В конструкторе моделей выберите таблицу, содержащую данные, для которых необходимо установить источник.  
  
2.  Выберите в меню **Таблица** пункт **Свойства таблицы**.  
  
3.  Запишите значение поля **Имя соединения** в диалоговом окне **Изменение свойств таблицы**.  
  
4.  В среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]в меню **Модель** щелкните пункт **Существующие соединения**.  
  
5.  В диалоговом окне **Существующие соединения** выберите источник данных с именем, определенным на шаге 3, и нажмите кнопку **Изменить**.  
  
6.  В диалоговом окне **Изменение соединений** просмотрите сведения о соединении, например имя базы данных, путь к файлу или путь к отчету.  
  
##  <a name="bkmk_det_last_ref"></a> Определение времени последнего обновления источника данных  
 Для определения времени последнего обновления данных можно воспользоваться свойствами таблицы.  
  
#### <a name="to-find-the-date-and-time-that-a-table-was-last-processed"></a>Определение даты и времени последней обработки таблицы  
  
1.  В конструкторе моделей выберите таблицу, содержащую данные, для которых необходимо установить дату обновления.  
  
2.  Выберите в меню **Таблица** пункт **Свойства таблицы**.  
  
3.  В диалоговом окне **Изменение свойств таблицы** в поле **Последнее обновление** отображается дата последнего обновления таблицы.  
  
##  <a name="bkmk_restrictions"></a> Ограничения по обновляемым источникам данных  
 К источникам данных, которые могут автоматически обрабатываться из развернутой модели на экземпляре служб Analysis Services, применяются некоторые ограничения. Следует выбирать только те источники данных, которые соответствуют следующим критериям.  
  
-   Источник данных должен быть доступным в момент выполнения обработки данных и доступным в указанном расположении. Если исходный источник данных находится на локальном диске пользователя, который создал модель, то необходимо либо исключить его из операции обработки данных, либо опубликовать в расположении, доступном через сетевое подключение. Если некоторый источник данных перемещен в сетевую папку, то следует обязательно открыть модель в конструкторе моделей и повторить шаги получения данных. Это необходимо для повторного установления сведений о соединении, которые хранятся в свойствах соединения с источником данных.  
  
-   Доступ к источнику данных должен производиться с использованием учетных данных, внедренных в соединение с источником данных. Внедренные учетные данные создаются в соединении источника данных при подключении пользователя к внешнему источнику данных.  
  
-   Обработка данных должна завершиться успешно для всех указанных источников данных. В противном случае обработанные данные будут отброшены и в распоряжении пользователя останется только последняя сохраненная версия книги. Исключите все источники данных, в отношении которых нет полной уверенности.  
  
-   Обработка данных не должна приводить к тому, чтобы другие данные в модели становились недействительными. При обработке подмножества данных важно знать, останутся ли данные модели действительными после объединения новых данных с данными, оставшимися неизменными, которые относятся к другому периоду времени. Задача изучения зависимостей в данных и обеспечения приемлемости обработки данных для самой модели возлагается на ее автора.  
  
     Доступ к внешнему источнику данных осуществляется с помощью внедренной строки подключения, URL-адреса или пути в формате UNC, которые указаны при импорте исходных данных в модель с помощью мастера импорта таблиц. Исходная информация о соединении, которая хранится в соединении с источником данных, повторно используется при осуществлении последующих операций обновления данных. Никакие отдельные данные о соединении в целях обработки не создаются и не обрабатываются. Используются только существующие сведения о соединении.  
  
##  <a name="bkmk_rest_changes"></a> Ограничения на изменения для источников данных  
 Существует ряд ограничений на изменения, которые можно вносить в источник данных.  
  
-   Типы данных столбца можно изменять только на совместимый тип данных. Например, если столбец включает десятичные числа, то тип данных нельзя изменить на целочисленный. При этом числовые данные можно преобразовать в текст. Дополнительные сведения о типах данных см. в разделе [Поддерживаемые типы данных (табличные службы SSAS)](tabular-models/data-types-supported-ssas-tabular.md).  
  
-   Нельзя выбрать несколько столбцов из различных таблиц и изменить свойства этих столбцов. В каждый момент времени можно работать только с одной таблицей или представлением.  
  
## <a name="see-also"></a>См. также  
 [Обработка данных вручную (табличные службы SSAS)](manually-process-data-ssas-tabular.md)   
 [Изменение существующего соединения с источником данных (табличные службы SSAS)](edit-an-existing-data-source-connection-ssas-tabular.md)  
  
  
