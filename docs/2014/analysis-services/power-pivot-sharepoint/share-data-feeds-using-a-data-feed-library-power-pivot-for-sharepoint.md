---
title: Совместное использование веб-каналов данных с помощью библиотеки каналов данных (PowerPivot для SharePoint) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- data feeds [Analysis Services with SharePoint]
ms.assetid: 4ec98dec-0cd2-4727-bb79-5bf6f8a865d6
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 00ecb4487119251f1b86c2daf29b7481966f09f7
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "66071145"
---
# <a name="share-data-feeds-using-a-data-feed-library-powerpivot-for-sharepoint"></a>Совместное использование веб-каналов данных с помощью библиотеки каналов данных (PowerPivot для SharePoint)
  Каналом данных называется поток XML-данных, создаваемый службой или приложением и представляющий данные в формате Atom. Он все чаще используется для передачи данных между приложениями и средствами просмотра на стороне клиента. В PowerPivot для SharePoint развертывании веб-каналы данных используются для заполнения источника [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] данных данными из приложения или службы, поддерживающей Atom.  
  
 Если в организации уже используется сочетание приложений с поддержкой Atom, то изучение этих форматов может и не понадобиться, поскольку данные передаются между приложениями без дополнительных преобразований. Однако организациям, использующим пользовательские решения для публикации веб-каналов Atom, часто нужны способы обеспечения доступа к каналам для специалистов по работе с данными. Один из таких способов заключается в создании и предоставлении общего доступа к сервисным документам данных (ATOMSVC-файлам), которые предназначены для создания каналов и установления соединения с источниками данных в сети. Специальная библиотека, которая называется библиотекой каналов данных, поддерживает создание и предоставление общего доступа к сервисным документам данных в веб-приложении SharePoint.  
  
 Этот раздел состоит из следующих подразделов.  
  
 [Предварительные требования](#prereq)  
  
 [Создание сервисного документа данных](#createdsdoc)  
  
 [Обеспечение безопасности сервисного документа данных](#securedsdoc)  
  
 [Изменение сервисного документа данных](#modifydsdoc)  
  
 [Следующий шаг: использование сервисного документа данных](#usedsdoc)  
  
> [!NOTE]  
>  Хотя каналы данных служат для добавления веб-данных к источнику данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , создаваемому в [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)], все клиентские приложения, совместимые с веб-каналами Atom, могут обрабатывать сервисный документ данных.  
  
##  <a name="prereq"></a> Предварительные требования  
 Необходимо иметь развертывание [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] PowerPivot для SharePoint, которое добавляет [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] обработку запросов в ферму SharePoint. Развертывание поддержки каналов данных производится с помощью пакета решения [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .  
  
 Необходима библиотека SharePoint, поддерживающая тип содержимого сервисного документа данных. Для этих целей рекомендуется пользоваться библиотекой каналов данных по умолчанию, но при необходимости можно добавить тип содержимого к любой библиотеке. Дополнительные сведения см. [в разделе Создание или Настройка библиотеки веб-каналов данных &#40;PowerPivot для SharePoint&#41;](create-or-customize-a-data-feed-library-power-pivot-for-sharepoint.md).  
  
 Необходима служба данных или источник данных в сети, обеспечивающий представление табличных данных XML в формате Atom 1.0.  
  
 Для создания и работы с сервисным документом данных в библиотеке SharePoint необходимо разрешение «Участие» на сайте SharePoint.  
  
##  <a name="createdsdoc"></a>Создание сервисного документа данных  
 Сервисный документ данных представляет собой продолжительный запрос данных из потока по запросу из источника данных в сети или из приложения, которое поставляет данные в формате канала. При создании сервисного документа данных необходимо выбрать указатель на одну или несколько служб данных, доступных через URL-адрес, которые обеспечивают передачу табличных данных XML в синдицированном формате Atom.  
  
 Один документ может использоваться для указания нескольких каналов данных. Эта возможность используется при необходимости извлечения набора полезных данных из одной или нескольких служб в одной операции импорта.  
  
1.  На сайте SharePoint откройте библиотеку потоков данных или другую библиотеку документов, в которой был добавлен и настроен тип содержимого службы данных. Ранее созданную библиотеку потоков данных можно найти, выбрав **Просмотреть все** на панели быстрого запуска.  
  
2.  На ленте в верхней части страницы в инструментах документа выберите **Документы**.  
  
3.  Нажмите **Создать документ** и выберите **Сервисный документ данных**.  
  
4.  На странице нового сервисного документа данных введите следующие данные.  
  
    1.  Имя и описание сервисного документа данных. Описание должно быть достаточно подробным, чтобы пользователь мог принять решение о целесообразности использования канала.  
  
    2.  В канале данных введите URL-адрес службы данных или веб-приложения, поставляющего данные в формате Atom 1.0.  
  
         URL-адрес должен указывать на службу, которая возвращает структурированные или полуструктурированные данные в строках и столбцах. Служба должна возвращать данные анонимно или по учетным данным безопасности текущего пользователя.  
  
         URL-адрес должен указывать на службу, которая поддерживает проверку подлинности Windows, обычную проверку подлинности или анонимный доступ. Выбор используемой схемы выполняется пользователем, импортирующим канал. Встроенные функции безопасности выбираются по умолчанию.  
  
         URL-адрес канала данных может включать параметры. Различные технологии служб данных поддерживают сложные схемы адресации с использованием URL-адресов, позволяющие выбрать только те данные, которые необходимы. Например, служба данных ADO.NET data service предусматривает параметры URL-адреса для указания сущностей, связей и путей навигации в базовых данных. При указании в качестве источника канала данных сложного URL-адреса можно точно указать необходимый набор данных.  
  
    3.  Для этого же канала данных введите имя таблицы, которое будет соответствовать набору данных в клиентском приложении. В [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)]все импортируемые веб-каналы данных помещаются в собственный табличный управляющий элемент в источнике данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] . Необходимо указать имя таблицы, в которую импортируются данные при настройке веб-канала данных.  
  
5.  Нажмите «Добавить другой канал данных» и повторите предыдущие действия, чтобы определить другие каналы из этой же или другой службы.  
  
     Все сервисные документы данных обрабатываются в ходе одной операции. Все потоки данных в документе будут созданы асинхронно и возвращены клиентскому приложению в ходе выполнения одной операции. Поэтому для каналов данных, которые будут использоваться совместно, следует указывать только пары «адрес-таблица».  
  
     Поскольку схемы проверки подлинности настраиваются на уровне сервисного документа данных, все дополнительные каналы данных должны создаваться в службе или приложении, поддерживающем ту же схему проверки подлинности, что и первый канал. Для всех каналов в одном сервисном документе данных будет использоваться один и тот же метод проверки подлинности во время выполнения.  
  
6.  Сохраните документ. Сервисный документ данных сохраняется как физический ATOMSVC-файл в библиотеке содержимого, настроенной для данного типа содержимого.  
  
 Когда необходимо использовать сервисный документ данных, можно открыть книгу [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в [!INCLUDE[ssGeminiClient](../../includes/ssgeminiclient-md.md)] и выбрать параметр **Из веб-канала данных** в мастере импорта данных. При получении запроса пользователь указывает URL-адрес сервисного документа данных в SharePoint, чтобы начать операцию импорта данных. Дополнительные сведения см. в статье [Использование веб-каналов данных &#40;PowerPivot для SharePoint&#41;](use-data-feeds-power-pivot-for-sharepoint.md).  
  
##  <a name="securedsdoc"></a>Защита сервисного документа данных  
 Сервисный документ данных наследует разрешения библиотеки, в которой он содержится. Разрешения, задаваемые для документа, определяют, может ли пользователь открыть, изменить или удалить сервисный документ данных.  
  
 Для использования сервисного документа данных для импорта каналов данных в клиентском приложении PowerPivot пользователю необходимы только разрешения на просмотр документа. Для разрешения URL-адреса в мастере импорта достаточно разрешений на просмотр.  
  
 Разрешения на просмотр сервисного документа данных проверяются только в момент начала выполнения операции импорта канала данных. После завершения операции импорта проверка разрешений документа выполняться не будет. Потоки данных, добавленные к источнику данных PowerPivot, существуют в виде статичных данных, отключенных от сервисного документа данных, обеспечившего данные исходного подключения.  
  
 Аналогичным образом все расположенные далее в расписании операции обновления данных «Обновить» также не включают сервисный документ данных. В момент выполнения операции импорта данные подключения всех каналов копируются в источник данных PowerPivot для выполнения задач обновления. По сути дела, разрешения сервисного документа данных при обновлении данных не проверяются, поскольку сам документ никогда не указывается в операции обновления.  
  
|Задача|Требования к разрешениям SharePoint|  
|----------|----------------------------------------|  
|Импортируйте каналы данных в книгу с поддержкой PowerPivot.|Просмотрите разрешения сервисного документа данных в библиотеке.|  
|В клиентском приложении PowerPivot обновите данные, которые были ранее получены из канала.|Не применяется Клиентское приложение PowerPivot использует внедренные сведения о HTTP-соединении для прямого соединения со службами данных и приложениями поставляющими данные для канала. Клиентское приложение PowerPivot не использует сервисный документ данных.|  
|В ферме SharePoint обновите данные, запланировав запуск задачи без участия пользователя.|Не применяется Служба PowerPivot использует внедренные сведения о HTTP-соединении для прямого соединения со службами данных и приложениями, поставляющими данные для канала. Служба PowerPivot не использует сервисный документ данных.|  
|Удалите из библиотеки сервисный документ данных.|Передайте разрешения на библиотеку.|  
  
##  <a name="modifydsdoc"></a>Изменение сервисного документа данных  
 В сервисном документе данных можно добавлять, изменять или удалять отдельные записи «адрес-таблица». После сохранения изменений пользователи, выбравшие сервисный документ в новой операции импорта, получат определенные в нем каналы данных.  
  
 [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)]изменения, внесенные в книги, в которых использовалась Предыдущая версия документа, не затрагиваются. Причина этого заключается в том, что сервисный документ данных считывается только один раз при выполнении первоначальной операции импорта. Во время импорта URL-адрес службы и имена таблиц копируются и сохраняются внутри книги. Затем эти значения используются в последующих операциях обновления для получения обновленных данных.  
  
 Поскольку нет постоянной ссылки между сервисным документом данных на сайте SharePoint и книгой [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] , в которой содержится импортированный канал, изменение любой части сервисного документа данных не повлияет на существующие книги [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .  
  
> [!IMPORTANT]  
>  Хотя сервисный документ данных считывается только один раз, службы данных, поставляющие фактические данные, можно регулярно просматривать для получения новых каналов. Дополнительные сведения об обновлении данных см. в разделе [PowerPivot Data Refresh](power-pivot-data-refresh.md).  
  
##  <a name="usedsdoc"></a>Следующий шаг: использование сервисного документа данных  
 Для использования сервисного документа данных, созданного в библиотеке SharePoint, используется параметр импорта **из веб-каналов данных** в источнике данных PowerPivot. Инструкции см. в разделе [Использование веб-каналов данных &#40;PowerPivot для SharePoint&#41;](use-data-feeds-power-pivot-for-sharepoint.md).  
  
## <a name="see-also"></a>См. также:  
 [Веб-каналы данных PowerPivot](power-pivot-data-feeds.md)  
  
  
