---
title: Прогнозирование временных рядов с использованием обновленных данных (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: af73681d-ce1c-4b6e-b195-6df3d2fb5275
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 2017defaba74071b1a12bee14a5d8907e4c71cda
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "63067560"
---
# <a name="time-series-predictions-using-updated-data-intermediate-data-mining-tutorial"></a>Прогнозы временных рядов с использованием обновленных данных (учебник по интеллектуальному анализу данных — средний уровень)
    
## <a name="creating-predictions-using-the-extended-sales-data"></a>Создание прогнозов с помощью расширенных сведений о продажах  
 На этом занятии будет создан прогнозирующий запрос, который добавляет новые данные о продажах в модель. Дополняя модель новыми данными, можно получать актуальные прогнозы, которые включают последние точки данных.  
  
 Создание прогнозов временных рядов, использующих новые данные, несложно: просто добавьте параметр EXTEND_MODEL_CASES в функцию [PredictTimeSeries &#40;DMX&#41;](/sql/dmx/predicttimeseries-dmx) , укажите источник новых данных и укажите, сколько прогнозов необходимо получить.  
  
> [!WARNING]  
>  Параметр EXTEND_MODEL_CASES не является обязательным. По умолчанию модель расширяется каждый раз при создании прогнозирующего запроса временных рядов путем соединения новых данных в качестве данных входа.  
  
#### <a name="to-build-the-prediction-query-and-add-new-data"></a>Создание прогнозирующего запроса и добавление новых данных  
  
1.  Если модель еще не открыта, дважды щелкните структуру прогноза, а затем в конструкторе интеллектуального анализа данных перейдите на вкладку **Прогноз модели интеллектуального анализа** .  
  
2.  На панели **модель интеллектуального анализа данных** должна быть уже выбрана прогнозная модель. Если он не выбран, щелкните **выбрать модель**, а затем выберите модель прогнозирование.  
  
3.  На панели **Выбор входных таблиц** нажмите кнопку **выбрать таблицу вариантов**.  
  
4.  В диалоговом окне **Выбор таблицы** выберите источник данных [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)].  
  
     В списке представлений источников данных выберите Невсалесдата и нажмите кнопку **ОК**.  
  
5.  Щелкните правой кнопкой мыши поверхность области конструирования и выберите пункт **Изменить подключения**.  
  
6.  Используя диалоговое окно **Изменение сопоставления** , сопоставьте столбцы в модели со столбцами внешних данных следующим образом:  
  
    -   Сопоставьте столбец ReportingDate в модели интеллектуального анализа данных со столбцом Невдате входными данными.  
  
    -   Сопоставьте столбец Amount в модели интеллектуального анализа данных со столбцом Невамаунт во входные данные.  
  
    -   Сопоставьте столбец Quantity в модели интеллектуального анализа данных со столбцом Невкти входными данными.  
  
    -   Сопоставьте столбец ModelRegion в модели интеллектуального анализа данных со столбцом рядов во входные данные.  
  
7.  Теперь вы создадите прогнозирующий запрос.  
  
     Сначала добавьте столбец к прогнозирующему запросу, чтобы получить ряд, к которому относится прогноз.  
  
    1.  В сетке щелкните первую пустую строку в разделе **источник**, а затем выберите прогнозирование.  
  
    2.  В столбце **поле** выберите область модели, а для **псевдонима**введите `Model Region`.  
  
8.  Далее добавьте и измените прогнозирующую функцию.  
  
    1.  Щелкните пустую строку и в разделе **источник**выберите **функция прогнозирования**.  
  
    2.  Для **поля поле**выберите **PredictTimeSeries**.  
  
    3.  В качестве **псевдонима**введите **прогнозируемые значения**.  
  
    4.  Перетащите поле "количество" с панели **модель интеллектуального анализа данных** в столбец **критерий или аргумент** .  
  
    5.  В столбце **критерий или аргумент** после имени поля введите следующий текст: **5, EXTEND_MODEL_CASES**  
  
         Полный текст текстового поля **критерий или аргумента** должен выглядеть следующим образом:`[Forecasting].[Quantity],5,EXTEND_MODEL_CASES`  
  
9. Щелкните **результаты** и проверьте результаты.  
  
     Прогноз начинается в июле (срез первого периода после исходных данных) и заканчивается в ноябре (срез пятого периода после исходных данных).  
  
 Как видно, чтобы эффективно использовать этот тип прогнозирующего запроса, нужно знать, когда завершаются старые данные, а также сколько имеется срезов в новых данных.  
  
 Например, в этой модели ряд исходных данных завершился в июне, а данные были получены для июля, августа и сентября.  
  
 Прогнозы, использующие параметр EXTEND_MODEL_CASES, всегда начинаются в конце ряда исходных данных. Поэтому, если нужно получить прогноз только для неизвестных месяцев, следует указать начальную и конечную точки прогноза. Оба значения указываются в качестве временных срезов в конце старых данных.  
  
 В следующей процедуре показано, как это можно сделать.  
  
### <a name="change-the-start-and-end-points-of-the-predictions"></a>Изменение начальной и конечной точек прогноза  
  
1.  В конструктор запросов прогнозирования щелкните **запрос** , чтобы переключиться в представление DMX.  
  
2.  Найдите DMX-инструкцию, содержащую функцию PredictTimeSeries, и измените ее следующим образом.  
  
     `PredictTimeSeries([Forecasting 12].[Quantity],4,6,EXTEND_MODEL_CASES)`  
  
3.  Щелкните **результаты** и проверьте результаты.  
  
     Теперь прогноз начинается в октябре (срез четвертого периода — начиная с конца исходных данных) и завершается в декабре (срез шестого периода — начиная с конца исходных данных).  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Прогнозирование временных рядов с использованием замещения данных &#40;учебник по интеллектуальному анализу данных&#41;](../../2014/tutorials/time-series-predictions-replacement-data-intermediate-data-mining.md)  
  
## <a name="see-also"></a>См. также:  
 [Технический справочник по алгоритму временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md)   
 [Содержимое модели интеллектуального анализа данных для моделей временных рядов &#40;Analysis Services-интеллектуальный анализ данных&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-time-series-models-analysis-services-data-mining.md)  
  
  
