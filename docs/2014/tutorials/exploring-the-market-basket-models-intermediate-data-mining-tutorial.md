---
title: Изучение моделей потребительской корзины (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: da1c9cb7-6c32-4b9b-96ec-ecea772aeb77
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 8a7b2f97cbda0594698c6cbaa68019a6493f1e74
ms.sourcegitcommit: 6fd8c1914de4c7ac24900fe388ecc7883c740077
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2020
ms.locfileid: "63224611"
---
# <a name="exploring-the-market-basket-models-intermediate-data-mining-tutorial"></a>Изучение модели «Потребительская корзина» (учебник по интеллектуальному анализу данных — средний уровень)
  Теперь, когда `Association` модель создана, ее можно исследовать с помощью средства просмотра [!INCLUDE[msCoName](../includes/msconame-md.md)] взаимосвязей на вкладке **средство просмотра моделей интеллектуального анализа** данных конструктора интеллектуального анализа. В данном учебнике рассказано, как использовать средство просмотра для изучения взаимосвязей между элементами. С помощью средства просмотра можно визуально определить, какие продукты имеют тенденцию появляться вместе, а также получить общее представление о появляющихся закономерностях.  
  
 Средство [!INCLUDE[msCoName](../includes/msconame-md.md)] просмотра взаимосвязей содержит три вкладки: **правила**, **наборы элементов**и **Сеть зависимостей**. Поскольку каждая вкладка отображает немного отличающееся представление данных, при изучении обычно нужно переключаться несколько раз между различными панелями для понимания модели.  
  
-   [Вкладка "Сеть зависимостей"](#bkmk_DepNet)  
  
-   [Вкладка наборов элементов](#bkmk_Itemsets)  
  
-   [Вкладка "правила"](#bkmk_Rules)  
  
-   [Представление общего содержимого](#bkmk_ContentViewer)  
  
 В этом руководстве вы начнете работу на вкладке **Сеть зависимостей** , а затем используете вкладку **правила** и **наборы элементов** , чтобы углубить ваше представление о связях, отображенных в средстве просмотра. Вы также будете использовать **средство просмотра деревьев содержимого общего вида (Майкрософт** ) для получения подробных статистических данных по отдельным правилам или наборам элементов.  
  
##  <a name="dependency-network-tab"></a><a name="bkmk_DepNet"></a>Вкладка "Сеть зависимостей"  
 На вкладке **Сеть зависимостей** можно исследовать взаимодействие различных элементов модели. Каждый из узлов в средстве просмотра отображает элемент, а линии между ними представляют правила. Выбрав узел, можно просмотреть, какие другие узлы предсказывают выбранный элемент, либо какие элементы предсказывает текущий элемент. В некоторых случаях между элементами возникает двухсторонняя взаимосвязь. Это означает, что они часто встречаются в одной транзакции. Чтобы определить направление связи, можно обратиться к цветовым условным обозначениям в нижней части вкладки.  
  
 Соединяющая два элемента линия означает, что такие элементы с большой долей вероятности будут присутствовать в одной транзакции. Другими словами, покупатели, скорее всего, покупают эти два элемента одновременно. Ползунок связан со значением вероятности правила. Передвигая ползунок вверх или вниз, можно отфильтровать слабые взаимосвязи, то есть правила с низкой вероятностью.  
  
 На графе сети зависимостей отображаются парные правила, которые можно представить логически как A->B, то есть если продукт A куплен, то, скорее всего, продукт б. Граф не может показывать правила типа AB->C. Если переместить ползунок в положение, в котором должны отображаться все правила, а на диаграмме никакие линии не появляются, это означает, что отсутствуют парные правила, которые соответствуют критериям параметров алгоритма.  
  
 Также имеется возможность поиска узлов по имени. Для этого необходимо ввести первые буквы имени атрибута. Дополнительные сведения см. в разделе [Диалоговое окно "Найти узел" (средство просмотра моделей интеллектуального анализа данных)](../../2014/analysis-services/find-node-dialog-box-mining-model-viewer.md).  
  
#### <a name="to-open-the-association-mode-in-the-microsoft-assocaition-rules-viewer"></a>Открытие режима взаимосвязей в средстве просмотра правил взаимосвязей (Майкрософт)  
  
1.  В **Обозреватель решений**дважды щелкните структуру Ассоциации.  
  
2.  В конструкторе интеллектуального анализа данных перейдите на вкладку **Средство просмотра моделей интеллектуального анализа данных** .  
  
3.  Выберите Ассоциация из списка моделей интеллектуального анализа данных в раскрывающемся списке **модель интеллектуального анализа данных** .  
  
#### <a name="to-navigate-the-dependency-graph-and-locate-specific-nodes"></a>Перемещение по диаграмме зависимостей и поиск определенных узлов  
  
1.  На вкладке **средство просмотра моделей интеллектуального анализа данных** перейдите на вкладку **Сеть зависимостей** .  
  
2.  Щелкните **увеличить** несколько раз, пока вы не сможете легко просмотреть метки для каждого узла.  
  
     По умолчанию на диаграмме отображаются все узлы. В сложной модели может быть много узлов, из-за чего их изображение будет достаточно мелким.  
  
3.  Щелкните **+** знак в правом нижнем углу средства просмотра и удерживайте кнопку мыши, чтобы выполнить сдвиг диаграммы.  
  
4.  В левой части средства просмотра перетащите ползунок вниз, переместив его из **всех ссылок** (по умолчанию) в нижнюю часть элемента управления Slider.  
  
5.  В результате этого на диаграмме будут отображаться только самые тесные взаимосвязи, в данном случае между шиной и камерой для шины туристического велосипеда.  
  
6.  Щелкните узел с меткой **туристический трубка = существующий**.  
  
     В результате этого на диаграмме будут выделены только те элементы, которые явно связаны с данным элементом. Обратите внимание на стрелку между двумя такими элементами.  
  
7.  Перетащите ползунок, расположенный в левой части средства просмотра, в среднее положение.  
  
     Обратите внимание на изменения стрелки, соединяющей такие элементы.  
  
8.  Выберите параметр **Показывать имя атрибута только** в раскрывающемся списке в верхней части области сеть зависимостей.  
  
     После обновления текстовые метки на диаграмме будут содержать только имя модели.  
  
 [К началу](#bkmk_DepNet)  
  
##  <a name="itemsets-tab"></a><a name="bkmk_Itemsets"></a>Вкладка наборов элементов  
 Далее будет рассказано о правилах и наборах элементов, сформированных моделью для шин и камер для туристических велосипедов. На вкладке **наборы элементов** отображаются три важных элемента информации, относящиеся к [!INCLUDE[msCoName](../includes/msconame-md.md)] наборам элементов, обнаруживаемым алгоритмом взаимосвязей:  
  
-   **Поддержка:** Число транзакций, в которых встречается набор элементов.  
  
-   **Размер:** Число элементов в наборе элементов.  
  
-   **Элементы:** Список элементов, входящих в каждый набор элементов.  
  
 В зависимости от того, каким образом настроены параметры алгоритма, он может сформировать большое число наборов элементов. Каждый набор элементов, отображаемый средством просмотра, содержит сведения о транзакциях, в которых был продан определенный элемент. С помощью элементов управления в верхней части вкладки **наборы элементов** можно отфильтровать средство просмотра, чтобы отображались только наборы элементов, содержащие указанную минимальную поддержку и размер набора элементов.  
  
 Если при работе с какой-либо другой моделью интеллектуального анализа данных отсутствуют наборы элементов, это объясняется тем, что ни один из наборов элементов не удовлетворяет условиям параметров алгоритма. В такой ситуации можно изменить параметры алгоритма с целью снижения требований к наборам элементов.  
  
#### <a name="to-filter-the-itemsets-that-are-shown-in-the-viewer-by-name"></a>Фильтр по имени наборов элементов, отображаемых в средстве просмотра  
  
1.  Откройте вкладку **наборы элементов** средства просмотра.  
  
2.  В поле **Фильтровать набор элементов** введите `Touring Tire`, а затем щелкните за пределами поля.  
  
     В результате этого фильтр отобразит все элементы, в которых присутствует указанная строка.  
  
3.  В списке **Показывать** выберите **Показывать только имя атрибута**.  
  
4.  Установите флажок **Показывать длинное имя** .  
  
     После обновления в списке наборов элементов будут отображаться только те наборы, которые содержат строку «Шина для туристического велосипеда». Длинное имя набора элементов состоит из имени таблицы, содержащей атрибут, и значения для каждого элемента.  
  
5.  Снимите флажок **Показывать длинное имя** .  
  
     После обновления в списке наборов элементов будут отображаться только короткие имена.  
  
 Значения в столбце **support** указывают количество транзакций для каждого набора элементов. Транзакция для набора элементов означает покупку, в состав которой входят все элементы набора.  
  
 По умолчанию в средстве просмотра отображаются наборы элементов в порядке уменьшения поддержки. Чтобы выполнить сортировку по другому столбцу, например по столбцу, в котором содержится размер или имя набора элементов, следует щелкнуть заголовок такого столбца. Если требуется получить дополнительную информацию об отдельных транзакциях, которые входят в какой-либо набор элементов, можно выполнить детализацию из набора элементов до уровня отдельных вариантов. Столбцы структуры в результатах детализации представляют собой уровень доходов покупателя и идентификатор покупателя, которые в данной модели не используются.  
  
#### <a name="to-view-details-for-an-itemset"></a>Просмотр подробных сведений о наборе элементов  
  
1.  В списке наборов элементов щелкните заголовок столбца **набор элементов** , чтобы выполнить сортировку по имени.  
  
2.  Выберите элемент `Touring Tire` (без второго элемента).  
  
3.  Щелкните элемент `Touring Tire`правой кнопкой мыши, выберите пункт **Детализация**, а затем выберите **столбцы модели и структуры**.  
  
     В диалоговом окне **Детализация** отображаются отдельные транзакции, используемые в качестве поддержки для этого набора элементов.  
  
4.  Разверните вложенную таблицу vAssocSeqLineItems, чтобы просмотреть фактический список покупок в транзакции.  
  
#### <a name="to-filter-itemsets-by-support-or-size"></a>Фильтр набора элементов по значению поддержки или размеру  
  
1.  Очистить любой текст, который может находиться в поле **Фильтровать набор элементов** . Использование текстового фильтра совместно с числовым фильтром не допускается.  
  
2.  В поле **Минимальная поддержка** введите 100, а затем щелкните фон средства просмотра.  
  
     После обновления в списке наборов элементов будут отображаться только те наборы элементов, у которых поддержка имеет значение не меньше 100.  
  
 [К началу](#bkmk_DepNet)  
  
##  <a name="rules-tab"></a><a name="bkmk_Rules"></a>Вкладка "правила"  
 На вкладке **правила** отображаются следующие сведения, связанные с правилами, найденными алгоритмом.  
  
-   **Вероятность:** *Вероятность* правила, определяемая как вероятность правого элемента по заданному левому элементу.  
  
-   **Важность:** Мера полезности правила. Чем больше значение, тем лучше правило.  
  
     Важность служит для оценки полезности правила, поскольку значение одной вероятности может привести к неверным выводам. Например, если в каждой транзакции содержится фляга для воды (возможно, эта фляга предоставлялась каждому покупателю автоматически в качестве рекламной акции), модель в этом случае создаст правило, которое прогнозирует продажу фляги для воды с вероятностью 1. На основе одной вероятности данное правило имеет высокую точность, но не предоставляет полезной информации.  
  
-   **Правило:** Определение правила. Для модели потребительской корзины правило описывает определенное сочетание товаров элементов.  
  
 Каждое из правил можно использовать для прогноза наличия позиции в транзакции на основе наличия других позиций. Как и на вкладке **наборы элементов** , можно фильтровать правила таким образом, чтобы отображались только наиболее интересные правила. Если в используемой модели интеллектуального анализа данных отсутствуют какие-либо правила, возможно, потребуется изменить параметры алгоритма, чтобы снизить порог вероятности для правил.  
  
#### <a name="to-see-only-rules-that-include-the-mountain-200-bicycle"></a>Просмотр правил, в которых имеется только модель велосипеда Mountain-200  
  
1.  На вкладке **средство просмотра моделей интеллектуального анализа данных** перейдите на вкладку **правила** .  
  
2.  В поле **правило фильтра** введите `Mountain-200`.  
  
     Снимите флажок **Показывать длинное имя** .  
  
3.  В списке **Показывать** выберите **Показывать только имя атрибута**.  
  
     В средстве просмотра отобразятся только правила, содержащие слова «`Mountain-200`». Вероятность этого правила сообщает, насколько вероятно, что когда кто-то покупает `Mountain-200` велосипед, он также купит другой указанный продукт.  
  
 Правила отображаются в нисходящем порядке, однако можно изменить порядок сортировки, щелкнув заголовок столбца. Если существует необходимость дополнительных данных о конкретном правиле, можно получить результаты детализации для изучения поддерживаемых вариантов.  
  
#### <a name="to-view-cases-that-support-a-particular-rule"></a>Просмотр вариантов, которые поддерживают определенное правило  
  
1.  На вкладке **правила** щелкните правой кнопкой мыши правило, которое необходимо просмотреть.  
  
2.  Выберите **Детализация**, а затем выберите **только столбцы модели**или **столбцы модели и структуры**.  
  
     Диалоговое окно **Детализация** содержит сводку по правилу в верхней части панели и список всех вариантов, которые использовались в качестве вспомогательных данных для правила.  
  
 [К началу](#bkmk_DepNet)  
  
##  <a name="generic-content-tree-viewer"></a><a name="bkmk_ContentViewer"></a>Средство просмотра деревьев содержимого общего вида  
 Это средство просмотра может использоваться для всех моделей независимо от типа модели и алгоритма. **Средство просмотра деревьев содержимого общего вида (Майкрософт** ) доступно из раскрывающегося списка **средство просмотра** .  
  
 Дерево содержимого представляет модель интеллектуального анализа данных в виде ряда узлов, каждый из которых представляет полученные знания о каком-либо подмножестве данных. Узел может содержать закономерность, набор правил, кластер или определение интервала дат, объединяемых некоторыми общими характеристиками. Конкретное содержимое узлов зависит от алгоритма и типа прогнозируемого атрибута, но общее представление содержимого одинаково. Каждый узел можно раскрыть, чтобы увеличить уровень детализации, и скопировать содержимое любого узла в буфер обмена.  
  
#### <a name="to-view-details-about-the-rule-by-using-the-content-viewer"></a>Просмотр подробных сведений о правиле с помощью средства просмотра содержимого  
  
1.  На вкладке **средство просмотра моделей интеллектуального анализа данных** выберите **средство просмотра деревьев содержимого общего вида (Майкрософт** ) из списка **средство просмотра** .  
  
2.  В панели «Заголовок узла» прокрутите список вниз до конца и щелкните последний узел.  
  
     В средстве просмотра будут вначале показаны наборы элементов со следующими за ними правилами, но без группировки. Самый простой способ найти определенный узел — это создать запрос к содержимому. Дополнительные сведения см. в статье [Примеры запросов моделей взаимосвязей](../../2014/analysis-services/data-mining/association-model-query-examples.md).  
  
3.  В панели «Сведения об узле» проверьте значения NODE_TYPE и NODE_DESCRIPTION.  
  
     Тип узла 8 представляет собой правило, а тип узла 7 представляет собой набор элементов. Значение NODE_DESCRIPTION для правила содержит условия, из которых состоит такое правило. Значение NODE_DESCRIPTION для набора элементов содержит элементы, включенные в набор.  
  
 Также можно создать запрос к содержимому для получения подробной статистики и правил. Дополнительные сведения о содержимом модели интеллектуального анализа данных и его интерпретации см. в разделе [содержимое моделей интеллектуального анализа данных для моделей взаимосвязей &#40;Analysis Services-&#41;интеллектуального анализа ](../../2014/analysis-services/data-mining/mining-model-content-for-association-models-analysis-services-data-mining.md).  
  
 [К началу](#bkmk_DepNet)  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Фильтрация вложенной таблицы в модели интеллектуального анализа данных &#40;руководстве по интеллектуальному анализу&#41;](../../2014/tutorials/filtering-a-nested-table-in-a-mining-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a>См. также  
 [Занятие 3. Создание сценария потребительской корзины &#40;учебнике по интеллектуальному анализу данных&#41;](../../2014/tutorials/lesson-3-building-a-market-basket-scenario-intermediate-data-mining-tutorial.md)   
 [Занятие 4. Создание сценария кластеризации последовательностей &#40;учебник по интеллектуальному анализу данных&#41;](../../2014/tutorials/lesson-4-build-sequence-clustering-scenario-intermediate-data-mining.md)   
 [Алгоритм взаимосвязей (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-association-algorithm.md)   
 [Технический справочник по алгоритму взаимосвязей (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-association-algorithm-technical-reference.md)  
  
  
