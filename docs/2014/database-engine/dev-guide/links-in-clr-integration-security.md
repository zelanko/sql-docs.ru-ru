---
title: Ссылки в безопасность интеграции CLR | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- table-access links [CLR integration]
- security [CLR integration]
- invocation links [CLR integration]
- gated links [CLR integration]
ms.assetid: 168efd01-d12e-4bdf-a1b3-0b5c76474eaf
author: mashamsft
ms.author: mathoma
manager: craigg
ms.openlocfilehash: 37aa64129658128bd7297f147f317166917e05a6
ms.sourcegitcommit: b87c384e10d6621cf3a95ffc79d6f6fad34d420f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2019
ms.locfileid: "60156781"
---
# <a name="links-in-clr-integration-security"></a>Ссылки в средствах безопасности интеграции со средой CLR
  В этом разделе описан способ обеспечения взаимного вызова в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]фрагментов пользовательского кода на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] или на одном из управляемых языков. Применяемые при этом связи между объектами называются ссылками.  
  
## <a name="invocation-links"></a>Ссылки вызова  
 Ссылки вызова соответствуют вызову кода, который поступает либо от пользователя, вызывающего объект (такой как пакетное задание [!INCLUDE[tsql](../../includes/tsql-md.md)] с вызовом хранимой процедуры), либо из хранимой процедуры или функции среды CLR. Применение ссылок вызова влечет за собой выполнение проверки разрешения `EXECUTE` на вызываемый объект.  
  
## <a name="table-access-links"></a>Ссылки доступа к таблицам  
 Ссылки доступа к таблицам соответствуют операциям получения или изменения значений в таблице, представлении или функции с табличным значением. Ссылки доступа к таблицам аналогичны ссылкам вызова, если не считать того, что они обеспечивают более детализированный контроль доступа в рамках разрешений SELECT, INSERT, UPDATE и DELETE.  
  
## <a name="gated-links"></a>Неконтролируемые ссылки  
 Неконтролируемые ссылки означают, что во время выполнения не происходит проверка разрешений в рамках связей между объектами после установления этих связей. Если между двумя объектами (например, между объектом **x** и объектом **y**) определена неконтролируемая ссылка, то разрешения на объект **y** и на другие объекты, к которым осуществляется доступ из объекта **y** , проверяются только во время создания объекта **x**. Во время создания объекта **x**, `REFERENCE` разрешение проверяется для **y** применительно к владельцу объекта **x**. А во время выполнения (например, при вызове кем-то объекта **x**) разрешения на объект **y** или другие объекты, на которые в нем заданы статические ссылки, не проверяются. Во время выполнения проверяется соответствующее разрешение в отношении самого объекта **x** .  
  
 Неконтролируемые ссылки всегда используются совместно с зависимостью метаданных между двумя объектами. Эта зависимость метаданных представляет собой связь, устанавливаемую в каталогах [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которая предотвращает удаление объекта, если от него зависит другой объект.  
  
 Неконтролируемые ссылки полезны, если назначение разрешений нескольким зависимым объектам невыполнимо или неудобно. Появились неконтролируемые ссылки между объектами, которые определяют точки входа [!INCLUDE[tsql](../../includes/tsql-md.md)] в сборки CLR (например, процедуры, триггеры, функции, типы и агрегаты) и сборки, в которых они определены. Исходя из того что требования безопасности по отношению к этим объектам не контролируется следует, что для вызова точки входа [!INCLUDE[tsql](../../includes/tsql-md.md)] , определенной в сборке CLR, вызывающему объекту требуется только соответствующее разрешение на эту точку входа [!INCLUDE[tsql](../../includes/tsql-md.md)] . Вызывающему объекту не требуются разрешения на эту сборку или другие сборки, на которые имеются статические ссылки. Разрешения на сборку проверяются во время создания точки входа [!INCLUDE[tsql](../../includes/tsql-md.md)] .  
  
## <a name="sql-server-authorization-based-security"></a>Безопасность SQL Server, основанная на авторизации  
 Далее перечислены основные правила, лежащие в основе проверок безопасности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для вызовов объектов базы данных в среде CLR и взаимных вызовов таких объектов; первые три правила определяют, какие разрешения проверяются и по отношению к каким объектам; четвертое правило определяет, для какого контекста выполнения проверяется разрешение.  
  
1.  Для всех вызовов требуется разрешение `EXECUTE`, если только вызовы не происходят в одном и том же объекте; это означает, что вызовы внутри одной и той же сборки не требуют проверок разрешений. Разрешение проверяется во время выполнения.  
  
2.  Для неконтролируемых ссылок требуется разрешение `REFERENCE` по отношению к вызываемому объекту при создании вызывающего объекта. Разрешение проверяется для владельца вызывающего объекта при создании объекта.  
  
3.  Для ссылок доступа к таблицам требуются соответствующие разрешения `SELECT`, `INSERT`, `UPDATE` или `DELETE` на таблицу или представление, к которому осуществляется доступ.  
  
4.  Это разрешение проверяется применительно к текущему контексту выполнения. Процедуры и функции могут быть созданы с контекстом выполнения, отличным от такового для вызывающего объекта. Сборки всегда создаются с контекстом выполнения процедуры, функции или триггера, по отношению к которому определен этот объект.  
  
## <a name="see-also"></a>См. также  
 [Безопасность интеграции со средой CLR](../../relational-databases/clr-integration/security/clr-integration-security.md)  
  
  
