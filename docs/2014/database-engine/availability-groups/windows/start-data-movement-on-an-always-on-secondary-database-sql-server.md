---
title: Запуск перемещения данных в базе данных-получателе AlwaysOn (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], databases
ms.assetid: 498eb3fb-6a43-434d-ad95-68a754232c45
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.openlocfilehash: b0626ce7dee34ed21aad3e902e3c3f555f27ab97
ms.sourcegitcommit: 6fd8c1914de4c7ac24900fe388ecc7883c740077
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2020
ms.locfileid: "62813562"
---
# <a name="start-data-movement-on-an-alwayson-secondary-database-sql-server"></a>Запуск перемещения данных для базы данных-получателя AlwaysOn (SQL Server)
  В этом разделе приведены сведения о запуске синхронизации данных после добавления базы данных в группу доступности AlwaysOn. Для каждой новой первичной реплики необходимо подготовить базы данных-получатели на экземплярах сервера, размещающих вторичные реплики. Затем каждую из этих баз данных-получателей необходимо вручную присоединить к группе доступности.  
  
> [!NOTE]  
>  Если пути к файлам на всех экземплярах сервера, размещающих реплики доступности группы доступности, одинаковые, то [мастер создания групп доступности](use-the-availability-group-wizard-sql-server-management-studio.md), [мастер добавления реплики в группу доступности](use-the-add-replica-to-availability-group-wizard-sql-server-management-studio.md)или [мастер добавления базы данных в группу доступности](availability-group-add-database-to-group-wizard.md) может автоматически запустить синхронизацию данных.  
  
 Для запуска синхронизации данных вручную потребуется поочередное подключение ко всем экземплярам сервера, на которых размещаются вторичные реплики для группы доступности, и выполнение следующих действий.  
  
1.  Восстановление текущих резервных копий всех баз данных-источников и их журналов транзакций (с помощью инструкции RESTORE WITH NORECOVERY). Можно использовать один из следующих альтернативных подходов.  
  
    -   Вручную восстановить последнюю резервную копию базы данных-источника с помощью инструкции RESTORE WITH NORECOVERY, а затем восстановить все последовательные резервные копии журнала с помощью инструкции RESTORE WITH NORECOVERY. Выполните эту последовательность восстановления на каждом экземпляре сервера, на котором расположена вторичная реплика этой группы доступности.  
  
         **Дополнительные сведения:**  
  
         [Подготовка базы данных-получателя для присоединения к группе доступности вручную (SQL Server)](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md)  
  
    -   При добавлении одной или нескольких баз данных-источников к группе доступности можно будет перевести одну или несколько соответствующих баз данных-получателей из доставки журналов в группы доступности AlwaysOn. Для выполнения переноса базы данных-получателя доставки журналов необходимо, чтобы эта база называлась так же, как и база данных-источник, и размещалась на экземпляре сервера, на котором находится вторичная реплика для группы доступности. Кроме того, группа доступности должна быть настроена так, чтобы первичная реплика была первым кандидатом для выполнения резервного копирования (то есть иметь приоритет резервного копирования >0). После завершения задания резервного копирования для базы данных-источника необходимо отключить задание резервного копирования, а после выполнения задания по восстановлению для выбранной базы данных-получателя — отключить задание восстановления.  
  
        > [!NOTE]  
        >  После создания всех баз данных-получателей для группы доступности, при необходимости проведения резервного копирования на вторичных репликах, нужно изменить параметры автоматического резервного копирования для группы доступности.  
  
         **Дополнительные сведения:**  
  
         [Необходимые условия для перехода с доставки журналов на группы доступности AlwaysOn &#40;SQL Server&#41;](prereqs-migrating-log-shipping-to-always-on-availability-groups.md)  
  
         [Настройка резервного копирования в репликах доступности (SQL Server)](configure-backup-on-availability-replicas-sql-server.md)  
  
2.  Как можно скорее присоедините все новые подготовленные базы данных-получатели к группе доступности.  
  
     **Дополнительные сведения:**  
  
     [Присоединение базы данных-получателя к группе доступности (SQL Server)](join-a-secondary-database-to-an-availability-group-sql-server.md)  
  
##  <a name="related-tasks"></a><a name="LaunchWiz"></a> Связанные задачи  
  
-   [Использование диалогового окна "Создание группы доступности" (среда SQL Server Management Studio)](use-the-new-availability-group-dialog-box-sql-server-management-studio.md)  
  
-   [Использование мастера добавления реплики в группу доступности (среда SQL Server Management Studio)](use-the-add-replica-to-availability-group-wizard-sql-server-management-studio.md)  
  
-   [Использование мастера добавления базы данных в группу доступности (среда SQL Server Management Studio)](availability-group-add-database-to-group-wizard.md)  
  
## <a name="see-also"></a>См. также  
 [Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md)  
  
  
