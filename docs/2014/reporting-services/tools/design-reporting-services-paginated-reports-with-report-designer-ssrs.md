---
title: Разработка отчетов с использованием конструктора отчетов (SSRS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- reporting-services-native
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Report Designer [Reporting Services], report creation
ms.assetid: 3a26dccc-6ad6-48f5-a882-f96c6c0dd405
caps.latest.revision: 74
author: douglaslM
ms.author: douglasl
manager: mblythe
ms.openlocfilehash: 811f80385261b9e688c76c6d7b472db210b7cb13
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2018
ms.locfileid: "36094961"
---
# <a name="design-reports-with-report-designer-ssrs"></a>Разработка отчетов с использованием конструктора отчетов (SSRS)
  Для создания полнофункциональных отчетов и систем отчетности служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] используется конструктор отчетов. Конструктор отчетов — это графический интерфейс, с помощью которого можно задавать источники данных, наборы данных, запросы, позиции макета отчета для областей данных и полей, а также такие интерактивные возможности, как параметры и наборы отчетов, которые работают совместно.  
  
## <a name="benefits-for-projects"></a>Преимущества для проектов  
 Используйте проекты для:  
  
-   хранения отчетов и связанных с ними элементов в одном контейнере;  
  
-   локальной проверки решений отчетности, включая отчеты и связанные с ними элементы;  
  
-   совместного развертывания взаимосвязанных элементов. Используйте свойства и настройки проекта для развертывания в различных средах;  
  
-   сохраняйте набор мастер-копий для отчетов и связанных с ними элементов. После развертывания опубликованные отчеты могут быть случайно изменены.  
  
 Используйте этот раздел для проектирования отчетов и связанных с ними элементов для одного проекта отчета в решении среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] . Дополнительные сведения о программах и нескольких проектах в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] см. в разделе [Службы Reporting Services в SQL Server Data Tools (службы SSDT)](reporting-services-in-sql-server-data-tools-ssdt.md).  
  
##  <a name="bkmk_SharedDataSources"></a> Общие источники данных  
 С помощью [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] можно определять и развертывать общие источники данных для системы отчетности. Общие источники данных могут развертываться независимо от других элементов проекта с помощью свойств **OverwriteDataSources** и **TargetDataSourceFolder** . Дополнительные сведения см. в разделе [Задание свойства развертывания (службы Reporting Services)](set-deployment-properties-reporting-services.md).  
  
 В конструкторе отчетов источники данных, используемые в отчете, можно задать в области данных отчета и в обозревателе решений. Дополнительные сведения см. в статье [Report Data Pane](reporting-services-in-sql-server-data-tools-ssdt.md#bkmk_ReportDataPane). Среда [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] не поддерживает открытие источников данных, опубликованных на сервере отчетов или на сайте SharePoint, но не включенных в решение [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] . Эти компоненты, используйте [построитель &#40;SSRS&#41;](report-builder-authoring-environment-ssrs.md).  
  
 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] — это клиентское средство. Проверить решение отчетности можно локально на своем компьютере, развернуть его в тестовой среде для проверки серверного решения, а затем развернуть в производственной среде. После развертывания проверьте, что для среды сервера отчетов заданы модули обработки источников данных и учетные данные для обращения к источникам данных. Управлять свойствами для различных развертываний поможет диспетчер конфигурации. Дополнительные сведения см. в разделе [Службы Reporting Services в SQL Server Data Tools (службы SSDT)](reporting-services-in-sql-server-data-tools-ssdt.md).  
  
 Дополнительные сведения см. в разделе [Подключения данных, источники данных и строки подключения в службе Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md).  
  
  
##  <a name="bkmk_SharedDatasets"></a> Общие наборы данных  
 Используйте [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] для определения и развертывания общих наборов данных для системы отчетности. Общие наборы данных могут развертываться независимо от других элементов проекта с помощью свойств **OverwriteDatasets** и **TargetDatasetFolder** . Дополнительные сведения см. в разделе [Задание свойства развертывания (службы Reporting Services)](set-deployment-properties-reporting-services.md).  
  
 В конструкторе отчетов общие наборы данных, используемые в отчете, можно задать в области данных отчета и в обозревателе решений. Дополнительные сведения см. в статье [Report Data Pane](reporting-services-in-sql-server-data-tools-ssdt.md#bkmk_ReportDataPane). Среда [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] не поддерживает открытие опубликованных наборов данных прямо с сервера отчетов или сайта SharePoint. Эти компоненты, используйте [построитель &#40;SSRS&#41; ](report-builder-authoring-environment-ssrs.md) в режиме общего набора данных.  
  
 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] — это клиентское средство. Можно использовать конструкторы запросов для локального создания и проверки результатов запросов в режиме предварительного просмотра. После развертывания можно управлять общими наборами данных независимо от общих источников данных и отчетов, от которых они зависят. Дополнительные сведения см. в разделе [внедренные наборы данных отчетов и общие наборы данных &#40;построитель отчетов и службы SSRS&#41;](../report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md), [средства проектирования запросов в отчет конструктор SQL Server Data Tools &#40;SSRS&#41; ](../report-data/query-design-tools-ssrs.md), и [Управление общими наборами данных](../report-data/manage-shared-datasets.md).  
  
  
##  <a name="bkmk_Reports"></a> Отчеты  
 Отчеты представляют собой файлы, хранимые в проекте отчета. Отчеты могут использоваться в качестве изолированных отчетов, вложенных отчетов или целей для детализации данных основных отчетов. Отчеты могут разворачиваться независимо от других элементов проекта с помощью свойства **TargetReportFolder** и других свойств. Дополнительные сведения см. в разделе [Задание свойства развертывания (службы Reporting Services)](set-deployment-properties-reporting-services.md).  
  
> [!NOTE]  
>  При публикации на сервере отчетов в режиме SharePoint некоторые функции решений для отчетов можно тестировать в проекте конструктора отчетов. В ссылках на отчеты, вложенные отчеты и детализированные отчеты должны использоваться полные URL-адреса, которые можно проверить только после развертывания проекта отчета. Дополнительные сведения см. в разделе [Примеры URL-адресов для элементов опубликованного отчета на сервере отчетов в режиме SharePoint (службы SSRS)](url-examples-for-items-on-a-report-server-sharepoint-mode.md).  
  
 Добавить отчет в проект можно следующими способами:  
  
-   **Добавить новый проект отчета.** По умолчанию пустой отчет открывается в конструкторе отчетов. Дополнительные сведения см. в разделе [Добавление в проект отчета нового или существующего отчета (службы SSRS)](add-a-new-or-existing-report-to-a-report-project-ssrs.md).  
  
-   **Добавить новый проект мастера отчетов.** Отчет создается шаг за шагом согласно инструкциям. Мастер отчетов разбивает процесс определения данных и разработку проекта отчета на последовательность шагов, формируя готовый отчет. Можно добавить стили, чтобы настроить мастер для вашей организации. Дополнительные сведения см. в разделе [Добавление в проект отчета нового или существующего отчета (службы SSRS)](add-a-new-or-existing-report-to-a-report-project-ssrs.md).  
  
-   **Добавить новый элемент типа "Отчет".** Пустой отчет открывается в конструкторе отчетов.  
  
-   **Добавить существующий элемент.** Существующее определение отчета (RDL-файл) открывается в конструкторе отчетов. При открытии отчета или проекта из более ранней версии служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] проект может автоматически обновиться до текущей версии, а отчет  — до текущей схемы. Дополнительные сведения см. в разделе [Upgrade Reports](../install-windows/upgrade-reports.md).  
  
-   **Импортировать отчет Access [!INCLUDE[msCoName](../../includes/msconame-md.md)].** Импорт всех отчетов из базы данных Access (MDB, ACCDB) или файла проекта (ADP). Конструктор отчетов преобразует каждый отчет из файла базы данных или файла проекта в формат языка определения отчетов (RDL) и сохраняет их в указанном проекте отчета. Не все функции отчета Access передаются в файл определения отчета (RDL). Дополнительные сведения см. в разделе [Импорт отчетов из Microsoft Access &#40;Reporting Services&#41;](../import-reports-from-microsoft-access-reporting-services.md) и [Поддерживаемые функции отчетов Access &#40;SSRS&#41;](../supported-access-report-features-ssrs.md).  
  
    > [!NOTE]  
    >  Чтобы использовать функцию импорта, необходимо, чтобы на компьютере, на котором установлен конструктор отчетов, был установлен Access 2002 или более поздняя версия. При импорте отчетов должен быть доступен источник данных для отчетов Access.  
  
-   **Работа непосредственно в RDL.** Если отчет создается в конструкторе отчетов, он сохраняется в формате XML как RDL-файл. Этот файл можно изменять с помощью конструктора отчетов, текстового редактора или любого другого средства, позволяющего изменять XML-файлы.  
  
     При изменении источника определения отчета в конструкторе отчетов работа ведется в текущей схеме RDL для версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , из которой устанавливались средства разработки. При построении проекта версия схемы может измениться в зависимости от свойств развертывания. Дополнительные сведения см. в разделе [Развертывание и поддержка версий в SQL Server Data Tools (службы SSRS)](deployment-and-version-support-in-sql-server-data-tools-ssrs.md).  
  
     Прямое изменение RDL-файла может привести к тому, что отчет нельзя будет ни запустить, ни опубликовать на сервере отчетов. Как и в любом другом XML-файле, убедитесь, что специальные символы, используемые внутри элементов, правильно закодированы. Сервер отчетов при публикации отчета использует эту схему для проверки содержащегося в RDL-файле XML-кода.  
  
     Чтобы включить элементы, не являющиеся частью схемы RDL, поместите их в элемент Custom. Элемент Custom может считываться пользовательскими модулями подготовки отчетов, но игнорируется модулями подготовки отчетов, полученными из служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]. Например, можно использовать элемент Custom для сохранения комментариев в отчете.  
  
     Дополнительные сведения см. в разделе [Язык определения отчетов (службы SSRS)](../reports/report-definition-language-ssrs.md).  
  
  
##  <a name="bkmk_ReportParts"></a> Элементы отчета  
 В конструкторе отчетов можно создавать таблицы, графики и другие элементы отчетов в проекте, а также публиковать их в виде *элементов отчета* на сервере отчетов или сайте SharePoint, интегрированном с сервером отчетов, для дальнейшего использования в других отчетах. Дополнительные сведения см. в разделе [Элементы отчетов в конструкторе отчетов (службы SSRS)](../report-design/report-parts-in-report-designer-ssrs.md).  
  
 Элементы отчета могут разворачиваться независимо от других элементов проекта с помощью свойства **TargetReportPartFolder** и других свойств. Дополнительные сведения см. в разделе [Задание свойства развертывания (службы Reporting Services)](set-deployment-properties-reporting-services.md).  
  
  
##  <a name="bkmk_Resources"></a> Ресурсы  
 Можно добавить в проект файлы, которые связаны с отчетом, но не обрабатываются сервером отчетов. Например, можно добавить изображения или файлы фигур ESRI для пространственных данных. Дополнительные сведения см. в статье [Resources](../report-server/report-server-content-management-ssrs-native-mode.md#bkmk_Resources).  
  
  
##  <a name="bkmk_ReportLayout"></a> Макет отчета  
 Чтобы создать макет отчета, перетащите элементы отчета и данные отчета с панели элементов в область конструктора и расположите их в нужном порядке. Чтобы добавить данные в отчет, перетащите поля набора данных в элементы в области конструктора. Чтобы объединить данные в группы в области данных табликса, перетащите поля набора данных на панель группировки. Поскольку средства разработки отчетов — это, в основном, средства создания определений отчетов, подход к проектированию отчетов в построителе отчетов и в конструкторе отчетов примерно один и тот же.  
  
  
##  <a name="bkmk_Preview"></a> Предварительный просмотр  
 Режим **Предварительный просмотр** позволит проверить данные отчета и макет отчета. Во время предварительного просмотра отчета процессор отчетов проверяет схему определения отчета и синтаксис выражений и отображает возможные проблемы в окне [Output](reporting-services-in-sql-server-data-tools-ssdt.md#bkmk_Output) .  
  
> [!NOTE]  
>  При осуществлении предварительного просмотра отчета данные для отчета кэшируются в файл на локальном компьютере. При повторном просмотре того же отчета (с использованием того же запроса, параметров и учетных данных) конструктор отчетов получает кэшированную копию вместо того, чтобы заново выполнять запрос. Файл данных сохраняется под именем *\<имя_отчета>*.rdl.data в том же каталоге, что и файл определения отчета. Этот файл не удаляется, когда конструктор отчетов закрывается.  
  
 Просмотреть отчет можно следующими способами:  
  
-   **Предварительный просмотр.** Перейдите на вкладку **Предварительный просмотр** . Отчет выполняется локально с теми же возможностями обработки отчета и подготовки к просмотру, что и на сервере отчетов. Отчет отображается как интерактивное изображение; можно выбирать параметры, щелкать ссылки, просматривать схему документа, разворачивать и сворачивать скрытые области отчета. Также можно экспортировать отчет в любой из установленных форматов подготовки к просмотру.  
  
-   **Автономный предварительный просмотр.** Выполнение локального отчета в браузере. Используя конфигурацию отладки, этот режим также можно использовать для отладки своих пользовательских сборок. Существует три способа выполнить проект в режиме отладки:  
  
    -   В меню **Отладка** выберите команду **Начать**.  
  
    -   На стандартной панели инструментов среды [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] нажмите кнопку **Пуск** .  
  
    -   Нажмите клавишу F5.  
  
     Если используется конфигурация проекта, которая строит отчет, но не развертывает его, отчет, указанный в `StartItem` свойство текущей конфигурации открывается в отдельном окне предварительного просмотра.  
  
    > [!NOTE]  
    >  Прежде чем использовать режим отладки, необходимо задать начальный элемент. В обозревателе решений щелкните правой кнопкой мыши проект отчета, нажмите кнопку **свойства**и в `StartItem`, выберите имя отчета для отображения.  
  
     Для предварительного просмотра конкретного отчета, не являющегося стартовым элементом проекта, выберите конфигурацию, которая строит отчет, но не развертывает его, например DebugLocal, щелкните правой кнопкой мыши отчет и выберите команду **Выполнить**. Необходимо выбрать конфигурацию, которая не развертывает отчет; в противном случае отчет будет опубликован на сервере отчетов вместо того, чтобы отобразиться локально в окне предварительного просмотра.  
  
-   **Предварительный просмотр.**  
  
     Когда отчет просматривается на вкладке «Предварительный просмотр» или в окне предварительного просмотра, он выглядит так, как если бы он был создан модулем подготовки отчетов в формате HTML. Отчет не является HTML-страницей, но его макет и разбиение на страницы подобны выходному формату HTML.  
  
     Вместо этого отчет можно просмотреть в таком виде, как если бы он был напечатан, путем переключения в режим просмотра печати. Щелкните значок **Предварительный просмотр** на панели инструментов предварительного просмотра. Отчет отобразится в таком виде, как если бы он был напечатан на бумаге. Этот режим просмотра похож на результат работы модуля подготовки отчетов в формате PDF и формате изображения. Предварительный просмотр не является изображением или PDF-файлом, но макет отчета и его разбиение на страницы подобны выходному результату в этих форматах. Можно выбрать размер изображения отчета, например, задать ширину страницы.  
  
     Предварительный просмотр позволяет выявить многие проблемы, которые могли бы возникнуть при печати отчета. Распространенные проблемы подготовки отчета включают:  
  
    -   Лишние пустые страницы, потому отчет слишком большой по ширине и не умещается на бумаге заданного размера.  
  
    -   Лишние пустые страницы, потому что отчет содержит матрицу, которая динамически расширяется за пределы ширины бумаги, заданной для отчета.  
  
    -   Разрывы страниц между группами не работают, как предполагалось.  
  
    -   Верхние и нижние колонтитулы не отображаются, как предполагалось.  
  
    -   Необходимо изменить макет отчета, чтобы отчет лучше читался в напечатанном виде.  
  
  
##  <a name="bkmk_SaveandDeploy"></a> Сохранение и развертывание  
 В конструкторе отчетов можно сохранить отчеты и другие файлы проекта локально, а также развернуть их на сервере отчетов или сайте SharePoint. Общие источники данных, общие наборы данных, отчеты, ресурсы отчетов и элементы отчетов могут разворачиваться независимо друг от друга или все вместе в зависимости от заданных свойств развертывания проекта. Дополнительные сведения см. в статье [Configuration and Deployment Properties](deployment-and-version-support-in-sql-server-data-tools-ssrs.md#bkmk_ConfigurationandDeploymentProperties).  
  
 Важно понимать, что при проектировании отчета в конструкторе отчетов используется схема определения отчета, которая поддерживается текущей версией служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]. Когда задаются свойства развертывания проекта для конкретного сервера отчетов или SharePoint, а затем сохраняется отчет, конструктор отчетов сохраняет определение отчета в папку построения в схеме, которая соответствует версии на целевом сервере отчетов. Чтобы создать отчеты, которые можно будет публиковать на сервере отчетов более низкого уровня, конструктор отчетов удаляет элементы отчета, которых нет в целевой схеме. Это происходит автоматически и без запроса на подтверждение. Когда это происходит, исходное определение отчета сохраняется в папке проекта. Измененное определение отчета, которое развертывается, находится в папке построения.  
  
> [!NOTE]  
>  Для отладки выражений и выявления ошибок развертывания следует использовать определение отчета в папке построения. Не используйте **Просмотр исходного кода**. Окно**Просмотр исходного кода** показывает источник определения отчета из папки проекта.  
  
 Дополнительные сведения см. в разделе [Развертывание и поддержка версий в SQL Server Data Tools (службы SSRS)](deployment-and-version-support-in-sql-server-data-tools-ssrs.md).  
  
### <a name="save-a-report-locally"></a>Локальное сохранение отчета  
 При работе с отчетом или другими элементами проекта в конструкторе отчетов файлы сохраняются на локальном компьютере или в общей папке на другом компьютере, к которому имеется есть доступ.  
  
 Если используется программное обеспечение управления версиями, то при сохранении отчеты могут возвращаться на сервер системы управления версиями. Дополнительные сведения см. в статье [Source Control](reporting-services-in-sql-server-data-tools-ssdt.md#bkmk_SourceControl).  
  
### <a name="deploy-or-publish"></a>Развертывание или публикация  
 Из среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]можно развернуть отчеты или другие элементы проекта на разных версиях серверов отчетов служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Используйте конфигурации проектов, чтобы управлять обновлением определений отчетов до версий схем, совместимых с целевыми серверами отчетов. Конфигурация проекта включает такие свойства, как целевой сервер отчетов, папка, где процесс построения временно сохраняет определения отчетов для предварительного просмотра и развертывания, и уровни ошибок. Дополнительные сведения см. в разделах [Свойства настройки и развертывания](deployment-and-version-support-in-sql-server-data-tools-ssrs.md#bkmk_ConfigurationandDeploymentProperties) и [Задание свойства развертывания (службы Reporting Services)](set-deployment-properties-reporting-services.md).  
  
### <a name="export-a-report-to-a-different-file-format"></a>Экспорт отчета в другой формат файла  
 Отчеты можно экспортировать во множество разных форматов, которые могут влиять на макет отчета и на работу некоторых интерактивных функций. Дополнительные сведения о проектировании отчетов для различных форматов вывода см. в разделе [экспорта отчетов &#40;построитель отчетов и службы SSRS&#41;](../report-builder/export-reports-report-builder-and-ssrs.md).  
  
  
##  <a name="bkmk_ReportValidationandErrorLevels"></a> Проверка отчета и уровни ошибок  
 Отчеты проверяются перед предварительным просмотром и во время развертывания. При создании отчетов можно столкнуться со следующими проблемами сборки. Отчет может содержать строки, например выражения или запросы, которые несовместимы с версией служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , указанной в конфигурации проекта.  
  
 Воспользуйтесь для управления предупреждениями и ошибками, полученными во время построения, свойством ErrorLevel. Значение свойства ErrorLevel может находиться в диапазоне от 0 до 4 включительно. Значение определяет, какие из проблем сборки помечаются как ошибки, а какие — как предупреждения. Значение по умолчанию — 2. Предупреждения и ошибки фиксируются в окне [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)][вывода](reporting-services-in-sql-server-data-tools-ssdt.md#bkmk_Output) .  
  
 Проблемы, степень серьезности которых меньше значения ErrorLevel или равна ему, выводятся как ошибки. В противном случае они помечаются как предупреждения.  
  
 В следующей таблице перечислены уровни ошибок.  
  
|Уровень ошибки|Описание|  
|-----------------|-----------------|  
|0|Наиболее серьезные и неизбежные проблемы, препятствующие просмотру и развертыванию отчетов.|  
|1|Серьезные проблемы сборки, которые коренным образом изменяют макет отчета.|  
|2|Менее серьезные проблемы сборки, которые незначительно изменяют макет отчета.|  
|3|Незначительные проблемы сборки, которые оказывают минимальное, практически незаметное влияние на макет отчета.|  
|4|Используется только для публикации предупреждений.|  
  
 При попытке просмотра или развертывания отчета, который содержит элементы, появившиеся в [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], например карты и гистограммы, эти элементы можно удалить из отчета. По умолчанию свойство ErrorLevel конфигурации установлено в значение 2, что приведет к ошибке сборки отчета при удалении карты. Однако если изменить значение свойства ErrorLevel на 0 или 1, то карта будет удалена, будет выдано предупреждение, но процесс сборки продолжится.  
  
  
## <a name="see-also"></a>См. также  
 [Службы Reporting Services в SQL Server Data Tools &#40;SSDT&#41;](reporting-services-in-sql-server-data-tools-ssdt.md)   
 [Средства разработки в отчет конструктора SQL Server Data Tools запросов &#40;SSRS&#41;](../report-data/query-design-tools-ssrs.md)   
 [Развертывание и поддержка версий в SQL Server Data Tools &#40;службы SSRS&#41;](deployment-and-version-support-in-sql-server-data-tools-ssrs.md)  
  
  