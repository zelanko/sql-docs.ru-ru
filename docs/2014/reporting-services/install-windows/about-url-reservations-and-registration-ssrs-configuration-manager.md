---
title: Сведения о резервировании и регистрации URL-адресов (диспетчер конфигурации служб SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- URL reservations
- URL registration
- Report Server service, URL reservations
ms.assetid: c2c460c3-e749-4efd-aa02-0f8a98ddbc76
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 6b72d0a263010cc82abab38ea2d6149d3492ed7b
ms.sourcegitcommit: 6fd8c1914de4c7ac24900fe388ecc7883c740077
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2020
ms.locfileid: "66108934"
---
# <a name="about-url-reservations-and-registration--ssrs-configuration-manager"></a>Сведения о резервировании и регистрации URL-адресов (диспетчер конфигурации служб SSRS)
  URL-адреса для приложений служб Reporting Services определяются в качестве резервирований URL-адресов в компоненте HTTP.SYS. Резервирование URL-адресов определяет синтаксис конечной точки URL-адреса к веб-приложению. При настройке приложений на сервере отчетов резервирование URL-адресов задается как для веб-службы сервера отчетов, так и для диспетчера отчетов. Резервирование URL-адресов создается автоматически при настройке URL-адресов в программе установке или программе настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .  
  
-   Программа установки создает резервирование URL-адресов на основе значений по умолчанию. Если производится установка в конфигурации по умолчанию, будет зарезервировано два URL-адреса: для веб-службы сервера отчетов и для диспетчера отчетов. Программа настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] позволяет добавить другие URL-адреса или изменить те, что созданы по умолчанию программой установки.  
  
-   Программа настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] создает резервирование на основе URL-адреса, указанного на ее страницах **URL-адрес веб-службы** и **URL-адрес диспетчера отчетов** .  
  
 Программа установки и программа настройки предоставляют службе сервера отчетов разрешения на этот URL-адрес, проверяют повторяющиеся экземпляры и добавляют резервирование URL-адресов в компонент HTTP.SYS. Создание и изменение резервирования URL-адресов для служб Reporting Services никогда не следует производить напрямую с помощью HttpCfg.exe и других средств. Если пропустить этот шаг или указать недопустимое значение, это может привести к проблемам, которые будет трудно выявить и исправить.  
  
> [!NOTE]  
>  Компонент HTTP.SYS — это компонент операционной системы, который прослушивает запросы из сети и маршрутизирует их в очередь запросов. В этой версии служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]компонент HTTP.SYS создает и обслуживает очередь запросов для веб-службы сервера отчетов и диспетчера отчетов. Службы IIS для размещения приложений служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и доступа к ним больше не используются. Дополнительные сведения о функциях компонента HTTP.SYS см. в статье MSDN [API-интерфейс HTTP-сервера](https://go.microsoft.com/fwlink/?LinkId=92652) (HTTP Server API).  
  
##  <a name="urls-in-reporting-services"></a><a name="ReportingServicesURLs"></a>URL-адреса в Reporting Services  
 В установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] с помощью URL-адресов можно получить доступ к следующим средствам, приложениям и элементам.  
  
-   веб-служба сервера отчетов  
  
-   Диспетчер отчетов  
  
-   построитель отчетов  
  
-   Отчеты, опубликованные на сервере отчетов  
  
 Другие опубликованные элементы, доступные с помощью URL-адреса, например модели и общие источники данных, не должны быть доступны как изолированные элементы. Сервер отчетов не отображает такие элементы в окне браузера в явном виде.  
  
> [!NOTE]  
>  В этом подразделе не описывается доступ с помощью URL-адресов к построителю отчетов или конкретным отчетам, хранящимся на сервере отчетов. Дополнительные сведения о доступе к таким элементам по URL-адресам см. в статье [Доступ к элементам сервера отчетов с использованием URL-адреса](../access-report-server-items-using-url-access.md) в электронной документации по [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
##  <a name="url-reservation-and-registration"></a><a name="URLreservation"></a>Резервирование и регистрация URL-адресов  
 Резервирование URL-адресов определяет URL-адреса, которые могут использоваться для доступа к приложению служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] резервируют несколько URL-адресов для веб-службы сервера отчетов и диспетчера отчетов в HTTP.SYS, а затем регистрируют их, когда служба запускается. URL-адреса отчетов и построителя отчетов формируются на основе резервирования URL-адресов веб-службы сервера отчетов. Открытие отчетов и построителя отчетов через веб-службу производится путем добавления параметров к URL-адресу. Сведения о резервировании и регистрации предоставляются компонентом HTTP.SYS. Дополнительные сведения см. в разделе [Резервирование пространства имен, регистрация и маршрутизация](https://go.microsoft.com/fwlink/?LinkId=92653) на MSDN.  
  
 *Резервирование URL-адресов* — процедура, в результате которой конечная точка URL веб-приложения создается и сохраняется в компоненте HTTP.SYS. Этот компонент является общим репозиторием резервирования URL-адресов, определенных на компьютере, и он определяет набор общих правил, которые гарантируют уникальность резервирований URL-адресов.  
  
 *Регистрация URL-адреса* происходит в момент запуска службы. Создается очередь запросов, после чего компонент HTTP.SYS начинает направлять в нее запросы. Чтобы запросы, адресованные URL-адресу конечной точки, попали в эту очередь, конечная точка должна быть зарегистрирована. При запуске службы сервера отчетов регистрируются все URL-адреса, которые зарезервированы для всех включенных приложений. Это означает, что веб-служба должна быть включена, чтобы регистрация прошла успешно. Если свойству **WebServiceAndHTTPAccessEnabled** присвоено значение **False** в настройке контактной зоны для аспекта служб Reporting Services управления на основе политик, то URL-адрес веб-службы не будет зарегистрирован при ее запуске.  
  
 Отмена регистрации URL-адресов происходит при остановке службы, а также при очистке домена приложения веб-службы или диспетчера отчетов. При изменении резервирования URL-адресов в процессе работы службы сервер отчетов производит немедленную очистку домена приложения, чтобы отменить регистрацию старого URL-адреса и зарегистрировать новый.  
  
 Несколько простых примеров проиллюстрируют основные понятия о резервировании URL-адресов и его связь с URL-адресами, используемыми в приложениях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Главное, на что следует обратить внимание, — это отличия синтаксиса резервирования URL-адресов от синтаксиса URL-адресов для доступа к приложениям.  
  
|Резервирование URL-адресов в компоненте HTTP.SYS|URL-адрес|Объяснение|  
|---------------------------------|---------|-----------------|  
|http://+:80/reportserver|http://\<имя_компьютера>/ReportServer<br /><br /> http://\<IPAddress>/ReportServer<br /><br /> http://localhost/reportserver|Для резервирования URL-адресов указывается шаблон (+) и номер порта 80. Этот запрос помещает в очередь сервера запросов все входящие запросы по порту 80, предназначенные любому узлу, который соответствует компьютеру сервера отчетов. Обратите внимание, что при таком резервировании URL-адресов для доступа к серверу отчетов может быть использовано любое число URL-адресов.<br /><br /> Это резервирование URL-адресов действует по умолчанию для служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в большинстве операционных систем.|  
|http://123.45.67.0:80/reportserver|http://123.45.67.0/reportserver|Такое резервирование URL-адресов точно задает IP-адрес и поэтому является значительно более ограниченным, чем резервирование URL-адресов по шаблону. Только URL-адреса, включающие данный IP-адрес, могут подключаться к серверу отчетов. При заданном резервировании URL-адреса запрос к серверу отчетов по\<адресу http://ComputerName http://localhost/reportserver>/ReportServer или завершится ошибкой.|  
  
##  <a name="default-urls"></a><a name="DefaultURLs"></a>URL-адреса по умолчанию  
 При установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в конфигурации по умолчанию программа установки резервирует URL-адреса для веб-службы сервера отчетов и диспетчера отчетов. При определении резервирования URL-адресов в программе настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] можно также принять значения по умолчанию. URL-адреса по умолчанию включают имя экземпляра, если устанавливается выпуск [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] либо если службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] устанавливаются как именованный экземпляр.  
  
> [!IMPORTANT]  
>  Символом экземпляра является символ подчеркивания (`_`).  
  
 Резервирование URL-адресов включает номер порта. Следующие операционные системы допускают работу нескольких веб-приложений через один и тот же порт:  
  
1.  [!INCLUDE[win8srv](../../includes/win8srv-md.md)]  
  
2.  [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)]  
  
3.  [!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)]  
  
4.  [!INCLUDE[win7](../../includes/win7-md.md)]  
  
5.  [!INCLUDE[wiprlhlong](../../includes/wiprlhlong-md.md)]  
  
|Тип экземпляра|Приложение|URL-адрес по умолчанию|Фактическое резервирование URL-адресов в компоненте HTTP.SYS|  
|-------------------|-----------------|-----------------|----------------------------------------|  
|Экземпляр по умолчанию|веб-служба сервера отчетов|http://\<ServerName>/ReportServer|http://\<ServerName>:80/ReportServer|  
|Экземпляр по умолчанию|Диспетчер отчетов|http://\<ServerName>/ReportServer|http://\<ServerName>:80/ReportServer|  
|Именованный экземпляр|веб-служба сервера отчетов|http://\<ServerName>/reportserver_\<instanceName>|http://\<ServerName>:80/reportserver_\<instanceName>|  
|Именованный экземпляр|Диспетчер отчетов|http://\<ServerName>/reports_\<instanceName>|http://\<ServerName>:80/reports_\<instanceName>|  
|SQL Server Express|веб-служба сервера отчетов|http://\<ServerName>/reportserver_SQLExpress|http://\<ServerName>:80/reportserver_SQLExpress|  
|SQL Server Express|Диспетчер отчетов|http://\<ServerName>/reports_SQLExpress|http://\<ServerName>:80/reports_SQLExpress|  
  
##  <a name="authentication-and-service-identity-for-reporting-services-urls"></a><a name="URLPermissionsAccounts"></a>Проверка подлинности и удостоверение службы для Reporting Services URL-адресов  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] указывается учетная запись службы для службы сервера отчетов. Учетная запись, под которой запускается служба, используется для всех URL-адресов, созданных для приложений служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , запускаемых в одном экземпляре. Удостоверение службы экземпляра сервера отчетов сохраняется в файле конфигурации RSReportServer.config.  
  
 Учетная запись службы не имеет значения по умолчанию. Однако ее указание во время установки обязательно и сохраняется в параметре `URLReservation` файла RSReportServer.config даже в том случае, если установка производится в режиме «только файлы». В качестве учетной записи службы можно указать учетную запись пользователя домена, `LocalSystem` или `NetworkService`.  
  
 Анонимный доступ отключен, поскольку по умолчанию действует уровень безопасности `RSWindowsNegotiate`. Для доступа через интрасеть в URL-адресах сервера отчетов используются сетевые имена компьютеров. Настройка служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] для работы через Интернет выполняется иначе. Дополнительные сведения о проверке подлинности RSWindowsNTLM и RSWindowsBasic см. в разделе [Проверка подлинности с использованием сервера отчетов](../security/authentication-with-the-report-server.md) электронной документации по [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
##  <a name="urls-for-local-administration"></a><a name="URLlocalAdmin"></a> URL-адреса для локального администрирования  
 Если для резервирования URL-адреса указаны строгие или слабые шаблоны, можно использовать http://localhost/reportserver или http://localhost/reports.  
  
 URL-адрес http://localhost будет интерпретироваться как http://127.0.0.1. Если резервирование URL-адресов ограничено до имени компьютера или точного IP-адреса, localhost указывать можно только в том случае, если при этом создается дополнительное резервирование на локальном компьютере по адресу 127.0.0.1. Аналогичным образом, если localhost или адрес 127.0.0.1 на данном компьютере запрещены, использовать такой URL-адрес будет нельзя.  
  
 [!INCLUDE[wiprlhlong](../../includes/wiprlhlong-md.md)] и [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] имеют новые средства безопасности, позволяющие свести к минимуму риск случайного запуска программ с повышенными правами доступа. Для этих операционных систем придется выполнить ряд дополнительных шагов для разрешения локального администрирования. Дополнительные сведения см. в разделе [Настройка сервера отчетов, работающего в основном режиме, для локального администрирования (службы SSRS)](../report-server/configure-a-native-mode-report-server-for-local-administration-ssrs.md).  
  
##  <a name="urls-for-report-server-in-sharepoint-integrated-mode"></a><a name="URLSharePoint"></a>URL-адреса для сервера отчетов в режиме интеграции с SharePoint  
 Если изолированный сервер отчетов настроен для работы в составе более широкого развертывания продукта или технологии SharePoint, это скажется на структуре URL-адреса виртуального каталога следующим образом.  
  
-   URL-адреса для отчетов и прочих элементов адресуются с помощью URL-адресов веб-приложений SharePoint. Для доступа к конкретным отчетам с помощью URL-адресов необходимо указывать полный URL-адрес, включающий путь к сайту, библиотеку документов, имя элемента и расширение файла (для отчета это RDL). Полный URL-адрес необходимо указывать при ссылках в отчетах на общие источники данных и модели, а также при указании целевого сервера и папки для операций публикации на сервере отчетов.  
  
-   Расширение имени файла позволяет отличать различные типы элементов отчета, находящихся на сервере. К допустимым расширениям относятся RDL (определения отчетов), SMDL (модели отчетов) и RSDS (общие источники данных, созданные для сайта SharePoint).  
  
-   Хотя для продуктов и технологий SharePoint определено собственное резервирование URL-адресов, при публикации на сервере их можно не учитывать. Для веб-приложений SharePoint резервирование URL-адресов является внутренней операцией.  
  
-   Для развертываний с одним сервером, в котором на одном компьютере установлен интегрированный сервер отчетов и экземпляр технологии SharePoint, нельзя http://localhost/reportserverиспользовать. Если http://localhost для доступа к веб-приложению SharePoint используется, для доступа к серверу отчетов необходимо использовать веб-сайт не по умолчанию или назначить уникальный порт. Кроме того, если сервер отчетов интегрирован с фермой SharePoint, то при доступе к серверу отчетов по адресу «localhost» невозможно будет выполнить преобразование адреса для узлов развертывания на удаленных компьютерах.  
  
-   Резервирование URL-адресов и конечная точка для диспетчера отчетов не могут быть настроены на сервере отчетов, работающем в режиме интеграции с SharePoint. В противном случае он перестанет работать после развертывания сервера отчетов в режиме интеграции с SharePoint. Диспетчер отчетов не поддерживается в этом режиме.  
  
 При интеграции масштабного развертывания сервера отчетов для запуска в составе более широкой конфигурации продукта или технологии SharePoint необходимо распределить нагрузку между узлами сервера отчетов и определить единый URL-адрес виртуального сервера для всей конфигурации масштабного развертывания. Параметры интеграции сервера отчетов позволяют указать всего один URL-адрес сервера отчетов. При масштабном развертывании URL-адрес должен быть точкой доступа для узлов серверов в масштабном развертывании.  
  
## <a name="see-also"></a>См. также  
 [Настройка URL-адреса &#40;SSRS Configuration Manager&#41;](configure-a-url-ssrs-configuration-manager.md)   
 [Синтаксис резервирования URL-адресов (диспетчер конфигурации служб SSRS)](url-reservation-syntax-ssrs-configuration-manager.md)  
  
  
