---
title: Тип подключения к XML (службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: 5b55fff2-1b15-4156-83ef-15ad9cf9f509
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 6d9f5c70e0457009f71c3b9087ecf9f1354a8835
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "66106928"
---
# <a name="xml-connection-type-ssrs"></a>Тип соединения XML (службы SSRS)
  Чтобы включить данные из источника XML-данных в отчет, необходим набор данных, основанный на источнике данных отчета типа XML. Этот встроенный тип источника данных основан на модуле обработки данных XML. Используйте этот тип источника данных для подключения и получения данных из внедренных в запрос XML-документов, веб-служб и данных XML.  
  
 Этот модуль обработки данных поддерживает параметры и учетные данные, управляемые отдельно с помощью строки подключения.  
  
 Используйте сведения в этом разделе для создания источника данных. Пошаговые инструкции см. в статьях [Добавление и проверка подключения к данным или источника данных &#40;построитель отчетов и служб SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).  
  
##  <a name="Connection"></a>Строка подключения  
 Строка соединения должна представлять собой URL-адрес, указывающий на веб-службу, веб-приложение или XML-документ, доступный по протоколу HTTP. XML-документы должны иметь расширение XML. Для XML-данных, внедренных в запрос набора данных, можно также задать пустую строку соединения.  
  
 Следующие примеры иллюстрируют синтаксис строки соединения для веб-службы и XML-документа соответственно. Протокол `file://` не поддерживается.  
  
|Типы XML-документов|Пример строки соединения|  
|-----------------------|-------------------------------|  
|Веб-служба|`http://adventure-works.com/results.aspx`|  
|XML-документ|`http://localhost/XML/Customers.xml`|  
|Внедренный XML-документ|*Указано*|  
  
 Дополнительные примеры строк соединения см. в разделе [Подключения к данным, источники данных и строки подключения в построителе отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md).  
  
##  <a name="Credentials"></a>Информации  
 Учетные данные необходимы для запуска запросов, локального предварительного просмотра отчетов, а также для предварительного просмотра отчетов на сервере отчетов.  
  
 После публикации отчета может понадобиться изменить учетные данные источника данных, чтобы разрешения, необходимые для получения данных при запуске отчета на сервере отчетов, были допустимыми.  
  
 Клиент, используемый для создания отчетов, имеет следующие параметры для указания учетных данных.  
  
-   Текущий пользователь Windows (встроенная безопасность).  
  
-   Учетные данные не требуются. Если учетные данные не заданы, будет применяться анонимный доступ. Убедитесь, что для соединения сервера отчетов с внешним источником данных определена учетная запись автоматического выполнения. Модуль обработки XML-данных не передает учетные данные целевому URL-адресу или веб-службе. Если не определена учетная запись автоматического выполнения, соединение закончится ошибкой. Дополнительные сведения см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) в [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]электронной документации по службам [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [](https://go.microsoft.com/fwlink/?linkid=121312) на сайте msdn.microsoft.com.  
  
 Сохраненные и запрашиваемые учетные данные не поддерживаются. Помните, что если отключить встроенную безопасность Windows, получить данные будет невозможно. Если заданы хранимые учетные данные, или их предлагается ввести, во время выполнения возникнет ошибка.  
  
 Дополнительные сведения см. в разделе [подключения к данным, источники данных и строки подключения в Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) или [укажите учетные данные в построитель отчетов](../specify-credentials-in-report-builder.md).  
  
##  <a name="Query"></a>Запроса  
 Запрос указывает, какие данные для набора данных отчета необходимо получить. Столбцы результирующего набора запроса заполняют коллекцию полей набора данных. Отчет обрабатывает только первый результирующий набор, полученный по запросу.  
  
 Для создания запроса используйте текстовый конструктор запросов. Запрос должен возвращать XML-данные.  
  
 Дополнительные сведения о текстовом конструкторе запросов см. в разделе [Пользовательский интерфейс текстового конструктора запросов (построитель отчетов)](text-based-query-designer-user-interface-report-builder.md).  
  
 Возможные значения запроса набора данных к источнику данных с типом XML представлены ниже.  
  
-   *Empty*: для создания результирующего набора по умолчанию используется пустой запрос. Запрос по умолчанию создается путем считывания источника данных и поиска в иерархии узлов XML первой коллекции концевых узлов. Результирующий набор включает все узлы с текстовыми значениями и все атрибуты узлов по этому пути. Столбцы в результирующем наборе соответствуют полям набора данных.  
  
-   Путь к элементу: определяет последовательность узлов, используемую при извлечении XML-данных из источника данных.  
  
-   Элемент XML-запроса: Спецификация XML-запроса со следующими необязательными элементами:  
  
    -   **Для веб-службы:**  
  
         Обязательные XML-элементы:  
  
         `<Method Namespace=`*"пространство имен"*  `Name="MethodName" />`  
  
         `-- or --`  
  
         `<SoapAction>` *действие SOAP* `</SoapAction>`  
  
         Необязательные XML-элементы:  
  
         `<ElementPath>`  *путь к элементу*  `</ElementPath>`  
  
         `<Method Namespace=`*"пространство имен"*  `Name="MethodName" />`  
  
         `-- or --`  
  
         `<SoapAction>` *действие SOAP* `</SoapAction>`  
  
    -   **Для XML-документа:**  
  
         Необязательные XML-элементы:  
  
         `<ElementPath>`  *путь к элементу*  `</ElementPath>`  
  
    -   **Для внедренного XML-документа:**  
  
         Обязательные XML-элементы:  
  
         `<XmlData>`внутренний XML`</XmlData>`  
  
         Необязательные XML-элементы:  
  
         `<ElementPath>`  *путь к элементу*  `</ElementPath>`  
  
         `-- or --`  
  
         `<ElementPath IgnoreNamespaces="true">`  *путь к элементу*  `</ElementPath>`  
  
 Дополнительные сведения о синтаксисе запроса см. в разделе [Синтаксис запроса XML для XML-данных отчета (службы SSRS)](report-data-ssrs.md) документации к службам [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в электронной документации[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [ по ](https://go.microsoft.com/fwlink/?linkid=121312) на сайте msdn.microsoft.com.  
  
 Примеры см. в техническом документе [Reporting Services: Using XML and Web Service Data Sources](https://go.microsoft.com/fwlink/?LinkId=81654)(Службы Reporting Services: использование источников XML-данных и источников данных веб-служб).  
  
### <a name="requirements-for-retrieving-xml-web-service-data"></a>Требования для получения XML-данных веб-службы  
 Модуль обработки XML-данных не обнаруживает схему самостоятельно. Поэтому необходимо определить, какой метод SOAP будет получать нужные данные. Необходимо также представлять себе схему адресации или пространство имен, которые веб-служба использует для своих данных.  
  
 Для веб-службы можно указать элемент <`Query`>, указывающий вызываемый метод или действие SOAP. Можно оставить запрос пустым и использовать запрос по умолчанию, если источник данных XML имеет иерархическую структуру, предоставляющую нужные для отчета данные. Значения и атрибуты узлов XML-элементов, полученные при выполнении запроса, привязываются к полям набора данных в отчете.  
  
### <a name="requirements-for-retrieving-xml-document-data"></a>Требования для получения данных XML-документа  
 Используя протокол HTTP, сервер должен возвратить XML-данные, либо XML-данные должны быть внедрены в элемент XML `Query`. При прямой ссылке на XML-документ по протоколу HTTP этот документ должен иметь расширение XML.  
  
 Необходимо знать, как создавать XML-запрос, который будет получать нужные данные. Если путь к элементу не задан, по умолчанию при анализе XML-документа выбирается первый доступный путь к коллекции концевых узлов XML-документа. Если XML-документ включает дополнительные пути к другим коллекциям одноуровневых узлов, эти узлы будут пропускаться, если в запросе не задан путь.  
  
 Путь к элементу можно указать с помощью синтаксиса XML, схожего с XQuery.  
  
 Дополнительные сведения см. в разделе [Синтаксис пути к элементу для XML-данных отчета (службы SSRS)](element-path-syntax-for-xml-report-data-ssrs.md) документации к службам [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в электронной документации[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [ по ](https://go.microsoft.com/fwlink/?linkid=121312) на сайте msdn.microsoft.com.  
  
##  <a name="Parameters"></a> Параметры  
 Запрос не анализируется для определения параметров.  
  
 Чтобы добавить параметры необходимо создать их вручную на странице **Параметр** диалогового окна [Свойства набора данных](../dataset-properties-dialog-box-parameters-report-builder.md) .  
  
##  <a name="Remarks"></a> Замечания  
 Модуль обработки XML-данных поддерживает создание отчетов для XML-данных, имеющих табличную, а не иерархическую структуру. Дополнительные сведения см. в разделе [Добавление данных из внешних источников данных (службы SSRS)](add-data-from-external-data-sources-ssrs.md).  
  
 Встроенная поддержка для получения XML-документов из базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] отсутствует.  
  
##  <a name="HowTo"></a> Инструкции  
 В этом разделе содержатся пошаговые инструкции по работе с подключениями к данным, источниками данных и наборами данных.  
  
 [Добавление и проверка подключения к данным или источника данных &#40;построитель отчетов и служб SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md)  
  
 [Создание общего набора данных или внедренного набора данных &#40;построитель отчетов и служб SSRS&#41;](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md)  
  
 [Добавление фильтра в набор данных &#40;построитель отчетов и SSRS&#41;](add-a-filter-to-a-dataset-report-builder-and-ssrs.md)  
  
##  <a name="Related"></a>Связанные разделы  
 В этих разделах документации содержатся подробные сведения о данных отчетов, а также методические сведения об определении, настройке и использовании элементов отчетов, связанных с данными.  
  
 [Добавление данных в построитель отчетов &#40;отчетов и SSRS&#41;](report-datasets-ssrs.md)  
 Предоставляет общие сведения о доступе к данным отчета.  
  
 [Подключения к данным, источники данных и строки подключения в построителе отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md)  
 Предоставляет сведения о подключениях к данным и источникам данных.  
  
 [Внедренные и общие наборы данных отчета (построитель отчетов и службы SSRS)](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)  
 Предоставляет сведения об общих и внедренных наборах данных.  
  
 [Коллекция полей набора данных (построитель отчетов и службы SSRS)](dataset-fields-collection-report-builder-and-ssrs.md)  
 Предоставляет сведения о коллекции полей набора данных, создаваемой запросом.  
  
 [Источники данных, поддерживаемые Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) в [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] документации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [электронной документации](https://go.microsoft.com/fwlink/?linkid=121312)по.  
 Предоставляет подробные сведения о поддержке платформ и версий для каждого модуля обработки данных.  
  
## <a name="see-also"></a>См. также:  
 [Параметры отчета (построитель отчетов и конструктор отчетов)](../report-design/report-parameters-report-builder-and-report-designer.md)   
 [Фильтрация, группирование и сортировка данных (построитель отчетов и службы SSRS)](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md)   
 [Выражения (построитель отчетов и службы SSRS)](../report-design/expressions-report-builder-and-ssrs.md)  
  
  
